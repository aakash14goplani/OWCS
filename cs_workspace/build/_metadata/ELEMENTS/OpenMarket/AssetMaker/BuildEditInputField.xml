<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Revision: 12 $ 
$Modtime: 2/27/04 3:19p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- BuildEditInputField.xml
-
- DESCRIPTION
-
- HISTORY 
-->

 <setvar NAME="helpimage" VALUE="Variables.cs_imagedir/data/empty.gif"/>
<setvar NAME="alttext" VALUE="Variables.empty"/>
<if COND="IsVariable.assetmaker/property/Variables.fieldname/inputform/instruction=true">
<then>
	<setvar NAME="helpimage" VALUE="Variables.cs_imagedir/graphics/common/icon/help_new.png"/>
	<setvar NAME="alttext" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/instruction"/>
</then>
</if>

<if COND="IsVariable.assetmaker/property/Variables.fieldname/inputform/width=true">
<then>
	<setvar NAME="inputfieldsize" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/width"/>
</then>
<else>
	<setvar NAME="inputfieldsize" VALUE="10"/>
</else>
</if>

<if COND="IsVariable.assetmaker/property/Variables.fieldname/inputform/maxlength=true">
<then>
	<setvar NAME="inputmaxlength" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/maxlength"/>
</then>
<else>
	<if COND="IsVariable.assetmaker/property/Variables.fieldname/storage/length=true">
	<then>
		<setvar NAME="inputmaxlength" VALUE="Variables.assetmaker/property/Variables.fieldname/storage/length"/>
	</then>
	<else>
		<setvar NAME="inputmaxlength" VALUE="10"/>
	</else>
	</if>
</else>
</if>
<setvar NAME="datatype" VALUE="Variables.assetmaker/property/Variables.fieldname/storage/type"/>
<if COND="Variables.datatype=TIMESTAMP">
<then>
	<SUBSTRING 
      STR="Variables.fieldvalue"
      OUTSTR="substring"
      INDEX="0"
      ENDINDEX="19" REPLACEALL="Variables.fieldvalue"/>
	<if COND="IsVariable.substring=false">
	<then>
		<setvar name="substring" value=""/>
	</then>
	<else>
		<callelement NAME="OpenMarket/Xcelerate/Util/ConvertJDBCDateTimeZone">
			<ARGUMENT NAME="inputDate" VALUE="Variables.substring" />
			<ARGUMENT NAME="fromTimeZone" VALUE="server"/>
			<ARGUMENT NAME="toTimeZone" VALUE="client"/>
		</callelement>
		<setvar NAME="substring" VALUE="Variables.outputDate"/>
	</else>
	</if>
	<setvar NAME="defaultFormStyleClass" VALUE="" />
	<if COND="Variables.defaultFormStyle=true">
	<then>
		<setvar NAME="defaultFormStyleClass" VALUE="defaultFormStyle" />
	</then>
	</if>
	<div style="display: table;">
		
		<callelement NAME="OpenMarket/Gator/AttributeTypes/TextBox">
			<argument NAME="inputName" VALUE="Variables.AssetType:Variables.fieldname"/>
			<argument NAME="inputValue" VALUE="Variables.substring"/>
			<argument NAME="inputSize" VALUE="Variables.inputfieldsize"/>
			<argument NAME="inputMaxlength" VALUE="Variables.inputmaxlength"/>
			<argument name="applyDefaultFormStyle" value='Variables.defaultFormStyleClass' />
		</callelement>		
		<div style="display: table-cell;  white-space: nowrap;">
			&nbsp; (yyyy-mm-dd hh:mm:ss)
		</div>
	</div>
	<script type="text/javascript"><![CDATA[
	dateFields.push("]]><STRING.STREAM VALUE="Variables.AssetType:Variables.fieldname" ENCODE="false" ESCAPE="true"/><![CDATA[");
	]]></script>
	<REMOVEVAR NAME='defaultFormStyleClass'/>
	<removevar NAME="substring" />
</then>
<else>
	<setvar NAME="OutputQString"  VALUE="Variables.empty"/>

	<callelement NAME="OpenMarket/Gator/AttributeTypes/TextBox">
		<argument NAME="inputName" VALUE="Variables.AssetType:Variables.fieldname"/>
		<argument NAME="inputValue" VALUE="Variables.fieldvalue"/>
		<argument NAME="inputSize" VALUE="Variables.inputfieldsize"/>
		<argument NAME="inputMaxlength" VALUE="Variables.inputmaxlength"/>
		<argument name="applyDefaultFormStyle" value='Variables.defaultFormStyle' />
	</callelement>
</else>
</if>
<IMG style="vertical-align: middle;margin-left: 5px;" SRC="Variables.helpimage" ALT="Variables.alttext" REPLACEALL="Variables.alttext,Variables.helpimage" TITLE="Variables.alttext" />
<removevar NAME="alttext"/>
</FTCS> 
