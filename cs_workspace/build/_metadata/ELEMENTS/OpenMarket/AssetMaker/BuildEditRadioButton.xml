<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Revision: 16 $ 
$Modtime: 7/02/04 4:23p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- BuildEditRadioButton.xml
-
- DESCRIPTION
-
- HISTORY 
-->
<setvar NAME="helpimage" VALUE="Variables.cs_imagedir/data/empty.gif"/>
<setvar NAME="alttext" VALUE="Variables.empty"/>
<if COND="IsVariable.assetmaker/property/Variables.fieldname/inputform/instruction=true">
<then>
	<setvar NAME="helpimage" VALUE="Variables.cs_imagedir/graphics/common/icon/help_new.png"/>
	<setvar NAME="alttext" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/instruction"/>
</then>
</if>

<setvar NAME="radiosourcetype" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/sourcetype"/>

<if COND="Variables.radiosourcetype=TABLE">
<then>
	<setvar NAME="tablename" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/tablename"/>
	<setvar NAME="errno" VALUE="0"/>
	<setvar NAME="rbvaluekey" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/rbvaluekey"/>
	<setvar NAME="rbdesckey" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/rbdesckey"/>
	<setvar NAME="selectsql" VALUE="SELECT Variables.rbvaluekey,Variables.rbdesckey
									FROM Variables.tablename ORDER BY Variables.rbdesckey"/>
	<if COND="IsVariable.assetmaker/property/Variables.fieldname/inputform/sql=true">
	<then>
		<setvar NAME="selectsql" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/sql"/>
		<setvar NAME="selectsql" VALUE="Variables.selectsql"/>   <!-- to resolve any variables in the query -->
	</then>
	</if>

	<execsql LIST="RBList" SQL="Variables.selectsql"/>
	<if COND="IsError.Variables.errno=false">
	<then>
		<SUBSTITUTE STR="Variables.fieldvalue" WHAT=";" WITH="," OUTSTR="fldvallist"/>
		<loop LIST="RBList">
			<setvar NAME="rbvalue" VALUE="RBList.Variables.rbvaluekey"/>
			<setvar NAME="errno" VALUE="0"/>
			<ISINLIST ITEM="Variables.rbvalue" STR="Variables.fldvallist"/>
			<if COND="Variables.errno=1">
			<then>
					<INPUT TYPE="RADIO" CHECKED="yes" ONCLICK="setTabDirty()" NAME="Variables.AssetType:Variables.fieldname" VALUE="Variables.rbvalue" REPLACEALL="Variables.fieldname,Variables.rbvalue,Variables.AssetType"/><STRING.STREAM LIST="RBList" COLUMN="Variables.rbdesckey"/>
			</then>
			<else>
					<INPUT TYPE="RADIO" ONCLICK="setTabDirty()" NAME="Variables.AssetType:Variables.fieldname" VALUE="Variables.rbvalue" REPLACEALL="Variables.fieldname,Variables.rbvalue,Variables.AssetType"/><STRING.STREAM LIST="RBList" COLUMN="Variables.rbdesckey"/>
			</else>
			</if>
	
			<if COND="RBList.#curRow=1">
			<then>
				<IMG style="vertical-align: middle;margin-left: 10px;" SRC="Variables.helpimage" ALT="Variables.alttext" REPLACEALL="Variables.alttext,Variables.helpimage" TITLE="Variables.alttext" />
			</then>
			</if>
			<BR/>
	
		</loop>
	</then>
	<else>
		<XLAT.STREAM KEY="dvin/Assetmaker/ErrorQuery" errno="Variables.errno" selectsql="Variables.selectsql" EVALALL="false"/>  
	</else>
	</if>	
</then>
</if>

<if COND="Variables.radiosourcetype=STRING">
<then>
	<setvar NAME="rbvalues" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/rbvalues"/>
	<setvar NAME="rbdescriptions" VALUE="Variables.assetmaker/property/Variables.fieldname/inputform/rbdescriptions"/>
	<stringlist NAME="rbvlist" STR="Variables.rbvalues" DELIM=","/>
	<stringlist NAME="rbdesclist" STR="Variables.rbdescriptions" DELIM=","/>
	<SUBSTITUTE STR="Variables.fieldvalue" WHAT=";" WITH="," OUTSTR="fldvallist"/>
	<loop LIST="rbvlist">
		<setvar NAME="errno" VALUE="0"/>
		<ISINLIST ITEM="rbvlist.ITEM" STR="Variables.fldvallist"/>
		<if COND="Variables.errno=1">
		<then>
				<INPUT TYPE="RADIO" ONCLICK="setTabDirty()" CHECKED="yes" NAME="Variables.AssetType:Variables.fieldname" VALUE="rbvlist.ITEM" REPLACEALL="Variables.fieldname,rbvlist.ITEM,Variables.AssetType"/><STRING.STREAM VALUE="rbdesclist.ITEM"/>
		</then>
		<else>
				<INPUT TYPE="RADIO" ONCLICK="setTabDirty()" NAME="Variables.AssetType:Variables.fieldname" VALUE="rbvlist.ITEM" REPLACEALL="Variables.fieldname,rbvlist.ITEM,Variables.AssetType"/><STRING.STREAM VALUE="rbdesclist.ITEM"/>
		</else>
		</if>

		<if COND="rbvlist.#curRow=1">
		<then>
			<IMG style="vertical-align: middle; margin-left: 10px;" SRC="Variables.helpimage" ALT="Variables.alttext" REPLACEALL="Variables.alttext,Variables.helpimage" TITLE="Variables.alttext" />
		</then>
		</if>
		<BR/>

		<setrow LIST="rbdesclist" ACTION="NEXT"/>
	</loop>
</then>
</if>
<removevar NAME="alttext"/>
</FTCS> 
