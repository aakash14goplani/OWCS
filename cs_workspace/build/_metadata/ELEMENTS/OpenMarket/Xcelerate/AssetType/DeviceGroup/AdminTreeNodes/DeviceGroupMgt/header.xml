<?XML VERSION="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.0">

<!-- OpenMarket/Xcelerate/AssetType/DeviceGroup/AdminTreeNodes/DeviceGroupMgt/header

-
- INPUT
-
- OUTPUT
-
-->

<SCRIPT LANGUAGE="JavaScript">
    <![CDATA[
    function savepriority(form)
    {
		var rows = dojo.query('tr[name="deviceGroupRow"]'); 
		var order = "";
		for(var i = 0;i<rows.length;i++)
		order = order + rows[i].id+":"+(i+1)+",";           //First row in the list has highest priority
		
		var orderField = document.createElement("input");
		orderField.setAttribute("name","order");
		orderField.setAttribute("value",order);
		orderField.setAttribute("type","hidden");
		form.appendChild(orderField);
		form.submit();  
    }
    
    
	function doSubmit(form)
	{
	  submitCreateForm(form);
	}

function submitDeleteDeviceGroup(form)
{
if(form.devicegroupname.value == "")
{
//show list of device groups, by calling search device groups
showSearchResults(form);
}
else
{
//if name didn't match with any device group,show a msg with back button
//find id corresponding to this devoce group, delete it 
modifyDeleteDeviceGroup(form,"delete");
}
}


function submitModifyDeviceGroup(form,formField,devicegroupnameField)
{

if(form.devicegroupname.value == "")
{
//show list of device groups, by calling search device groups
showSearchResults(form);
}
else
{
//if name didn't mup
modifyDeleteDeviceGroup(form,"edit");
}
}



function modifyDeleteDeviceGroup(form,operation)
{
  var pagename = document.createElement("input");
 pagename.setAttribute("name","pagename");
 pagename.setAttribute("value","OpenMarket/Xcelerate/AssetType/DeviceGroup/AdminTreeNodes/DeviceGroupMgt/deleteeditdevicegroup");
 pagename.setAttribute("type","hidden");
 form.appendChild(pagename); 

 var devicegroupname = document.createElement("input");
 devicegroupname.setAttribute("name","groupname");
 devicegroupname.setAttribute("value",form.devicegroupname.value);
 devicegroupname.setAttribute("type","hidden");
 //form.appendChild(devicegroupname);

 var _operation  = document.createElement("input");
 _operation.setAttribute("name","op");
 _operation.setAttribute("value",operation);
 _operation.setAttribute("type","hidden");
 form.appendChild(_operation);

 form.submit();

}


 function showSearchResults(form)
{

 var aType = document.createElement("input");
 aType.setAttribute("name","AssetType");
 aType.setAttribute("value","DeviceGroup");
 aType.setAttribute("type","hidden");
 form.appendChild(aType);

 var order  = document.createElement("input");
 order.setAttribute("name","OrderBy");
 order.setAttribute("value","DeviceGroup.name");
 order.setAttribute("type","hidden");
 form.appendChild(order);

 var limit = document.createElement("input");
 limit.setAttribute("name","ResultLimit");
 limit.setAttribute("value","20");
 limit.setAttribute("type","hidden");
 form.appendChild(limit);

 var charset = document.createElement("input");
 charset.setAttribute("name","_charset_");
 charset.setAttribute("value","UTF-8");
 charset.setAttribute("type","hidden");
 form.appendChild(charset);

var docid  = document.createElement("input");
 docid.setAttribute("name","docId");
 docid.setAttribute("value","null");
 docid.setAttribute("type","hidden");
 form.appendChild(docid);


 var environment = document.createElement("input");
 environment.setAttribute("name","cs_environment");
 environment.setAttribute("value","standard");
 environment.setAttribute("type","hidden");
 form.appendChild(environment);

 var formmode = document.createElement("input");
 formmode.setAttribute("name","cs_formmode");
 formmode.setAttribute("value","WCM");
 formmode.setAttribute("type","hidden");
 form.appendChild(formmode);


 var fields = document.createElement("input");
 fields.setAttribute("name","fields");
 fields.setAttribute("value","Name");
 fields.setAttribute("type","hidden");
 form.appendChild(fields);

 var frontpage = document.createElement("input");
 frontpage.setAttribute("name","frontpage");
 frontpage.setAttribute("value","SimpleSearchFront");
 frontpage.setAttribute("type","hidden");
 form.appendChild(frontpage);

 var pagename = document.createElement("input");
 pagename.setAttribute("name","pagename");
 pagename.setAttribute("value","OpenMarket/Xcelerate/Actions/SearchPost");
 pagename.setAttribute("type","hidden");
 form.appendChild(pagename);

 var postpage = document.createElement("input");
 postpage.setAttribute("name","postpage");
 postpage.setAttribute("value","SearchPost");
 postpage.setAttribute("type","hidden");
 form.appendChild(postpage);

var OrderByDesc = document.createElement("input");
 OrderByDesc.setAttribute("name","OrderByDesc");
 OrderByDesc.setAttribute("value","Name");
 OrderByDesc.setAttribute("type","hidden");
 form.appendChild(OrderByDesc);


form.submit();
}

function submitCreateForm(form)
{

 var pageName = document.createElement("input");
 pageName.setAttribute("name","pagename");
 pageName.setAttribute("value","OpenMarket/Xcelerate/Actions/NewContentFront");
 pageName.setAttribute("type","hidden");
 form.appendChild(pageName);


form.submit();
}

function isKeyEntered(form)
{
	return true;
}


 ]]>
</SCRIPT>
</FTCS>


