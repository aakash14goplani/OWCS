<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.2">
<!-- OpenMarket/Xcelerate/PrologActions/Publish/ExportXML/PreApprove
-
- INPUT
-
- OUTPUT
-
-->

<!-- before approval for a target an entry must be made to the PubKey table -->
<!-- a mirror key is one asset per key -->

<MIRRORKEY.CREATE OBJVARNAME="mirrorkey" ASSET="Variables.assetname"/>
<if COND="IsError.Variables.errno=true">
<then>
	<XLAT.STREAM KEY="dvin/UI/Error/errnofromMirrorKeycreate" errno="Variables.errno" EVALALL="false"/>
</then>
</if>
<APPROVEDASSETS.RECORDKEY TARGET="Variables.target" KEY="mirrorkey"/>
<if COND="IsError.Variables.errno=true">
<then>
	<XLAT.STREAM KEY="dvin/UI/Error/errnofromApprovedAssetsrecordKey" errno="Variables.errno" EVALALL="false"/>
</then>
</if>

</FTCS> 
