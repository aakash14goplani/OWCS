<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">


<!--
 Confidential and Proprietary Information of Oracle Corp.
					All Rights Reserved.

 Source.xml

 DESCRIPTION
	Admin things about a Source

 HISTORY 
  [2007-09-13 KGF]
  * added XSS scripting fixes (adapted from 6.3 fixes); search for isCleanString
  * changed definitions of 'obj' to just forms[0] (not .elements[0])
  [2008-02-25 KGF]
  * further XSS fix: encode HTML special chars in description field
-->
<CALLELEMENT NAME="OpenMarket/Xcelerate/Scripts/ValidateInputForXSS" />
<SCRIPT LANGUAGE="JavaScript">
<![CDATA[
function checkfields()
{
	var obj = document.forms[0];
	var isclean = isCleanString(obj.elements['source'].value);	
	if (!isclean) {
		alert("]]><XLAT.STREAM KEY="dvin/FlexibleAssets/Attributes/ApostropheNotAllowed" ESCAPE="true" ENCODE="false"/><![CDATA[");
		return false;
	}
	if ( (obj.elements['source'].value.length == 0) ||
		(obj.elements['source'].value.match(/^[\s]/) != null) ) {
	
	//Here means something is wrong, let us figure out what
	
			if (obj.elements['source'].value.length == 0) {
				]]>
				alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifyasource" ESCAPE="true" ENCODE="false"/>");
				<![CDATA[
				
			}
			
			if ( obj.elements['source'].value.match(/^[\s]/) != null ) {
				]]>
				alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/Sourcecannotstartwithaspace" ESCAPE="true" ENCODE="false"/>");
				<![CDATA[
			}
			obj.elements['source'].focus();
			return false;
	}
	if (obj.elements['description'].value=="")
	{
		]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifydescriptionsource" ESCAPE="true" ENCODE="false"/>");
		<![CDATA[
		obj.elements['description'].focus();
		return false;
	}
	return true;
}
]]>
</SCRIPT>

<!-- type is either front or post -->

    <setvar NAME="doform" VALUE="false"/>
	<STRING.ENCODE VARIABLE="cs_environment" VARNAME="cs_environment"/>
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="cs_formmode"/>
<IF COND="Variables.action=list">
<THEN>

	<IF COND="IsVariable.orderby!=true">
	<THEN>
		<SETVAR NAME="orderby" VALUE="source"/>
	</THEN>
	</IF>
	
	<SETVAR NAME="tablename" VALUE="Source"/>
	<EXECSQL LIST="AssetDetails" SQL="SELECT * FROM Source ORDER BY Variables.orderby"/>
	<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/Common/Sources"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
	</table>
	
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
		<tr>
			<td></td><td class="tile-dark" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
		</tr>
		<tr>
			<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
			<td >
				<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="7" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
					<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
                                        <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/SourceFront" outstring="urlsourcefront">
                                            <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                            <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="list"/>
                                                          </SATELLITE.LINK>
                                        <A HREF="Variables.urlsourcefront" REPLACEALL="Variables.urlsourcefront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Source"/></DIV></A></td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
                                        <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/SourceFront" outstring="urlsourcefront">
                                            <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                            <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="list"/>
                                                         <satellite.argument name="orderby" value="description"/>
                                                          </SATELLITE.LINK>
                                        <A HREF="Variables.urlsourcefront" REPLACEALL="Variables.urlsourcefront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Description"/></DIV></A></td>
						<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					</tr>
					<tr><td colspan="7" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
						<!-- Loop over all search results. -->
			   			<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
						<SETVAR NAME="separatorLine" VALUE="0"/>
						<LOOP LIST="AssetDetails">

							<IF COND="Variables.separatorLine=1">
							<THEN>
								<!--<tr>
									<td colspan="7" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
								</tr>-->
							</THEN>
							</IF>
							<SETVAR NAME="separatorLine" VALUE="1"/>
			
							<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle"><td><BR /></td>
							<td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
            <ics.encode base="ContentServer" session="true" output="inspect">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="details"/>
                <ics.argument name="source" value="AssetDetails.source"/>
            </ics.encode>
            <ics.encode base="ContentServer" session="true" output="edit">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="edit"/>
                <ics.argument name="source" value="AssetDetails.source"/>
            </ics.encode>
            <ics.encode base="ContentServer" session="true" output="delete">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="confirmdelete"/>
                <ics.argument name="source" value="AssetDetails.source"/>
            </ics.encode>
							<XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
							<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisSource" VARNAME="_alt_"/>
							<A HREF="Variables.inspect" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.inspect,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif"  border="0" alt="Variables._alt_" title="Variables._alt_"  REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A>
							<XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
							<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisSource" VARNAME="_alt_"/>
							<A HREF="Variables.edit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.edit,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif"  border="0" alt="Variables._alt_" title="Variables._alt_"  REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A>
							<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_" ESCAPE="true"/>
							<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisSource" VARNAME="_alt_"/>
							<A HREF="Variables.delete" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.delete,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContent.gif"  border="0" alt="Variables._alt_" title="Variables._alt_"  REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A>
							
							</td>
					                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
										<A HREF="Variables.inspect" REPLACEALL="Variables.inspect"><CSVAR NAME="Variables.ADsource"/></A>
										</DIV>
									</td>
									<td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
					                    <STRING.STREAM VALUE="AssetDetails.description"/>
					                    </DIV>
					                 </td>
					                 	<td><BR /></td></tr>
					            <IF COND="Variables.rowStyle=tile-row-normal">
					            <THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
					            </THEN>
					            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
					            </ELSE>
					            </IF>
							</LOOP>
							</table>
						</td>
						<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
						</tr>
					<tr>
					<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
					</tr>
					<tr>
					<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
					</tr>
					</table> 

    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/SourceFront" outstring="AddSourceFrontURL">
        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="new"/>
                                                          </SATELLITE.LINK>
<div class="width-outer-70">
<A HREF="Variables.AddSourceFrontURL" REPLACEALL="Variables.AddSourceFrontURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/AddNewSource"/></CALLELEMENT></A>
</div>

</THEN>
</IF> <!-- end action=list -->

    <if COND="Variables.action=details">
    <then>

        <ics.literal table="Source" column="source" string="Variables.source"
            output="literal"/>
        <setvar NAME="tablename" VALUE="Source"/>
        <execsql LIST="AssetDetails" SQL="SELECT * FROM Source WHERE
                                          source=Variables.literal"/>
        <IF COND="Variables.showtitle!=false">
        <THEN>                                          
			<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
				<tr><td>
					<span class="title-text"><XLAT.STREAM KEY="dvin/Common/Source"/>: <CSVAR NAME="Variables.ADsource"/></span>
				</td></tr>
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
			</table>                                         
         </THEN>
         </IF>   
                                         
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30 margin-top-zero">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<tr>
				<td class="form-label-text" colspan="3">
				<table class="lagecyAbar" border="0" cellpadding="0" cellspacing="0">
				<tr>
	    <!-- construct encoded urls -->
            <ics.encode base="ContentServer" session="true" output="inspect">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="details"/>
                <ics.argument name="source" value="Variables.source"/>
            </ics.encode>
            <ics.encode base="ContentServer" session="true" output="edit">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="edit"/>
                <ics.argument name="source" value="Variables.source"/>
            </ics.encode>
            <ics.encode base="ContentServer" session="true" output="delete">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="confirmdelete"/>
                <ics.argument name="source" value="Variables.source"/>
            </ics.encode>
					<td><XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisSource" VARNAME="_alt_"/>
					<A HREF="Variables.inspect" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.inspect,Variables._XLAT_"><img height="14" width="14" hspace="2" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContentUp.gif"  border="0" alt="Variables._alt_" REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A></td>
					<td><XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="Variables.inspect" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.inspect,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Inspect"/></span></A></td>
					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
					<td><XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisSource" VARNAME="_alt_"/>
					<A HREF="Variables.edit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.edit,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconEditContentUp.gif" hspace="2" border="0" alt="Variables._alt_" REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A></td>
					<td><XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="Variables.edit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.edit,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Edit"/></span></A></td>

					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>

					<td><XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisSource" VARNAME="_alt_" ESCAPE="true"/>
					<A HREF="Variables.delete" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.delete,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContentUp.gif" hspace="2" border="0" alt="Variables._alt_" REPLACEALL="Variables.cs_imagedir,Variables._alt_"/></A></td>
					<td><XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="Variables.delete" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.delete,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Delete"/></span></A></td>
					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
					
					</tr>
					</table>
				</td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Source"/>:
				</td>
				<td class="form-inset">
					<NOBR><CSVAR NAME="Variables.ADsource"/></NOBR>
				</td><td><BR /></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text" NOWRAP="NOWRAP">
					<XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
						<NOBR><STRING.STREAM VALUE="AssetDetails.description"/></NOBR>
				</td><td><BR /></td>
			</tr>
			</table>
	</td></tr>
</table>

<DIV class="width-outer-70">
    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/SourceFront" outstring="urlsourcefront">
        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="list"/>
                                                          </SATELLITE.LINK>
    <A HREF="Variables.urlsourcefront" REPLACEALL="Variables.urlsourcefront"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" WIDTH="15" HEIGHT="12" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/Admin/Listallsources"/></A>
</DIV>

                     
    </then>
    <else>
        <setvar NAME="doform" VALUE="true"/>
    </else>
    </if>

    <if COND="Variables.doform=true">
    <then>
        <if COND="Variables.action=edit">
        <then>
             <ics.literal table="Source" column="source" string="Variables.source"
                output="literal"/>
            <setvar NAME="tablename" VALUE="Source"/>
            <execsql LIST="AssetDetails" SQL="SELECT * FROM Source WHERE 
                                              source=Variables.literal"/>
            <IF COND="Variables.showtitle!=false">
            <THEN>                                          
				<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
					<tr><td>
						<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/EditSource"/>: <STRING.STREAM VALUE="AssetDetails.description"/></span>
					</td></tr>
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
				</table>
              </THEN>
              </IF>   
                                              
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Source"/>:
				</td>
				<td class="form-inset">
						<STRING.ENCODE LIST="AssetDetails" COLUMN="source" VARNAME="ADsource"/>
						<INPUT TYPE="HIDDEN" NAME="origsource" VALUE="Variables.ADsource" REPLACEALL="Variables.ADsource"/>
						<INPUT TYPE="TEXT" NAME="source" SIZE="32" MAXLENGTH="24" VALUE="Variables.ADsource" REPLACEALL="Variables.ADsource"/>
				</td><td><BR /></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text" NOWRAP="NOWRAP">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
						<SETVAR NAME="OutputQString" VALUE="Variables.empty"/>
						<STRING.ENCODE VALUE="AssetDetails.description" VARNAME="OutputQString"/>
                  	   <INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="64" NAME="description" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
				</td>
			</tr>
			<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/SourcePost"/>                
			<INPUT TYPE="HIDDEN" NAME="action" VALUE="edit"/>  
			<!-- construct encoded url -->
				<ics.encode base="ContentServer" session="true" output="inspect">
					<ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
					<ics.argument name="action" value="details"/>
					<ics.argument name="source" value="Variables.source"/>
				</ics.encode> 
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<A HREF="Variables.inspect" REPLACEALL="Variables.inspect"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A><XLAT.LOOKUP KEY="dvin/UI/SaveSource" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Save"/></CALLELEMENT></A>
				</TD>
			</TR>
			</table>
	</td></tr>
</table>
        </then>
        </if>
        <IF COND="Variables.action=new">
        <THEN>
            <IF COND="Variables.showtitle!=false">
            <THEN>                                          
				<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
					<tr><td>
						<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/AddNewSource"/></span>
					</td></tr>
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
				</table>
              </THEN>
              </IF>      
                                            
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Source"/>:
				</td>
				<td class="form-inset">
						<INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="24" NAME="source" VALUE=""/>
				</td><td><BR /></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text" NOWRAP="NOWRAP">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
                  	   <INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="64" NAME="description" VALUE=""/>
				</td>
			</tr>
			<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/SourcePost"/>                
			<INPUT TYPE="HIDDEN" NAME="action" VALUE="new"/>
			<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/SourceFront" outstring="SourceFrontURL">
				<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
				<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
				<satellite.argument name="action" value="list"/>
			</SATELLITE.LINK>			
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
				<A HREF="Variables.SourceFrontURL" REPLACEALL="Variables.SourceFrontURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A><XLAT.LOOKUP KEY="dvin/UI/AddSource" VARNAME="_XLAT_" ESCAPE="true"/>
				<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/AddNewSource"/></CALLELEMENT></A>
				</TD>
			</TR>
			</table>
	</td></tr>
</table>


<div class="width-outer-70">

</div>
        </THEN>
        </IF>
        
        <IF COND="Variables.action=confirmdelete">
        <THEN>
			<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
				<tr><td>
					<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/DeleteSource"/></span>
				</td></tr>
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
			</table>
					                        
            <ics.literal table="Source" column="source" string="Variables.source"
                output="literal"/>
            <setvar NAME="tablename" VALUE="Source"/>
            <execsql LIST="AssetDetails" SQL="SELECT * FROM Source WHERE 
                                              source=Variables.literal"/>
            <XLAT.LOOKUP KEY="dvin/UI/Admin/AreyousuredeletesourceQ" VARNAME="msgtext"/>
            <div class="width-outer-70">
			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
				<ARGUMENT NAME="msgtext" VALUE="Variables.msgtext"/>
				<ARGUMENT NAME="severity" VALUE="warning"/>
			</CALLELEMENT>
			</div>					
							
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Source"/>:
				</td>
				<td class="form-inset">
						<STRING.ENCODE VARIABLE="source" VARNAME="source"/>
						<INPUT TYPE="HIDDEN" NAME="source" VALUE="Variables.source" REPLACEALL="Variables.source"/>
						<CSVAR NAME="Variables.ADsource"/>
				</td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
						<STRING.STREAM VALUE="AssetDetails.description"/>
				</td>
			</tr>
			 <!-- construct encoded url -->
            <ics.encode base="ContentServer" session="true" output="inspect">
                <ics.argument name="pagename" value="OpenMarket/Xcelerate/Admin/SourceFront"/>
                <ics.argument name="action" value="details"/>
                <ics.argument name="source" value="Variables.source"/>
            </ics.encode>   
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<A HREF="Variables.inspect" REPLACEALL="Variables.inspect"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A><XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteSource" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="javascript:void(0);" onclick="document.forms['AppForm'].submit(); return false;" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/DeleteSource"/></CALLELEMENT></A>
				</TD>
			</TR>				     
		</table>
	</td></tr>
</table>


<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/SourcePost"/>
<INPUT TYPE="HIDDEN" NAME="action" VALUE="delete"/>
	      
        </THEN>
        </IF>
    </then>
    </if> 
</FTCS>
