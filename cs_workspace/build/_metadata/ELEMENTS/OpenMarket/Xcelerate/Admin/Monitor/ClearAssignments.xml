<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!--
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Admin/Monitor/ClearAssignments.xml $
$Revision: 27 $
$Modtime: 2/27/04 2:46p $
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- ShowTasks.xml
-
- DESCRIPTION
-	Tasks pull down menu
-
- HISTORY
-->

<if COND="Variables.ClearTarget=ShowAssignments">
<then>
<SCRIPT LANGUAGE="JavaScript">
function checkfields()
{
<![CDATA[
var special = document.forms[0].elements;
var specindex=0;
var anyChecked = false;
for (specindex=0;specindex<special.length;specindex++)
	{
	if (special[specindex].type == "checkbox" ) {
		if (special[specindex].checked)
		anyChecked = true;
		}
	}
	if (anyChecked != true) {
	]]>
	alert("<XLAT.STREAM KEY="dvin/UI/Admin/NoAssignmentsSelected" ESCAPE="true" ENCODE="false"/>");
	<![CDATA[
	return false; }
	return true;
}
]]>
</SCRIPT>
    	<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
			<tr><td>
				<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/ClearAssignments"/></span>
			</td></tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
		</table>
    	
    	<div class="width-outer-70">
    	<input NAME="pagename" TYPE="hidden" VALUE="OpenMarket/Xcelerate/Admin/Monitor/ShowAdminWorkListPost"/>
    	<input NAME="pagetype" TYPE="hidden" VALUE="Final"/>
    	<input NAME="ClearTarget" TYPE="hidden" VALUE="ShowAssignments"/>
        <input NAME="username" TYPE="hidden" VALUE="Variables.username" REPLACEALL="Variables.username"/>
        <setvar NAME="ResultLimit" VALUE="1000"/>
        <setvar NAME="report_assets" VALUE="all"/>
        <setvar NAME="TileText" VALUE="The following assets have been assigned to: Variables.username."/>
        <setvar NAME="NoTileText" VALUE="No assets have been assigned to: Variables.username."/>
        <XLAT.STREAM KEY="dvin/UI/Admin/followingassetsassignedusernameToclear" ENCODE="false"/>
        <p/>
        <callelement NAME="OpenMarket/Xcelerate/Actions/Workflow/TileReportAssignments">
            <argument NAME="showSelect" VALUE="false"/>
            <argument NAME="showType" VALUE="true"/>
            <argument NAME="showKey" VALUE="true"/>
            <argument NAME="showDescription" VALUE="true"/>
            <argument NAME="showId" VALUE="false"/>
            <argument NAME="showAssignedBy" VALUE="false"/>
            <argument NAME="showAssignedDate" VALUE="false"/>
            <argument NAME="showAssignedTo" VALUE="true"/>
            <argument NAME="showClearedBy" VALUE="false"/>
            <argument NAME="showClearedDate" VALUE="false"/>
            <argument NAME="showDueDate" VALUE="false"/>
            <argument NAME="showActionTaken" VALUE="false"/>
            <argument NAME="showActionToTake" VALUE="false"/>
            <argument NAME="showWorkflowStatus" VALUE="false"/>
            <argument NAME="showIsActive" VALUE="true"/>
            <argument NAME="showDeadlocked" VALUE="true"/>
            <argument NAME="showStepTaken" VALUE="false"/>
            <argument NAME="showClearAssignment" VALUE="true"/>
            <argument NAME="TileText" VALUE="Variables.TileText"/>
            <argument NAME="NoTileText" VALUE="Variables.NoTileText"/>
        </callelement>
        <table border="0" CELLSPACING="0" CELLPADDING="0">
        <tr>
        	<td class="form-label-inset"><XLAT.STREAM KEY="dvin/UI/Admin/Clearassignmentcomment"/>:</td>
         </tr>
         <tr>
        	<td WIDTH="75%"><TEXTAREA MAXLENGTH="255" NAME="clearcomment" ROWS="4" COLS="36" WRAP="VIRTUAL"></TEXTAREA></td>
        </tr>
        <tr>
        	<td class="form-label-inset"><XLAT.STREAM KEY="dvin/UI/Admin/Removeassetwfifnootherassignees"/>:</td>
        </tr>
		<tr>		
			<td>
	            <INPUT TYPE="RADIO" NAME="remove" VALUE="true" /><XLAT.STREAM KEY="dvin/Common/Yes"/><BR/>
	            <INPUT TYPE="RADIO" NAME="remove" VALUE="no" CHECKED="true" /><XLAT.STREAM KEY="dvin/Common/No"/>
	        </td>
        </tr>
        </table>
        <p/>
		<XLAT.LOOKUP KEY="dvin/UI/Admin/ClearAssignments" VARNAME="_XLAT_" ESCAPE="true"/>
		<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/ClearAssignments"/></CALLELEMENT></A>
	</div>
        
</then>
</if>

<!-- Checkouts -->
<if COND="Variables.ClearTarget=ShowCheckouts">
<then>
<SCRIPT LANGUAGE="JavaScript">
function checkfields()
{
<![CDATA[
var special = document.forms[0].elements;
var specindex=0;
var anyChecked = false;
for (specindex=0;specindex<special.length;specindex++)
	{
	if (special[specindex].checked)
	anyChecked = true;
	}
	if (anyChecked != true) {
	]]>
	alert("<XLAT.STREAM KEY="dvin/UI/Admin/NoCheckoutsSelected" ESCAPE="true" ENCODE="false"/>");
	<![CDATA[
	return false; }
	return true;
}
]]>
</SCRIPT>
	<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/CheckoutList"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
	</table>
	
	<div class="width-outer-70">
	<XLAT.STREAM KEY="dvin/UI/Admin/followingassetscheckedoutusernameToclear" ENCODE="false"/>
	<input NAME="pagename" TYPE="hidden" VALUE="OpenMarket/Xcelerate/Admin/Monitor/ShowAdminWorkListPost"/>
	<input NAME="pagetype" TYPE="hidden" VALUE="Final"/>
	<input NAME="ClearTarget" TYPE="hidden" VALUE="ShowCheckouts"/>
	<STRING.ENCODE VARIABLE="Category" VARNAME="CategoryEnc"/>
	<input NAME="Category" TYPE="hidden" VALUE="Variables.CategoryEnc" REPLACEALL="Variables.CategoryEnc"/>

	<setvar NAME="junk" VALUE="Variables.empty"/>
 	</div>
 <!-- Table header -->
	
     <table class="width-outer-70" BORDER="0" CELLSPACING="0" CELLPADDING="0">
     <tr>
		<td></td><td class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
	</tr>
	<tr>
	<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
	<td >
<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="12"class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
		<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Type"/></DIV></td>
		    <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Name"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Description"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;</td><td class="tile-b" NOWRAP="NOWRAP" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/CheckoutDate"/></DIV></td>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Admin/Clear"/></DIV></td>
			<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
		</tr>
<tr><td colspan="12" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
     <setvar NAME="rowStyle" VALUE="tile-row-normal"/>
	<setvar NAME="separatorLine" VALUE="0"/>
	<stringlist NAME="temphist" STR="Variables.TrackedAssets" DELIM=","/>
				<loop LIST="temphist">
					<IF COND="Variables.separatorLine=1">
					<THEN>
						<tr>
							<!--<td colspan="12"class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
						</tr>
					</THEN>
					</IF>
					<setvar NAME="separatorLine" VALUE="1"/>
					<stringlist NAME="newtemphist" STR="temphist.ITEM" DELIM=";"/>
					<setvar NAME="id" VALUE="newtemphist.ITEM"/>
					<GOTOROW LIST="newtemphist" ROWNUM="2"/>
					<setvar NAME="Category" VALUE="newtemphist.ITEM"/>
					<ASSET.LOAD NAME="asset" TYPE="Variables.Category" OBJECTID="Variables.id"/>
					<IF COND="IsError.Variables.errno=false">
						<THEN>
							<ASSET.GET NAME="asset" FIELD="name"/>
							<ASSET.GET NAME="asset" FIELD="description"/>
						</THEN>
					</IF>
					
						<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle"><td><BR /></td>
                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
                    <DIV class="small-text-inset">
                    <STRING.STREAM VALUE="Variables.Category"/>
                    <BR />
                  </DIV>
                </td> 
             <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
                	<DIV class="small-text-inset">
                        <XLAT.LOOKUP KEY="dvin/UI/ShowContent" VARNAME="_XLAT_" ESCAPE="true"/>
                        <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Actions/ContentDetailsFront" outstring="urlcontdetfront">
                            <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                            <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="Variables.id"/>
                                                         <satellite.argument name="AssetType" value="Variables.Category"/>
                                                          </SATELLITE.LINK>
                        <A HREF="Variables.urlcontdetfront"
                             OnMouseOver="window.status='Variables._XLAT_'; return true"
                             OnMouseOut="return window.status='';"  REPLACEALL="Variables.urlcontdetfront,Variables._XLAT_">
                            <STRING.STREAM VALUE="Variables.name"/>
                        </A><BR />
                    </DIV>
                </td> 
             <td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
                	<DIV class="small-text-inset">
                            <STRING.STREAM VALUE="Variables.description"/>
                        <BR />
                    </DIV>
                </td> 
          	<history TABLE="Variables.Category" ASSET="Variables.id" LIST="ItsHistory"/>

             <td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
                	<DIV class="small-text-inset">
                        <DATEFORMAT.CREATE NAME="_shortFormatDate_" DATESTYLE="SHORT" TIMESTYLE="SHORT" LOCALE="LocaleName" TIMEZONEID="SessionVariables.time.zone"/>
                        <DATEFORMAT.GETDATETIME NAME="_shortFormatDate_" VALUE="ItsHistory.versiondate" VALUETYPE="jdbcdate" VARNAME="formattedDate" />
                        <STRING.STREAM VALUE="Variables.formattedDate"/>
                        <BR />
                    </DIV>
                </td> 
             <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="CENTER">
                	<DIV class="small-text-inset">
						<INPUT TYPE="checkbox" NAME="box-Variables.id" REPLACEALL="Variables.id"/>
						<BR />
                    </DIV>
                </td> 
                <td><BR /></td>
                </tr>
            <IF COND="Variables.rowStyle=tile-row-normal">
            <THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
            </THEN>
            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
            </ELSE>
            </IF>
			</loop>

</table>
</td>
		<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
		</tr>
<tr>
<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
</tr>
<tr>
<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
</tr>
</table>

<XLAT.LOOKUP KEY="dvin/UI/Admin/ClearCheckouts" VARNAME="_XLAT_" ESCAPE="true"/>
<div class="width-outer-70">
<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL='Variables._XLAT_'><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/ClearCheckouts"/></CALLELEMENT></A>
</div>

<STRING.ENCODE VARIABLE="TrackedAssets" VARNAME="TrackedAssetsEnc"/>
<input NAME="junk" TYPE="hidden" VALUE="Variables.TrackedAssetsEnc" REPLACEALL="Variables.TrackedAssetsEnc"/>
<flush LIST="temphist"/>


</then>
</if>
</FTCS>

