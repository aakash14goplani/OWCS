<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit.xml $ 
$Revision: 26 $ 
$Modtime: 2/27/04 2:46p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- DESCRIPTION
-	Display form for edit or new a DeliveryType.
-
- HISTORY 
-->

<!-- New/Edit this class -->
<SETVAR NAME="class" VALUE="com.openmarket.xcelerate.publish.DeliveryType"/>
<STRING.ENCODE VARIABLE="cs_environment" VARNAME="cs_environment"/>
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="cs_formmode"/>
<SCRIPT LANGUAGE="JavaScript">
<![CDATA[
function checkfields()
{
var obj = document.forms[0];
	var errors = "";
	
	if ( ( obj.elements['dt:name'].value.search(/['"?;:]/) != -1 ) ||
		 ( obj.elements['dt:name'].value.length == 0 ) ||
		 ( obj.elements['dt:name'].value.match(/^[\s]/) != null ) ) {

//Here means something is wrong, let us figure out what

		 if ( ( obj.elements['dt:name'].value.search(/['"?;:]/) != -1 ) ) {
				]]>
				errors += '<XLAT.STREAM KEY="dvin/UI/Admin/Error/Invalidcharacterobjelementsanamevalue" ESCAPE="true" ENCODE="false"/>';
				<![CDATA[
                var replacestr = /\bVariables.name\b/
                errors = errors.replace(replacestr,obj.elements['dt:name'].value); 
		 }
			
		 if ( obj.elements['dt:name'].value.match(/^[\s]/) != null ) {
				]]>
				errors += "<XLAT.STREAM KEY="dvin/UI/Admin/Error/Thenamecannotstartwithaspace" ESCAPE="true" ENCODE="false"/>\n";
				<![CDATA[
		 }

		 if (obj.elements['dt:name'].value.length == 0) {
				]]>
				errors += "<XLAT.STREAM KEY="dvin/UI/Admin/Error/specifyaname" ESCAPE="true" ENCODE="false"/>\n";
				<![CDATA[
				
		 }
	}
				
	if (obj.elements['dt:path'].value.search(/\S/) == -1)
	{
                ]]>
                errors += 
                		"* <XLAT.STREAM KEY="dvin/UI/Admin/Error/specifyanelementpath" ESCAPE="true" ENCODE="false"/>\n";
                <![CDATA[
	}
	if (errors.length != 0) {
		]]>
		alert ("<XLAT.STREAM KEY="dvin/UI/Admin/Error/Theformisnotcomplete" ESCAPE="true" ENCODE="false"/>:\n\n" + errors);
		<![CDATA[
		return false;
	}
	return true;
}
]]>
</SCRIPT>

<SETVAR NAME="doForm" VALUE="false"/>


<IF COND="Variables.action=list">
<THEN>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/DeliveryTypes" ESCAPE="true" ENCODE="false"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>

		<selectto LIST="dtype" WHAT="*" FROM="DeliveryType"/>

    	<IF COND="IsList.dtype=true">
    	<THEN>
			<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-50">
					<tr>
						<td></td><td class="tile-dark" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
					</tr>
					<tr>
						<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
						<td >
							<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="7" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
							<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Name"/></DIV></td>
					            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Description"/></DIV></td>
								<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
							</tr>
							<tr><td colspan="7" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
							<!-- Loop over all search results. -->
					   			<setvar NAME="rowStyle" VALUE="tile-row-normal"/>
								<SETVAR NAME="separatorLine" VALUE="0"/>
							<LOOP LIST="dtype">
		<IF COND="dtype.name!=VOID">
		<THEN>
									<IF COND="Variables.separatorLine=1">
									<THEN>
										<!--<tr>
											<td colspan="7" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
										</tr>-->
									</THEN>
									</IF>
									<SETVAR NAME="separatorLine" VALUE="1"/>
			
							<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle"><td><BR /></td>
							<td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
								<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisDeliveryType" VARNAME="alt"/>
								<XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="statustxt" ESCAPE="true"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="dtype.id"/>
                                                         <satellite.argument name="action" value="details"/>
                                                          </SATELLITE.LINK>
								<A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables.statustxt"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisDeliveryType" VARNAME="alt"/>
								<XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="statustxt" ESCAPE="true"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="dtype.id"/>
                                                         <satellite.argument name="action" value="edit"/>
                                                          </SATELLITE.LINK>
								<A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables.statustxt"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
								<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="statustxt" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisDeliveryType" VARNAME="alt"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="dtype.id"/>
                                                         <satellite.argument name="action" value="confirmdelete"/>
                                                          </SATELLITE.LINK>
								<A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables.statustxt"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
							</td>
					                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
                                        <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                                            <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                            <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="dtype.id"/>
                                                         <satellite.argument name="action" value="details"/>
                                                          </SATELLITE.LINK>
										<A HREF="Variables.urldelvtypedit" REPLACEALL="Variables.urldelvtypedit"><STRING.STREAM VALUE="dtype.name"/></A>
										</DIV>
									</td>
									<td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
											<STRING.STREAM VALUE="dtype.description"/>
					                    </DIV>
					                 </td>
					                 	<td><BR /></td></tr>
					            <IF COND="Variables.rowStyle=tile-row-normal">
					            <THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
					            </THEN>
					            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
					            </ELSE>
					            </IF>
							</THEN>
							</IF>
							</LOOP>
							</table>
						</td>
						<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
						</tr>
					<tr>
					<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
					</tr>
					<tr>
					<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
					</tr>
					</table> 

    	</THEN>
    	<ELSE>
    	
    	</ELSE>
    	</IF>


</THEN>
</IF>


<IF COND="Variables.action=details">
<THEN>
		<DELIVERYTYPE.LOAD NAME="dtype" OBJECTID="Variables.id"/>
		<if COND="IsError.Variables.errno=true">
		<then>
		   <callelement NAME="OpenMarket/Xcelerate/Actions/Util/ShowError">
		      <argument NAME="error" VALUE="NoPublishDest"/>
		  	</callelement>
		</then>
		<else>
		    <DELIVERYTYPE.SCATTER NAME="dtype" PREFIX="dt"/>
			<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
				<tr>
					<td><span class="title-text"><XLAT.STREAM KEY="dvin/UI/Publish/DeliveryType"/>: <STRING.STREAM VARIABLE="dt:name"/></span></td>
				</tr>
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
			</table>

    <table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-50 margin-top-zero">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<tr>
				<td class="form-label-text" colspan="3" ALIGN="LEFT">
				<table class="legacyAbar" border="0" cellpadding="0" cellspacing="0">
				<tr>
					<XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisDeliveryType" VARNAME="statustxt"/>
                    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="Variables.id"/>
                                                         <satellite.argument name="action" value="details"/>
                                                          </SATELLITE.LINK>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><img height="14" width="14" hspace="2" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContentUp.gif"  border="0" alt="Variables.statustxt" REPLACEALL="Variables.cs_imagedir,Variables.statustxt"/></A></td>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Inspect"/></span></A></td>
					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
					<XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisDeliveryType" VARNAME="statustxt"/>
                    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="Variables.id"/>
                                                         <satellite.argument name="action" value="edit"/>
                                                          </SATELLITE.LINK>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconEditContentUp.gif" hspace="2" border="0" alt="Variables.statustxt" REPLACEALL="Variables.cs_imagedir,Variables.statustxt"/></A></td>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Edit"/></span></A></td>

					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
					<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisDeliveryType" VARNAME="statustxt"/>
                    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
                        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="Variables.id"/>
                                                         <satellite.argument name="action" value="confirmdelete"/>
                                                          </SATELLITE.LINK>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContentUp.gif" hspace="2" border="0" alt="Variables.statustxt" REPLACEALL="Variables.cs_imagedir,Variables.statustxt"/></A></td>
					<td><A HREF="Variables.urldelvtypedit" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urldelvtypedit,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Delete"/></span></A></td>
					<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
				</tr>
				</table>
				</td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Name"/>:
				</td>
				<td class="form-inset">
			 		   <STRING.STREAM VALUE="Variables.dt:name"/>
				</td><td></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.dt:description"/>
				</td><td><BR /></td>
			</tr>
	

			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/Admin/DeliveryElementsPath"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.dt:path"/>
				</td><td></td>
			</tr>
          	<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->			
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/ID"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.id"/>
				</td>
			</tr>			
			</table>
	</td></tr>
</table>
	</else>
	</if>

	<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="urldelvtypedit">
    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="list"/>
                                                          </SATELLITE.LINK>
                                                          
<DIV class="width-outer-70"><A HREF="Variables.urldelvtypedit" REPLACEALL="Variables.urldelvtypedit"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" WIDTH="15" HEIGHT="12" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/Admin/Listalldeliverytypes"/></A>
</DIV>
</THEN>
</IF>

<!-- ============================================================================================= -->
<IF COND="Variables.action=edit">
<THEN>
	<SETVAR NAME="doForm" VALUE="true"/>
</THEN>
</IF>
<IF COND="Variables.action=new">
<THEN>
	<SETVAR NAME="doForm" VALUE="true"/>
</THEN>
</IF>

<IF COND="Variables.doForm=true">
<THEN>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
<IF COND="Variables.action=edit">
<THEN>
    <OBJECT.LOAD CLASS="Variables.class" OBJECTID="Variables.id" NAME="a"/>
	<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/EditDeliveryType"/></span>
   	<SETVAR NAME="buttonName" VALUE="Save"/>
    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="DelivTypeEditURL">
        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="id" value="Variables.id"/>
                                                         <satellite.argument name="action" value="details"/>
                                                          </SATELLITE.LINK>
</THEN>
<ELSE>
    <OBJECT.CREATE CLASS="Variables.class" NAME="a"/>
	<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/AddNewDeliveryType"/></span>
	<SETVAR NAME="buttonName" VALUE="AddNewDeliveryType"/>
    <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="DelivTypeEditURL">
        <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
        <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                                         <satellite.argument name="action" value="list"/>
                                                          </SATELLITE.LINK>
</ELSE>
</IF>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>

<OBJECT.SCATTER NAME="a" PREFIX="dt"/>
<CALLJAVA CLASS="com.openmarket.framework.commands.SetDefault">
	<ARGUMENT NAME="dt:name"	       VALUE="Variables.empty"/>
	<ARGUMENT NAME="dt:description" VALUE="Variables.empty"/>
	<ARGUMENT NAME="dt:path"        VALUE="OpenMarket/Xcelerate/Publish/(DELIVERYTYPE)"/>
</CALLJAVA>

<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-50">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Name"/>:
				</td>
				<td class="form-inset">
					<STRING.ENCODE VARIABLE="dt:name" VARNAME="dt:name"/>
			 		<INPUT NAME="dt:name" TYPE="TEXT" SIZE="32" VALUE="Variables.dt:name" REPLACEALL="Variables.dt:name"/>
				</td><td></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
				<STRING.ENCODE VARIABLE="dt:description" VARNAME="dt:description"/>
					<INPUT NAME="dt:description" TYPE="TEXT" SIZE="32" VALUE="Variables.dt:description" REPLACEALL="Variables.dt:description"/>
				</td><td></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text" NOWRAP="NOWRAP">
					<XLAT.STREAM KEY="dvin/UI/Admin/DeliveryElementsPath"/>:
				</td>
				<td class="form-inset">
					<INPUT NAME="dt:path" TYPE="TEXT" SIZE="32" VALUE="Variables.dt:path" REPLACEALL="Variables.dt:path"/>
				</td><td></td>
			</tr>			
			<IF COND="Variables.action!=new">
			<THEN>
          <!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->			
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr >
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/ID"/>:
				</td>
				<td class="form-inset">
				<STRING.ENCODE VARIABLE="id" VARNAME="id"/>
					<INPUT TYPE="HIDDEN" NAME="id" VALUE="Variables.id" REPLACEALL="Variables.id"/>
					<CSVAR NAME="Variables.id"/>
				</td><td><BR /></td>
			</tr>
			</THEN>
			</IF>
			<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/Publish/DelivTypePost"/>
			<STRING.ENCODE VARIABLE="action" VARNAME="action"/>
			<INPUT TYPE="HIDDEN" NAME="action" VALUE="Variables.action" REPLACEALL="Variables.action"/>
			<XLAT.LOOKUP KEY="dvin/UI/Save" VARNAME="_XLAT_"/>
			<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="_status_"/>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<A HREF="Variables.DelivTypeEditURL" onmouseover="window.status='Variables._status_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._status_,Variables.DelivTypeEditURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A><A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Variables.buttonName"/></CALLELEMENT></A>
				</TD>
			</TR>

			</table>
	</td></tr>
</table>


</THEN>
</IF>


<IF COND="Variables.action=confirmdelete">
<THEN>
	<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/DeleteDeliveryType"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
	</table>
	
		<DELIVERYTYPE.LOAD NAME="dtype" OBJECTID="Variables.id"/>
		<if COND="IsError.Variables.errno=true">
		<then>
		   <callelement NAME="OpenMarket/Xcelerate/Actions/Util/ShowError">
		      <argument NAME="error" VALUE="NoPublishDest"/>
		  	</callelement>
		</then>
		<else>
		    <DELIVERYTYPE.SCATTER NAME="dtype" PREFIX="dt"/>
	<div class="width-outer-70">
	<XLAT.LOOKUP KEY="dvin/UI/Admin/DeletethisdeliverytypeQ" VARNAME="msgtext" ENCODE="false"/>                                
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
		<argument NAME="severity" VALUE="warning"/>
	</callelement>					
	</div>
   	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-50">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Name"/>:
				</td>
				<td class="form-inset">
			 		<STRING.STREAM VALUE="Variables.dt:name"/>
				</td><td></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/Description"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.dt:description"/>
				</td><td><BR /></td>
			</tr>
			<!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/Admin/DeliveryElementsPath"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.dt:path"/>
				</td><td></td>
			</tr>
          <!--<tr>
				<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>-->			
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/ID"/>:
				</td>
				<td class="form-inset">
				<STRING.ENCODE VARIABLE="id" VARNAME="id"/>
					<INPUT TYPE="HIDDEN" NAME="id" VALUE="Variables.id" REPLACEALL="Variables.id"/>
					<CSVAR NAME="Variables.id"/>
				</td>
			</tr>

		<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/Publish/DelivTypePost"/>
		<INPUT TYPE="HIDDEN" NAME="action" VALUE="delete"/>
		<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisDeliveryType" VARNAME="statustxt" ESCAPE="true"/>
		 <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/Publish/DelivTypeEdit" outstring="DelivTypeEditURL">
			 <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
																 <satellite.argument name="id" value="Variables.id"/>
																 <satellite.argument name="action" value="details"/>
																  </SATELLITE.LINK>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<A HREF="Variables.DelivTypeEditURL" REPLACEALL="Variables.DelivTypeEditURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
					<A HREF="javascript:void(0);" onclick="document.forms['AppForm'].submit(); return false;" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables.statustxt"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/DeleteDeliveryType"/></CALLELEMENT></A>
				</TD>
			</TR>
		</table>
	</td></tr>
</table>


	</else>
	</if>


</THEN>
</IF>

</FTCS>
