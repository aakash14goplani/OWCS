<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateD/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/SearchPost.xml $ 
$Revision: 79 $ 
$Modtime: 6/22/04 11:38p $ 
-->

<!--
- Confidential and Proprietary Information of Open Market Inc.
-					All Rights Reserved.
-
- SearchPost.xml
-
- DESCRIPTION
-	Do a search
-	Required input variables: AssetType
-
- HISTORY
-	4 May 00		Ward	Add Gator standard formatting. 
  [2007-09-19 KG]
  * XSS fixes (adapted from 6.3 fixes):
    * CSVAR -> STRING.STREAM
  [2007-10-08 KG]
  * Another XSS fix: STRING.ENCODEd filterstring prior to REPLACEALL
-->
<STRING.ENCODE VARIABLE="AssetType" VARNAME="AssetType" />
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<STRING.ENCODE VARIABLE="RPP" VARNAME="RPP"/>

<!--
    Display the results as a table (tiling) or a none-found response.
-->

<INPUT TYPE="HIDDEN" NAME="paginate" VALUE="false"/>
<IF COND="IsVariable.cs_StartID=true">
<THEN>
<STRING.ENCODE VARIABLE="cs_StartID" VARNAME="cs_StartID"/>
<INPUT TYPE="hidden" NAME="cs_StartID" VALUE="Variables.cs_StartID" REPLACEALL="Variables.cs_StartID"/>

<STARTMENU.LOAD ID="Variables.cs_StartID" OBJVARNAME="si"/>
<STARTMENUITEM.GETASSETSUBTYPE NAME="si" VARNAME="cs_assetsubtype"/>
<IF COND="IsVariable.cs_assetsubtype=true">
<THEN>

		<IF COND="IsVariable.flextemplateid=true">
			<THEN>
				 <fatm.gettemplatetype ASSETTYPE="Variables.AssetType" VARNAME="templatetype"/>
				 <ASSET.LIST TYPE="Variables.templatetype" FIELD1="name" VALUE1="Variables.cs_assetsubtype" LIST="result"/>
				 <INPUT TYPE="hidden" NAME="flextemplateid" VALUE="result.id" REPLACEALL="result.id"/>					 
			</THEN>
		</IF>        
		<IF COND="IsVariable.flexgrouptemplateid=true">
			<THEN>
				 <fgtm.gettemplatetype ASSETTYPE="Variables.AssetType" VARNAME="templatetype"/>
				 <ASSET.LIST TYPE="Variables.templatetype" FIELD1="name" VALUE1="Variables.cs_assetsubtype" LIST="result"/>
				 <INPUT TYPE="hidden" NAME="flexgrouptemplateid" VALUE="result.id" REPLACEALL="result.id"/>
			</THEN>
		</IF>

		<IF COND="IsVariable.flextemplateid=false">
		<THEN>
			<IF COND="IsVariable.flexgrouptemplateid=false">
			<THEN>			   
				   <fatm.gettemplatetype ASSETTYPE="Variables.AssetType" VARNAME="templatetype"/>
				   <IF COND="IsVariable.templatetype=true">
				   <THEN>
						<ASSET.LIST TYPE="Variables.templatetype" FIELD1="name" VALUE1="Variables.cs_assetsubtype" LIST="result"/>
						<INPUT TYPE="hidden" NAME="flextemplateid" VALUE="result.id" REPLACEALL="result.id"/>
				   </THEN>
				   <ELSE>
						<fgtm.gettemplatetype ASSETTYPE="Variables.AssetType" VARNAME="templatetype"/>
						<IF COND="IsVariable.templatetype=true">
						<THEN>
							<ASSET.LIST TYPE="Variables.templatetype" FIELD1="name" VALUE1="Variables.cs_assetsubtype" LIST="result"/>
							<INPUT TYPE="hidden" NAME="flexgrouptemplateid" VALUE="result.id" REPLACEALL="result.id"/>
						</THEN>
						</IF>
				   </ELSE>
				   </IF>
			</THEN>
			</IF>
		</THEN>
		</IF>
	
</THEN>
</IF>

</THEN>
</IF>
<SETVAR NAME="SearchError" VALUE="false"/>
<IF COND="IsError.Variables.errno=true">
<THEN>
    <SETVAR NAME="SearchError" VALUE="true"/>
    <!--  Save errno since AssetMaker SimpleSearch can modify errno -->
    <SETVAR NAME="saveerrno" VALUE="Variables.errno"/>
</THEN>
</IF>

<IF COND="IsVariable.suser!=true">
<THEN>

   <USERMANAGER.GETLOGINUSER  VARNAME="cuserid"/>
   <USERMANAGER.GETLOGINUSERNAME  VARNAME="LoginuserName"/>
   <setvar NAME="suser"  VALUE="Variables.LoginuserName"/>
   
</THEN>
</IF>
   
     
 <!-- Test for a successful search. -->
   
	<table border="0" cellpadding="0" cellspacing="0" class="width-outer-70">
    <IF COND="IsVariable.SaveSearchErrno=true">
    <THEN>
          <tr>
                 <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
        			<argument NAME="elem" VALUE="SaveSearch"/>
        			<argument NAME="severity" VALUE="error"/>
        			<argument NAME="AssetType" VALUE="Variables.AssetType"/>
        		</callelement>

          </tr>
   </THEN>
   </IF>

   <IF COND="IsVariable.SearchNotUpToDateWarnNo=true">
   <THEN>
          <tr>
                 <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
        			<argument NAME="elem" VALUE="SearchNotUpToDate"/>
        			<argument NAME="severity" VALUE="warning"/>
        			<argument NAME="AssetType" VALUE="Variables.AssetType"/>
        		</callelement>
          </tr>
   </THEN>
   </IF>
   
<IF COND="IsVariable.RPP=true">
<THEN>
<SETVAR NAME="ResultLimit" VALUE="Variables.RPP"/>
</THEN>
</IF>		
		<tr>
			<td class="title-text"><XLAT.STREAM KEY="dvin/UI/ListofAssetTypeObjplural"/></td>
		</tr>
		<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
		<tr>
			<td>
				<callelement NAME="OpenMarket/Xcelerate/Actions/Search/SimpleSearch">
					<argument name="tbclassname" value=""/>
				</callelement>
			</td>
		</tr>
		<tr>
			<td><img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
		</tr>
</table>

        <STRING.ENCODE VARNAME="encfilterstring" VARIABLE="filterstring" />
        <INPUT type="hidden" name="filterstring" VALUE="Variables.encfilterstring" REPLACEALL="Variables.encfilterstring"/>
		<!-- Test for a successful search. -->
		<IF COND="Variables.SearchError!=true">
		<THEN>

			<!-- Display the number of items found. -->

<table cellpadding="0" cellspacing="0" border="0" CLASS="width-outer-70">
<tr>
<td NOWRAP="NOWRAP"><span style="float:right">
	<SETVAR NAME="TotalResults" VALUE="Content.#numRows"/>
				<CALCULATOR.GO VALUE="Variables.pagenum Variables.ResultLimit *" VARNAME="currCount"/>
 				<CALCULATOR.GO VALUE="Variables.TotalResults Variables.currCount GT" VARNAME="MoreResults"/>

            <IF COND="Variables.MoreResults=1">
			<THEN>
				<!-- there are more items left to show -->
				<!-- if we are not on the first page, then we can show a link to the previous page -->

                <IF COND="Variables.pagenum!=1">
				<THEN>
                    <IF cond="Variables.pagenum=2">
                    <THEN>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=1;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrowLeft.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/First"/></A> |
                    </THEN>
                    <ELSE>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=1;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrowLeft.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/First"/></A> |
                        <CALCULATOR.GO VALUE="Variables.pagenum 1 -" VARNAME="pageprev"/>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.pageprev;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.pageprev,Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/leftArrow.gif" HEIGHT="12" WIDTH="11" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/PreviousResultLimit"/></A> |
                    </ELSE>
                    </IF>
            	</THEN>
				</IF>
				
 				<CALCULATOR.GO VALUE="Variables.TotalResults Variables.currCount -" VARNAME="numLeft"/>
				<CALCULATOR.GO VALUE="Variables.ResultLimit Variables.numLeft LTE" VARNAME="IsMore"/>
				<CALCULATOR.GO VALUE="Variables.pagenum 1 +" VARNAME="pagenext"/>

                <CALCULATOR.GO VALUE="Variables.TotalResults Variables.ResultLimit /" VARNAME="lastPageNum"/>
                <CALCULATOR.GO VALUE="Variables.TotalResults Variables.ResultLimit %" VARNAME="modPageNum"/>
                <IF COND="Variables.modPageNum!=0">
                <THEN>
                    <CALCULATOR.GO VALUE="Variables.lastPageNum 1 +" VARNAME="lastPageNum"/>
                    <INDEXOF STR="Variables.lastPageNum" WHAT="."  OUTSTR="indexOfDot" />
                    <SUBSTRING STR="Variables.lastPageNum" OUTSTR="lastPageNum" INDEX="0" ENDINDEX="Variables.indexOfDot"/>
                </THEN>
                </IF>

                <setvar name="displayPage" value="Variables.pagenum"/>
                <setvar name="totalPages" value="Variables.lastPageNum"/>
                <SPAN REPLACEALL="Variables.displayPage,Variables.totalPages">&nbsp;<XLAT.STREAM KEY="dvin/UI/PageOf"/>&nbsp;</SPAN>|

                <IF COND="Variables.IsMore=1">
				<THEN>
                     <IF COND="Variables.lastPageNum=Variables.pagenext">
                         <THEN>
                             &nbsp;<A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.lastPageNum;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate'; doSearch();" REPLACEALL="Variables.lastPageNum,Variables.ResultLimit"><XLAT.STREAM KEY="dvin/UI/Last"/><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/></A>
                         </THEN>
                         <ELSE>
                             &nbsp;<A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.pagenext;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate'; doSearch();" REPLACEALL="Variables.pagenext,Variables.ResultLimit"><XLAT.STREAM KEY="dvin/Common/Next"/>&nbsp;<STRING.STREAM VARIABLE="ResultLimit"/><IMG src="Variables.cs_imagedir/graphics/common/icon/rightArrow.gif" HEIGHT="12" WIDTH="11" BORDER="0" REPLACEALL="Variables.cs_imagedir"/></A>
                             |&nbsp;<A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.lastPageNum;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate'; doSearch();" REPLACEALL="Variables.lastPageNum,Variables.ResultLimit"><XLAT.STREAM KEY="dvin/UI/Last"/><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/></A>
                         </ELSE>
                     </IF>
                </THEN>
				<ELSE>					
                    <!--<A HREF="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.pagenext;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.pagenext,Variables.ResultLimit"><XLAT.STREAM KEY="dvin/Common/Next"/>&nbsp;<STRING.STREAM VARIABLE="numLeft"/><IMG src="Variables.cs_imagedir/graphics/common/icon/rightArrow.gif" HEIGHT="12" WIDTH="11" BORDER="0" REPLACEALL="Variables.cs_imagedir"/></A>|-->
                    &nbsp;<A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.lastPageNum;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate'; doSearch();" REPLACEALL="Variables.lastPageNum,Variables.ResultLimit"><XLAT.STREAM KEY="dvin/UI/Last"/><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/></A>
                 </ELSE>
				</IF>
				<SETVAR NAME="LastItem" VALUE="Variables.currCount"/>
			</THEN>
			<ELSE>
				<SETVAR NAME="LastItem" VALUE="Variables.TotalResults"/>
				<!-- there are no more rows after this set -->
				<IF COND="Variables.pagenum!=1">
				<THEN>
                    <IF cond="Variables.pagenum=2">
                    <THEN>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=1;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrowLeft.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/First"/></A>|
                    </THEN>
                    <ELSE>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=1;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrowLeft.gif" HEIGHT="12" WIDTH="15" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/First"/></A> |
                        <CALCULATOR.GO VALUE="Variables.pagenum 1 -" VARNAME="pageprev"/>
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['pagenum'].value=Variables.pageprev;document.forms[0].elements['RPP'].value=Variables.ResultLimit;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();" REPLACEALL="Variables.pageprev,Variables.ResultLimit"><IMG src="Variables.cs_imagedir/graphics/common/icon/leftArrow.gif" HEIGHT="12" WIDTH="11" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/PreviousResultLimit"/></A> |
                    </ELSE>
                    </IF>
				</THEN>
                </IF>
                <CALCULATOR.GO VALUE="Variables.TotalResults Variables.ResultLimit /" VARNAME="lastPageNum"/>
                <CALCULATOR.GO VALUE="Variables.TotalResults Variables.ResultLimit %" VARNAME="modPageNum"/>
                <IF COND="Variables.modPageNum!=0">
                <THEN>
                    <CALCULATOR.GO VALUE="Variables.lastPageNum 1 +" VARNAME="lastPageNum"/>
                    <INDEXOF STR="Variables.lastPageNum" WHAT="."  OUTSTR="indexOfDot" />
                    <SUBSTRING STR="Variables.lastPageNum" OUTSTR="lastPageNum" INDEX="0" ENDINDEX="Variables.indexOfDot"/>
                </THEN>
                </IF>

                <setvar name="displayPage" value="Variables.pagenum"/>
                <setvar name="totalPages" value="Variables.lastPageNum"/>
                <SPAN REPLACEALL="Variables.displayPage,Variables.totalPages">&nbsp;<XLAT.STREAM KEY="dvin/UI/PageOf"/>&nbsp;</SPAN>
            </ELSE>
			</IF>
			<CALCULATOR.GO VALUE="Variables.pagenum 1 - Variables.ResultLimit * 1 +" VARNAME="startingPoint"/>
		</span>
		<!-- No Results Check Defect #25912 -->
		<IF COND="Variables.TotalResults!=0">
		<THEN>
			<XLAT.STREAM KEY="dvin/UI/ItemsstartingPointLastItemTotalResults"/> 
			<IF COND="IsVariable.OrderByDesc=true">
			<THEN>
				&nbsp; <XLAT.STREAM KEY="dvin/UI/sortedby"/> &nbsp; &quot;<STRING.STREAM VARIABLE="OrderByDesc"/>&quot;
			</THEN>
			</IF>	
		</THEN>
		<ELSE>
			<XLAT.STREAM KEY="fatwire/SystemTools/SystemInfo/ThreadInfo/NoResults"/>
		</ELSE>
		</IF>
		
					<SETVAR NAME="CanEditOrDelete" VALUE="false"/>
					<PROPERTY.GET PARAM="xcelelem.manageuserpub" INIFILE="futuretense_xcel.ini" VARNAME="propmanageuserpub"/>
					<CALLELEMENT NAME="Variables.propmanageuserpub">
						<ARGUMENT NAME="upcommand" VALUE="IsSystemAdmin"/>
						<ARGUMENT NAME="username"  VALUE="SessionVariables.username"/>
					</CALLELEMENT>
					<IF COND="Variables.IsSystemAdmin=true">
						<THEN>
							<SETVAR NAME="CanEditOrDelete" VALUE="true"/>
						</THEN>
						<ELSE>
							<IF COND="Variables.LoginuserName=Variables.suser">
								<THEN>
									<SETVAR NAME="CanEditOrDelete" VALUE="true"/>
								</THEN>
							</IF>
						</ELSE>
					</IF>
                    <IF COND="Variables.CanEditOrDelete=true">
                        <THEN>
                                 <XLAT.LOOKUP KEY="dvin/UI/Savelcthislcsearch" VARNAME="_XLAT_"/>
                                 <XLAT.LOOKUP KEY="dvin/UI/Savelcthislcsearch" VARNAME="mouseover" ESCAPE="true"/>
                                 (<A HREF="javascript:savethisSearch('Variables.suser');" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" title="Variables._XLAT_" REPLACEALL="Variables.suser,Variables._XLAT_,Variables.mouseover"><XLAT.STREAM KEY="dvin/UI/SaveThisSearch"/></A>)
                        </THEN>
                    </IF>
                   <BR />
<CALCULATOR.GO VALUE="Variables.pagenum 1 +" VARNAME="pagenext"/>

<INPUT TYPE="HIDDEN" NAME="pagenum" VALUE="1"/>
<INPUT TYPE="HIDDEN" NAME="RPP" VALUE=""/>
 </td>
</tr>

			<tr>
				<td><img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>
	<tr>
    		<td valign="top" class="light-text-color" >
                <IF COND="IsVariable.filterstring=true">
                <THEN>         
                    <!--STRING.ENCODE VARNAME="escapedFilterString" VALUE="Variables.filterstring"/-->
                    <!-- In Filter --> <!-- Defect #19592 :  In Filter requested for removal -->
                    <STRING.STREAM VARIABLE="filterstring"/>
                </THEN>
                </IF>
            
                  <!--  Show the 'edit'  button only when the query results are listed -->
                <IF COND="Variables.ThisPage=SearchPost">
                <THEN>
                   <IF COND="Variables.ThisPage!=EditSearchFront">
                    <THEN>
                            <IF COND="Variables.CanEditOrDelete=true">
                                <THEN>
                                    <XLAT.LOOKUP KEY="dvin/UI/Eitthissearch" VARNAME="_XLAT_"/>
                                    <XLAT.LOOKUP KEY="dvin/UI/Eitthissearch" VARNAME="mouseover" ESCAPE="true"/>
                                    (<A HREF="javascript:editSearch('Variables.suser','Variables.ThisPage')" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" title="Variables._XLAT_" REPLACEALL="Variables.suser, Variables.ThisPage,Variables._XLAT_,Variables.mouseover"><XLAT.STREAM KEY="dvin/UI/EditThisSearch"/></A>)
                                </THEN>
                            </IF>
                    </THEN>
                   </IF>
                 </THEN>
                 </IF>
            </td>
		</tr>
			<tr>
				<td><img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>
		</table>
        <table style="min-width:1000px" border="0" cellspacing="0" cellpadding="0" class="width-outer-70">
			<tr>
				<td>
                    <IF cond="IsVariable.imgName!=true">
                    <THEN>
                        <setvar NAME="imgName" VALUE="down_arrow.gif" />
                    </THEN>
                    </IF>
					<callelement NAME="OpenMarket/Xcelerate/AssetType/Variables.AssetType/Tile" >
                    </callelement>
				</td>
			</tr>
			<tr>
                <IF COND="Variables.cs_environment!=portal">
                <THEN>
                    <td>
                        <XLAT.STREAM KEY="dvin/Common/Show"/>&nbsp; 	
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=0;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">10</A>&nbsp; 
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=1;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">20</A>&nbsp;
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=2;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">30</A>&nbsp;
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=3;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">50</A>&nbsp;
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=4;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">100</A>&nbsp;
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=5;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">200</A>&nbsp;
                        <A HREF="javascript:void(0)" onClick="javascript:document.forms[0].elements['pagename'].value='OpenMarket/Xcelerate/Actions/SearchPost';document.forms[0].elements['ResultLimit'].selectedIndex=6;document.forms[0].elements['paginate'].value='searchpaginate';doSearch();">300</A>&nbsp;
                        <XLAT.STREAM KEY="dvin/UI/itemsperpage"/>
                    </td>
                </THEN>
                <ELSE>
                    <td align="center">
                        <XLAT.LOOKUP KEY="dvin/Common/Done" VARNAME="_XLAT_" ESCAPE="true"/>
                        <A HREF="javascript:void(0);" ONCLICK="window.close();" ONMOUSEOVER="window.status='Variables._XLAT_';return true;" ONMOUSEOUT="window.status=''; return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Done"/></CALLELEMENT></A>
                    </td>
                </ELSE>
                </IF>
			</tr>
		</table>
		</THEN>


			<!-- Display an appropriate search failure message. -->

		<ELSE>
		<table border="0" cellspacing="0" cellpadding="0">
            <IF COND="IsVariable.filterstring=true">
             <THEN>
     			<tr>
                    <td valign="top" class="light-text-color" >
                        <STRING.STREAM VARIABLE="filterstring"/>
                    </td>
      				<td></td>
      			</tr>

                <tr>
                    <td><img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
                </tr>
            </THEN>
             </IF>
 			<tr>
			<IF COND="Variables.saveerrno=-101">
			<THEN>
				<!-- [insert a callelement for in informational message] -->

				<td><span class="alert-color"><XLAT.STREAM KEY="dvin/UI/NoAssetTypeObjpluralwerefound"/></span>
 				<img height="11" width="10" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/>
 
                <XLAT.LOOKUP KEY="dvin/UI/Savelcthislcsearch" VARNAME="_XLAT_"/>
                <XLAT.LOOKUP KEY="dvin/UI/Savelcthislcsearch" VARNAME="mouseover" ESCAPE="true"/>
                (<A HREF="javascript:savethisSearch('Variables.suser');" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" title="Variables._XLAT_" REPLACEALL="Variables.suser,Variables._XLAT_,Variables.mouseover"><XLAT.STREAM KEY="dvin/UI/SaveThisSearch"/></A>)
                </td>
			</THEN>
			<ELSE>
			   <!-- [insert a callelement for in informational message] -->
				<td><span class="alert-color"><XLAT.STREAM KEY="dvin/UI/Invalidsearchcriteria"/></span></td>
			</ELSE>
			</IF>
			</tr>
		</table>
		</ELSE>
		</IF>

		<!-- Display the page footer. -->
        

    

</FTCS>
