<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.2">
<!-- OpenMarket/Xcelerate/Actions/InspectElementAsset
-
- INPUT
- Variables.op : front, post
- Variables.id :  when op=front
- Variables.CSElement:sarguments  : when op=post
-
- OUTPUT
-  renders this element with arguments provided
-->
<SCRIPT LANGUAGE="JavaScript">

<![CDATA[
function checkfields()
{
	var obj = document.forms[0].elements[0];
	if (obj.form.elements['rootelement'].value=="")
	{
		]]>
		alert("<XLAT.STREAM KEY="dvin/Common/AT/NoPagename" ESCAPE="true" ENCODE="false"/>");
		<![CDATA[
		obj.form.elements['rootelement'].focus();
		return false;
	}
	obj.form.submit();
	return false;
}
]]>
</SCRIPT>

<IF COND="Variables.op=front">
<THEN>
    <STRING.ENCODE VARIABLE="PostPage" VARNAME="PostPage"/> 
	<INPUT TYPE="hidden" NAME="pagename" VALUE="OpenMarket/Xcelerate/Actions/Variables.PostPage" REPLACEALL="Variables.PostPage"/>
	
	<ASSET.LOAD NAME="theCurrentAsset" TYPE="CSElement" OBJECTID="Variables.id"/>
	<IF COND="IsError.Variables.errno=true">
	<THEN>
        <XLAT.STREAM KEY="dvin/AT/Forms/ErrorLoadingCSElementAsset" errno="Variables.errno" EVALALL="false"/>	    
	    <THROWEXCEPTION/>
	</THEN>
	</IF>

	<ASSET.SCATTER NAME="theCurrentAsset" PREFIX="ContentDetails" FIELDLIST="name,description,rootelement,Arguments"/>
	<IF COND="IsError.Variables.errno=true">
	<THEN>
        <XLAT.STREAM KEY="dvin/AT/Forms/ErrorScatteringCSElementAsset" errno="Variables.errno" EVALALL="false"/>
	    <THROWEXCEPTION/>
	</THEN>
	</IF>
	        
	<table class="width-outer-70" border="0" cellpadding="0" cellspacing="0">
	<tr>
	<td><span class="title-text"><XLAT.STREAM KEY="dvin/AT/Forms/InspectCSElementWithArguments"/></span><span class="title-value-text"></span></td>
	</tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
	<tr>
	<td>
		<table border="0" cellpadding="0" cellspacing="0">
				<!-- Beginning of Group 1 -->
				<!--<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacerBar">
					<argument NAME="SpaceAbove" VALUE="No"/>
				</callelement>-->
				<tr>
					<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/Name"/></td>
					<td></td>
	                <td class="form-inset">
					    <STRING.STREAM VARIABLE="ContentDetails:name"/>                            
                   </td>
	  			</tr>
	
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
				<tr>
					<td valign="top" class="form-label-text"><XLAT.STREAM KEY="dvin/AT/Common/Description"/>:</td>
					<td></td>
					<td class="form-inset" valign="top">			
					    <STRING.STREAM  VARIABLE="ContentDetails:description"/>	
					</td>
				</tr>
	
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
				<tr>
					<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/AT/Rootelement"/>:</td>
					<td></td>
	                <td class="form-inset">
					    <STRING.STREAM VARIABLE="ContentDetails:rootelement"/>
						<STRING.ENCODE VARIABLE="ContentDetails:rootelement" VARNAME="ContentDetails:rootelement"/> 
					    <INPUT TYPE="HIDDEN" NAME="rootelement" VALUE="Variables.ContentDetails:rootelement" REPLACEALL="Variables.ContentDetails:rootelement"/>                            
						</td>
	  			</tr>
	  			
	  			<if COND="Variables.ContentDetails:Arguments:Total!=0">
	  			<then>
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
		  		   <tr>
						<td CLASS="form-label-text"><XLAT.STREAM KEY="dvin/Common/AT/DefaultArgumentsforInspect"/>:</td>
						<td></td>
						<td class="form-inset">
							<table>
							<SETCOUNTER NAME="nthArg" VALUE="0"/>
							<LOOP COUNT="Variables.ContentDetails:Arguments:Total">
								<tr>
								<td valign="top">
								<DIV CLASS="form-label-inset" style="margin:0;"><STRING.STREAM VARIABLE="ContentDetails:Arguments:Counters.nthArg:name"/></DIV>
								<DIV CLASS="small-text-inset"><STRING.STREAM VARIABLE="ContentDetails:Arguments:Counters.nthArg:description"/></DIV>
								</td>
								<td><br/></td>
								<td valign="top">
								<setvar NAME="argname" VALUE="Variables.ContentDetails:Arguments:Counters.nthArg:name"/>
								<setvar NAME="numValues" VALUE="Variables.ContentDetails:Arguments:Counters.nthArg:values:Total"/>
								<if COND="Variables.numValues!=0">
								<then>
									<SETCOUNTER NAME="nthValue" VALUE="0"/>
									<SELECT class="form-inset" NAME="Variables.argname" REPLACEALL="Variables.argname">
										<LOOP COUNT="Variables.numValues">
											<setvar NAME="value" VALUE="Variables.ContentDetails:Arguments:Counters.nthArg:values:Counters.nthValue:value"/>
											<setvar NAME="description" VALUE="Variables.ContentDetails:Arguments:Counters.nthArg:values:Counters.nthValue:description"/>
											<STRING.ENCODE VARIABLE="value" VARNAME="value"/>
											<OPTION VALUE="Variables.value" REPLACEALL="Variables.value"/>
											<if COND="Variables.description!=Variables.empty">
											<then>
												<STRING.STREAM VARIABLE="description"/>
											</then>
											<else>
												<STRING.STREAM VARIABLE="value"/>
											</else>
											</if>
											<INCCOUNTER NAME="nthValue" VALUE="1"/>
										</LOOP>
									</SELECT>
								</then>
								<else>
									<STRING.ENCODE VARIABLE="argname" VARNAME="argname"/>
									<INPUT class="form-inset" TYPE="text" NAME="Variables.argname" REPLACEALL="Variables.argname"/>
								</else>
								</if>
								</td>
								</tr>
								<INCCOUNTER NAME="nthArg" VALUE="1"/>
							</LOOP>
							</table>
						</td>
					</tr>
				</then>
				</if>													
							
	 			<!--<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacerBar"/>-->
	 			<tr><td>
	 			<XLAT.LOOKUP KEY="dvin/Common/Preview" ESCAPE="true" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/Preview" VARNAME="_ALT_"/>
				<A HREF="javascript:void(0)" onclick="return checkfields();" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.ContentDetails:rootelement,Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Preview_"/></CALLELEMENT></A>
	  			</td><td></td>
	  			</tr>
	  			
		</table>
	<!-- End of body -->
	</td>
	</tr>
	
	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
	<tr>
	<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/> 
	<td><img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	</tr>
	</table>
</THEN>
</IF>


<IF COND="Variables.op=post">
<THEN>
    <IF COND="IsVariable.rootelement!=Variables.empty">
    <THEN>        
        <RENDER.CALLELEMENT ELEMENTNAME="Variables.rootelement" SCOPED="global"/>     
    </THEN>
    <ELSE>
        <XLAT.STREAM KEY="dvin/Common/AT/NoPagename"/>
        <THROWEXCEPTION/>
    </ELSE>
    </IF>
</THEN>
</IF>
	
</FTCS> 
