<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/DeletessFront.xml $ 
$Revision: 9 $ 
$Modtime: 2/27/04 2:46p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- DeleteFront.xml
-
- DESCRIPTION
-	Delete a content item
- 	Required input variables: id and AssetType
-
- HISTORY 
-
- May 26 00 (Jeff Sokolov)
- Convert to standard UI layout
-
-->

<INPUT TYPE="hidden" NAME="action" VALUE="delete"/>

<SCRIPT LANGUAGE="JavaScript">
<![CDATA[

function SetCancelFlag () {
	var obj = document.forms[0].elements[0];

	obj.form.elements['action'].value="cancel";
     obj.form.delcan.value='canceldel';
	obj.form.submit();
	return false;

//obj.form.pagename.value='OpenMarket/Xcelerate/Actions/SearchPost';
}
]]>
</SCRIPT>

<!-- check to see if the item is deletable:

- this is done by calling an element associated with the asset to see if
 it is thinks that it is deletable

--> 

<setvar NAME="hasPermission"  VALUE="yes"/>
<input type="hidden"  name="frompage"  value="DeletessFront"/> 

<input type="hidden"  name="delcan"  value=""/> 
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
 <table cellpadding="0" cellspacing="0" border="0">

    <!-- Asset title with asset name -->
	<tr>
		<td><span class="title-text"><XLAT.STREAM KEY="dvin/UI/DeleteSearch"/>: </span><span class="title-value-text"><STRING.STREAM VARIABLE="critname"/></span></td>
	</tr>

	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar">
		<argument NAME="SpaceBelow" VALUE="No"/>
	</callelement>

	<tr>
		<td>

			<!-- check to see if 
                        --this user has permission to delete this item
                        --if this Search is being edited from someone
                        --and hence it is locked
            -->
                
    		 	
				<if COND="Variables.hasPermission=yes">
				<then>
					<!-- all checks successful, proceed to completion -->
					<STRING.ENCODE VARIABLE="PostPage" VARNAME="PostPage"/>
					<INPUT type="hidden" name="pagename" value="OpenMarket/Xcelerate/Actions/Variables.PostPage" REPLACEALL="Variables.PostPage"/>
                    <STRING.ENCODE VARIABLE="searchid" VARNAME="searchid"/> 
					<INPUT type="hidden" name="ssid" value="Variables.searchid" REPLACEALL="Variables.searchid"/>
		
					<setvar NAME="errno" VALUE="0"/>
		
					<callelement NAME="OpenMarket/Xcelerate/Actions/Util/InsertStdVariables"/>
					<STRING.ENCODE VARIABLE="alreadylocked" VARNAME="alreadylocked"/>
					<INPUT type="hidden" name="alreadylocked" VALUE="Variables.alreadylocked"/>
   				    <XLAT.LOOKUP KEY="dvin/UI/AssetMgt/Delete-AreYouSure?" VARNAME="_xlat_delete"/>
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
						<argument NAME="msgtext" VALUE="Variables._xlat_delete"/>
						<argument NAME="severity" VALUE="warning"/>
					</callelement>	
					<img height="10" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/>
					<table cellpadding="0" cellspacing="0" border="0">
					<tr>
						<td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/SearchName"/>:</td>
						<td><img height="1" width="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
						<td class="form-inset"><STRING.STREAM VARIABLE="critname"/></td>
					</tr>
	
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<tr>
						<td class="form-label-text"><XLAT.STREAM KEY="dvin/UI/AssetType"/>:</td>
						<td></td>
						<td class="form-inset"><STRING.STREAM VARIABLE="AssetType"/></td>
					</tr>
	
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<tr>
						<td class="form-label-text"><XLAT.STREAM KEY="dvin/UI/SearchID"/>:</td>
						<td></td>
 						<td class="form-inset"><STRING.STREAM VARIABLE="searchid"/></td>
					</tr>
					<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
 				  </table>
				</then>
				</if>
		</td>
	</tr>

	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
    
    <!--
	<if COND="Variables.doproceed=true">
	<then>
    -->
 	
		<tr>
			<td colspan="5" height="5"><img height="5" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
		</tr>
		<tr>
			<td align="right"><XLAT.LOOKUP KEY="dvin/UI/CancelDelete" VARNAME="_XLAT_" ESCAPE="true"/>
			<A HREF="javascript:void(0)" onclick="return SetCancelFlag()" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
            <XLAT.LOOKUP KEY="dvin/UI/Deletethisitem" VARNAME="_XLAT_" ESCAPE="true"/>
            <A HREF="javascript:void(0)" onclick="document.forms[0].submit();return false;" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/DeleteThisItem"/></CALLELEMENT></A></td>
		</tr>
    <!--
	</then>
	</if>
    -->
	
</table>					

 
    <!--
<if COND="Variables.doproceed!=true">
<then>
	<callelement NAME="OpenMarket/Xcelerate/Actions/ContentDetailsFront">
		<argument NAME="assettype" VALUE="Variables.AssetType"/>
		<argument NAME="id" VALUE="Variables.id"/>
    </callelement>
</then>
</if>

  -->
</FTCS>
