<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Xcelerate/Actions/ApproveAssets
-
- INPUT
-
-      Variables.list -- IList of assets to be approved
-      Variables.recursive -- (boolean)approve dependencies or not
-      Variables.force -- (boolean)force approval or not
-      Variables.target -- target id
-
- OUTPUT
-
-->

<PUBTARGETMANAGER.LOAD ID="Variables.target" OBJVARNAME="pubtgt"/>
<PUBTARGET.SCATTER NAME="pubtgt" PREFIX="pubtgt:"/>
<if COND="IsError.Variables.errno=true">
<then>
     <P><XLAT.STREAM KEY="dvin/UI/Error/notloadpublishingtargettypefieldErrno" errno="Variables.errno" EVALALL="false"/>
     </P>
</then>
</if>

<if COND="IsError.Variables.errno=false">
<then>
     <DELIVERYTYPE.LOAD NAME="pubdt" OBJECTID="Variables.pubtgt:type"/>
     <DELIVERYTYPE.GET NAME="pubdt" FIELD="path" OUTPUT="pubdt:path"/>
     <if COND="IsError.Variables.errno=true">
     <then>
          <P><XLAT.STREAM KEY="dvin/UI/Error/notloadpublishingdeliverytypepathErrno" errno="Variables.errno" EVALALL="false"/>
          </P>
     </then>
     </if>
</then>
</if>

<if COND="IsError.Variables.errno=false">
<then>
     <if COND="IsElement.Variables.pubdt:path/ApproveAssets=true">
     <then>
          <callelement NAME="Variables.pubdt:path/ApproveAssets">
	      <argument NAME="list" VALUE="Variables.list"/>
              <argument NAME="recursive" VALUE="Variables.recursive"/>    
              <argument NAME="force" VALUE="Variables.force"/>
              <argument NAME="target" VALUE="Variables.target"/>
	  </callelement>
     </then>
     <else>
          <P><XLAT.STREAM KEY="dvin/UI/Error/notfindApproveAssetsdeliverytypepubtgt"/>
          </P>
     </else>
     </if>
</then>
</if>

</FTCS>
