<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Xcelerate/Actions/AssetMgt/TileMixedAssets

 INPUT
	Variables.list - list of assets containing assetid, assettype columns 
	Variables.target - (optional) if provided preview button will consider publish target
	Variables.targetname - (optional) use in conjunction with target 
   Variables.cs_SelectionStyle - optional [single|multiple] link or checkbox for
     selection
 OUTPUT
 displays list of assets of various asset type, 
-->
<callelement NAME="OpenMarket/Xcelerate/Scripts/GotoPreview"/>

     <SETCOUNTER NAME="colspan_count" VALUE="8"/>

    <IF COND="Variables.doIcons!=false">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="1"/>
	</THEN>
    </IF>

    <IF COND="Variables.doDescription!=false">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="3"/>
	</THEN>
    </IF>

    <IF COND="Variables.cs_SelectionStyle=multiple">
    <THEN>
      <INCCOUNTER NAME="colspan_count" VALUE="2"/>
    </THEN>
    </IF>

	<IF COND="Variables.doStartDate!=false">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2" />
	</THEN>
	</IF>
	<IF COND="Variables.doEndDate!=false">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2" />
	</THEN>
	</IF>
	<IF COND="Variables.doDaysExpired!=false">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2" />
	</THEN>
	</IF>	

<table class="width-outer-70"  BORDER="0" CELLSPACING="0" CELLPADDING="0">
<tr>
	<td></td><td class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
</tr>
<tr>
<td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
<td >
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
	<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
	<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
        <IF COND="Variables.cs_SelectionStyle=multiple">
        <THEN>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><BR /></DIV></td>
        </THEN>
        </IF>
        <IF COND="Variables.doIcons!=false">
		<THEN>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><BR /></DIV></td>
        </THEN>
        </IF>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Type"/></DIV></td>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Name"/></DIV></td>
        <IF COND="Variables.doDescription!=false">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title">&nbsp;</DIV></td>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td>
        </THEN>
        </IF>
		<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><BR/></td><td NOWRAP="NOWRAP" class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Dimension/Locale"/></DIV></td>
		<IF COND="Variables.doStartDate!=false">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" nowrap="nowrap" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="fatwire/Alloy/UI/StartDate"/></DIV></td>		
		</THEN>
		</IF>
		<IF COND="Variables.doEndDate!=false">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" nowrap="nowrap" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="fatwire/Alloy/UI/EndDate"/></DIV></td>
		</THEN>
		</IF>
		<IF COND="Variables.doDaysExpired!=false">
		<THEN>	
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" nowrap="nowrap" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="fatwire/Alloy/UI/DaysExpired"/></DIV></td>
		</THEN>
		</IF>
		<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
	</tr>
	<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
     
	<SETCOUNTER NAME="assignment_count" VALUE="0"/>
	<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
	<!-- Loop over all search results. -->
   
	<setvar NAME="separatorLine" VALUE="0"/>

	<!-- Retrieve the list of asset type icon file names -->
	<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GetImagePath"/>
	<FILELIST NAME="ImagesList" PATH="Variables.realPath" FILTER="*.gif" />
	
	<SETVAR NAME="fileslist" VALUE="" />	
	<LOOP LIST="ImagesList">
		<ICS.LISTGET LISTNAME="ImagesList" FIELDNAME="NAME" OUTPUT="filename" />		
		<SETVAR NAME="fileslist" VALUE="Variables.fileslistVariables.filename%" />
	</LOOP>
	<STRINGLIST NAME="imageList" STR="Variables.fileslist" DELIM="%25" />
	<ICS.LISTGET LISTNAME="imageList" FIELDNAME="#numRows" OUTPUT="rows" />
	<loop LIST="Variables.list">

	<!-- Note: this is not very efficient, loading each asset this way - candidate for performance improvemnet -->
    <!-- scarey: I don't see why we can't just do an asset.list if all the info we need is name, description,
      updateddate, id, and status so I'll do it. -->
	<SETVAR NAME="assettype" VALUE="Variables.list.assettype"/>
	<ASSETTYPE.LOAD NAME="theAssetType" TYPE="Variables.assettype"/>
	<ASSETTYPE.GET NAME="theAssetType" FIELD="description" OUTPUT="atdescription"/>
    <ASSET.GETASSETTYPEPROPERTIES TYPE="Variables.list.assettype"/>
	<ASSET.LIST LIST="lCurrentAsset" FIELD1="id" VALUE1="Variables.list.assetid" TYPE="Variables.list.assettype"/>
    
	<if COND="IsError.Variables.errno=false">
	<then>
        <SETVAR NAME="name" VALUE="lCurrentAsset.name"/>
        <SETVAR NAME="description" VALUE="lCurrentAsset.description"/>
        <SETVAR NAME="updateddate" VALUE="lCurrentAsset.updateddate"/>
        <SETVAR NAME="assetid" VALUE="lCurrentAsset.id"/>
        <SETVAR NAME="status" VALUE="lCurrentAsset.status"/>
		<SETVAR NAME="startDate" VALUE="lCurrentAsset.startdate" />
		<SETVAR NAME="endDate" VALUE="lCurrentAsset.enddate" />
	
		<IF COND="Variables.separatorLine=1">
			<THEN>
			<tr>
				<!--<td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
			</tr>
			</THEN>
		</IF>

	<setvar NAME="separatorLine" VALUE="1"/>
	<tr class="Variables.rowStyle" REPLACEALL="Variables.rowStyle">
		<IF COND="Variables.cs_SelectionStyle=multiple">
        <THEN>
          <td><BR /></td>
          <td style="vertical-align:middle;text-align:center;"  >
			<string.encode VARIABLE="name" VARNAME="encodedName"/>
            <input type="checkbox" name="cs_SelectedAssets" value="Variables.assettype:Variables.assetid:Variables.encodedName" REPLACEALL="Variables.assetid,Variables.assettype,Variables.encodedName"/>
          </td>
        </THEN>
        </IF>
        <td><BR /></td>
        <IF COND="Variables.doIcons!=false">
		<THEN>
			<td style="vertical-align:middle"   NOWRAP="NOWRAP">
				<if COND="Variables.CanPreview=true">
				<then>
					<if COND="IsVariable.target=true">
					<then>
                        <PREVIEWURL.MAKEURL VARNAME="previewURL" ASSETTYPE="Variables.assettype" ASSETID="Variables.assetid" PUBID="SessionVariables.pubid" TARGET="Variables.target"/>
                        <IF COND="IsVariable.previewURL=true">
                        <THEN>
    						<XLAT.LOOKUP KEY="dvin/UI/Previewthisfortargetname" VARNAME="_XLAT_"/>
    						<XLAT.LOOKUP KEY="dvin/UI/Previewthisfortargetname" VARNAME="mouseover" ESCAPE="true"/>
                            <A HREF="javascript:void(0)" onclick="openPreview('Variables.previewURL');" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.previewURL,Variables.targetname,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconPreviewContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
                        </THEN>
						<ELSE>
							<img height="14" width="14" hspace="2" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" border="0" REPLACEALL="Variables.cs_imagedir"/>
						</ELSE>
                        </IF>
					</then>
					<else>
						<XLAT.LOOKUP KEY="dvin/Common/PreviewThisItem" VARNAME="_XLAT_"/>
						<XLAT.LOOKUP KEY="dvin/Common/PreviewThisItem" VARNAME="mouseover" ESCAPE="true"/>
                        <PREVIEWURL.MAKEURL VARNAME="previewURL" ASSETTYPE="Variables.assettype" ASSETID="Variables.assetid" PUBID="SessionVariables.pubid"/>
						<A HREF="javascript:void(0)" onclick="openPreview('Variables.previewURL');" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.previewURL,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconPreviewContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
					</else>
					</if>
				</then>
				<else>
					<img height="14" width="14" hspace="2" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" border="0" REPLACEALL="Variables.cs_imagedir"/>
				</else>
				</if>
				<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="mouseover" ESCAPE="true"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
					<ARGUMENT NAME="assettype" VALUE="Variables.assettype"/>
					<ARGUMENT NAME="assetid" VALUE="Variables.assetid"/>
					<ARGUMENT NAME="varname" VALUE="urlInspectItem"/>
					<ARGUMENT NAME="function" VALUE="inspect"/>
				</CALLELEMENT>
				<A href="Variables.urlInspectItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlInspectItem,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
				<XLAT.LOOKUP KEY="dvin/Common/EditThisItem" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/EditThisItem" VARNAME="mouseover" ESCAPE="true"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
					<ARGUMENT NAME="assettype" VALUE="Variables.assettype"/>
					<ARGUMENT NAME="assetid" VALUE="Variables.assetid"/>
					<ARGUMENT NAME="varname" VALUE="urlEditItem"/>
					<ARGUMENT NAME="function" VALUE="edit"/>
				</CALLELEMENT>
				<A href="Variables.urlEditItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlEditItem,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
				<XLAT.LOOKUP KEY="dvin/Common/UnapproveThisItem" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/UnapproveThisItem" VARNAME="mouseover" ESCAPE="true"/>
				<IF COND="IsVariable.target=true">
				<THEN>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
						<ARGUMENT NAME="assettype" VALUE="Variables.assettype"/>
						<ARGUMENT NAME="assetid" VALUE="Variables.assetid"/>
						<ARGUMENT NAME="varname" VALUE="urlUnapproveItem"/>
						<ARGUMENT NAME="function" VALUE="unapprove"/>
						<ARGUMENT NAME="target" VALUE="Variables.target"/>
					</CALLELEMENT>
					<A href="Variables.urlUnapproveItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlUnapproveItem,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconUnapproveContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
					<BR />
				</THEN>
				</IF>
			</td>
        </THEN>
        </IF>
		<IF COND="Variables.doStartDate!=false">
		<THEN>			
				<td>
					<!-- 
						This section of code performs validation of the start date and end date of the current asset (the asset that is a row in the to-be-published assets table)
						The validation is done to check for two things 
							1) if the start date of the asset occurs in the future 
							2) if the end date of the asset occurs in the past
						If either of the above is true, then we need to warn the user in the publshing screen
						
						We show the warning by means of an image that is displayed near the Start and end dates column.
						On mouse over this image shows the reason in the status bar (either 'Start date occurs in future' or 'End date occurs in the past' message)
						The validation is actually done in the JSP element CheckStartDateEndDateValidity.jsp, which takes the start date and end date as input
						and checks for the conditions (1 and 2 above). If any of the conditions match, the jsp element sets the appropriate message in the ICS variable
						called dateRangeFailureDetail, which can then later be used for the image mouseover.
						
						-Sathish Paul Leo for the Site Preview Proj
					-->
						<SETVAR NAME="dateRangeValid" VALUE="true" />
						<SETVAR NAME="dateRangeFailureDetail" VALUE=""/>
						<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/Util/CheckStartDateEndDateValidity">
							<ARGUMENT NAME="startDate" VALUE="Variables.startDate" />
							<ARGUMENT NAME="endDate" VALUE="Variables.endDate" />							
						</CALLELEMENT>
						<IF COND="Variables.dateRangeValid=false">
						<THEN>							
							<IMG NAME="imageForDates" SRC="Variables.cs_imagedir/graphics/common/logo/startEndDateValidity.gif" TITLE="Variables.dateRangeFailureDetail" REPLACEALL="Variables.cs_imagedir,Variables.dateRangeFailureDetail" HEIGHT="15" WIDTH="15" />
						</THEN>
						</IF>
				</td>		
		</THEN>
		</IF>
			
			<td style="vertical-align:middle"   NOWRAP="NOWRAP" >
				<DIV class="small-text-inset">
					<SETVAR NAME="currentAtype" VALUE="Variables.list.assettype.png" />
					<ISINLIST ITEM="Variables.currentAtype" LIST="imageList" />
					<STRING.ENCODE VARIABLE="atdescription" VARNAME="atdescription"/>
					<IF COND="Variables.errno=1">
					<THEN>
						<IMG NAME="assetTypeImage" SRC="Variables.cs_imagedir/OMTree/TreeImages/AssetTypes/Variables.list.assettype.png" TITLE="Variables.atdescription" REPLACEALL="Variables.cs_imagedir,Variables.list.assettype,Variables.atdescription" />
					</THEN>
					<ELSE>
						<IMG NAME="assetTypeImage" SRC="Variables.cs_imagedir/OMTree/TreeImages/default.png" TITLE="Variables.atdescription" REPLACEALL="Variables.cs_imagedir,Variables.atdescription" />
					</ELSE>
					</IF>
					<BR />
				</DIV>
			</td>

		<td><BR /></td>
			<td style="vertical-align:middle"   NOWRAP="NOWRAP" >
				<DIV class="small-text-inset">
				<STRING.LENGTH VALUE="Variables.name" VARNAME="strlen" />
				<CALCULATOR.GO VALUE="Variables.strlen 30 GT" VARNAME="result"/> 
				<IF COND="Variables.result=1">
				<THEN>
					<SUBSTRING STR="Variables.name" OUTSTR="shortName" ENDINDEX="25" />
					<SETVAR NAME="shortName" VALUE="Variables.shortName..."/>
				</THEN>
				<ELSE>
					<SETVAR NAME="shortName" VALUE="Variables.name" />
				</ELSE>
				</IF>
                  <IF COND="IsVariable.cs_SelectionStyle=true">
                  <THEN>
                    <XLAT.LOOKUP KEY="dvin/UI/Admin/Select" VARNAME="_XLAT_"/>
                    <XLAT.LOOKUP KEY="dvin/UI/Admin/Select" VARNAME="mouseover" ESCAPE="true"/>
                    <string.encode VARIABLE="name" ESCAPE="true" VARNAME="encodedName"/>
                    <a href="javascript:void(0);" onclick="return SetSelection('Variables.assettype:Variables.assetid:Variables.encodedName')" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" title="Variables._XLAT_"  REPLACEALL="Variables._XLAT_,Variables.mouseover,Variables.assettype,Variables.assetid,Variables.encodedName">
                      <STRING.STREAM VARIABLE="shortName"/>
                    </a>
                  </THEN>
                  <ELSE>
					<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="_XLAT_"/>
					<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="mouseover" ESCAPE="true"/>
					<!-- Generate the urlInspectItem link again as the previous one might not have been generated if the doIcons variable is set to false -->
					<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
						<ARGUMENT NAME="assettype" VALUE="Variables.assettype"/>
						<ARGUMENT NAME="assetid" VALUE="Variables.assetid"/>
						<ARGUMENT NAME="varname" VALUE="urlInspectItem"/>
						<ARGUMENT NAME="function" VALUE="inspect"/>
					</CALLELEMENT>
					<A HREF="Variables.urlInspectItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" title="Variables._XLAT_"  REPLACEALL="Variables.urlInspectItem,Variables._XLAT_,Variables.mouseover">
					<STRING.STREAM VARIABLE="shortName"/>
					</A><BR />
                  </ELSE>
                  </IF>
				</DIV>
			</td>
		
        <IF COND="Variables.doDescription!=false">
		<THEN>
			<td><BR /></td>
			<td style="vertical-align:middle"   >
				<DIV class="small-text-inset">
		            <IF COND="Variables.description=Variables.empty">
		            <THEN>
		                <XLAT.LOOKUP KEY="fatwire/Alloy/UI/AssetHasNoDescription" VARNAME="assetHasNoDescription" />
		                <SETVAR NAME="description" VALUE="Variables.assetHasNoDescription" />
		            </THEN>
		            <ELSE>
		                <STRING.ENCODE VARIABLE="description" VARNAME="description"/>
		            </ELSE>
		            </IF>
		            <IMG NAME="imageForDescription" SRC="Variables.cs_imagedir/graphics/common/logo/assetDescription.gif" TITLE="Variables.description" REPLACEALL="Variables.cs_imagedir,Variables.description" HEIGHT="15" WIDTH="15" />					
				</DIV>
			</td>
			<td><br/></td>
        </THEN>
        </IF>
		<td class="border"><BR/></td>
            <td class="border" style="vertical-align:middle"   >
                <DIV class="small-text-inset">
                    <ASSET.GETLOCALES TYPE="Variables.assettype" OBJECTID="Variables.assetid" LIST="asset:locales"/>
                    <LOOP LIST="asset:locales">
                        <STRING.STREAM LIST="asset:locales" COLUMN="NAME"/>
                    </LOOP>
                    <BR />
                </DIV>
        </td>

		<IF COND="Variables.doStartDate!=false">
		<THEN>
			<!-- Code to print out the start and end date values for the asset -->
			<td><BR /></td>
			<td style="vertical-align:middle"   nowrap="nowrap">
				<DIV class="small-text-inset">
                    <DATEFORMAT.CREATE NAME="_shortFormatDate_" DATESTYLE="SHORT" TIMESTYLE="SHORT" LOCALE="LocaleName" TIMEZONEID="SessionVariables.time.zone"/>
                    <DATEFORMAT.GETDATETIME NAME="_shortFormatDate_" VALUE="Variables.startDate" VALUETYPE="jdbcdate" VARNAME="startDateShortVersion" />
					<IF COND="Variables.startDateShortVersion=Variables.empty">
					<THEN>
						<STRING.STREAM VALUE="-" />
					</THEN>
					<ELSE>						
						<STRING.STREAM VALUE="Variables.startDateShortVersion" />
					</ELSE>
					</IF>
				</DIV>
			</td>
		</THEN>
		</IF>
		
		<IF COND="Variables.doEndDate!=false">
		<THEN>
			<td><BR /></td>
			<td style="vertical-align:middle"   nowrap="nowrap">
				<DIV class="small-text-inset">
                    <DATEFORMAT.CREATE NAME="_shortFormatDate_" DATESTYLE="SHORT" TIMESTYLE="SHORT" LOCALE="LocaleName"   TIMEZONEID="SessionVariables.time.zone"/>
                    <DATEFORMAT.GETDATETIME NAME="_shortFormatDate_" VALUE="Variables.endDate" VALUETYPE="jdbcdate" VARNAME="endDateShortVersion" />
					<IF COND="Variables.endDateShortVersion=Variables.empty">
					<THEN>
						<STRING.STREAM VALUE="-" />
					</THEN>
					<ELSE>
						<STRING.STREAM VALUE="Variables.endDateShortVersion" />
					</ELSE>
					</IF>
				</DIV>
			</td>
		</THEN>
		</IF>
		
		<IF COND="Variables.doDaysExpired!=false">
		<THEN>
			<td></td>
				<td style="vertical-align:middle"   NOWRAP="NOWRAP">
					<DIV class="small-text-inset">
						<STRING.STREAM VALUE="Variables.daysExpired" />
					</DIV>
				</td>
			<!-- End of Code to print out the start and end date values for the asset -->			
		</THEN>
		</IF>
	<td><BR /></td>
	</tr>
		<inccounter NAME="assignment_count" VALUE="1"/>
		<IF COND="Variables.rowStyle=tile-row-normal">
		<THEN>
			<SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
		</THEN>
		<ELSE>
			<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
		</ELSE>
		</IF>

	</then>
	<else>
		<XLAT.STREAM KEY="dvin/UI/Error/errnoloadingassetassettypewithididcol" errno="Variables.errno" assettype="Variables.list.assettype" assetid="Variables.list.assetid" EVALALL="false"/>
	</else>
	</if>
	</loop>

		</table>
		</td>
		<td class="tile-dark" style="vertical-align:middle"   WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	</tr>
	<tr>
		<td colspan="3" class="tile-dark" style="vertical-align:middle"   HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	</tr>
	<tr>
		<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
	</tr>
<FLUSH LIST="Variables.list"/>
</table>
</FTCS>
