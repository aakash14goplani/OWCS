<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Xcelerate/Actions/Workflow/StepConditions/ExampleStepCondition
-
- INPUT
-
- OUTPUT
-
-->
<CSVAR NAME="This step condition will check if step can be taken"/><br/>

		<setvar NAME="ReturnVal" VALUE="Variables.empty"/>
		<!-- change the value of ReturnVal to a non-empty string later on, if you want to stop the step -->
		<!-- most of the stuff below are debugging statements and also show you some items available
			to you to set up a condition for stopping the step -->

		<!-- get asset -->
		<WORKFLOWABLEOBJECT.GETDISPLAYABLENAME OBJECT="Object" VARNAME="assetdisplayablename"/>
		<XLAT.STREAM KEY="dvin/Common/Object"/>:<STRING.STREAM VALUE="Variables.assetdisplayablename"/><br/>

		<!-- get userid -->
		<XLAT.STREAM KEY="dvin/UI/Wf/Userid"/>: <STRING.STREAM VALUE="Variables.StepUser"/><br/>
        		<USERMANAGER.GETUSER OBJVARNAME="myUserObj" USER="Variables.StepUser"/>
		<CCUSER.GETDISPLAYABLENAME NAME="myUserObj" VARNAME="uname"/>
		<XLAT.STREAM KEY="dvin/Common/Username"/>: <STRING.STREAM VALUE="Variables.uname"/><br/>

		<!-- getstep -->
		<WORKFLOWSTEP.GETID NAME="Step" VARNAME="sid"/>
		<XLAT.STREAM KEY="dvin/UI/Wf/Stepid"/>: <STRING.STREAM VALUE="Variables.sid   "/>
		<WORKFLOWSTEP.GETNAME	 NAME="Step" VARNAME="sname"/>
		<XLAT.STREAM KEY="dvin/UI/Wf/Stepname"/>: <STRING.STREAM VALUE="Variables.sname"/><br/><br/>

		<!-- This is the actual condition to stop the step 
			Following is just an example.  -->

			<if COND="Variables.forcestop=true">
			<then>
				<setvar NAME="ReturnVal" VALUE="You can not take this step because forcestop=true"/>
			</then>
			<else>
			<if COND="Variables.uname=Variables.notalloweduser">
			<then>
				<setvar NAME="ReturnVal" VALUE="You are not allowed to take this step"/>
			</then>
			</if>
			</else>
			</if>



</FTCS> 
