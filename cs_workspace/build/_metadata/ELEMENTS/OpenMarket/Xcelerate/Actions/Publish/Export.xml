<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Xcelerate/Actions/Publish/Export
-
- INPUT
-
- OUTPUT
-
-->

<ASSET.LOAD TYPE="Variables.c" OBJECTID="Variables.cid" NAME="asset"/>
<if COND="IsError.Variables.errno!=true">
<then>
     <ASSET.SCATTER NAME="asset" PREFIX="asset"/>
</then>
<else>
     <XLAT.STREAM KEY="dvin/UI/Error/Exportfailednotloadasset"/><br/>
</else>
</if>

<if COND="IsError.Variables.errno!=true">
<then>
     <!--If this is a Page, override p -->
     <if COND="Variables.c=Page">
     <then>
	  <ASSET.SITEPARENT NAME="asset" OUTNAME="render:parent"/>
	  <if COND="IsError.Variables.errno=false">
	  <then>
	       <ASSET.GET NAME="render:parent" FIELD="id" OUTPUT="p"/>
	  </then>
	  </if>
     </then>
     </if>

     <!-- Look up the Template given name, asset type (if it can't be found, will use asset default) -->
    <if COND="IsVariable.t=true">
     <then>
 			<ASSET.GETTEMPLATEROOTELEMENT NAME="asset" OUTPUT="render:element" TEMPLATE="Variables.t"/>
     </then>
     <else>
			<ASSET.GETTEMPLATEROOTELEMENT NAME="asset" OUTPUT="render:element"/>
		</else>
		</if>
</then>
</if>

<if COND="IsError.Variables.errno!=true">
<then>
     <callelement NAME="Variables.render:element"/>
</then>
</if>
</FTCS> 
