<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!--
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/Publish/TilePublished.xml $
$Revision: 34 $
$Modtime: 9/22/03 11:53a $
-->

<!--
- Confidential and Proprietary Information of Open Market Inc.
-					All Rights Reserved.
-
- TilePublished.xml
-
- DESCRIPTION
-	Display a publishing session.
-
- INPUT
- pubsess			The object pool name of the session.
-
- OUTPUT
- Variables.pubsess:*		The session fields tag.
-
-->

<TABLE BORDER="0">
<TR>
    <TD class="form-label-text" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/AT/Common/Status"/></TD>
    <TD class="form-inset" ALIGN="LEFT">
	 <PUBSESSION.GETSTATUS NAME="pubsess" VARNAME="pubsess:status"/>
    <if COND="Variables.pubsess:status=done">
    <then>
        <XLAT.STREAM KEY="dvin/Common/Successfulcompletion"/>
    </then>
    <else>
	<if COND="Variables.pubsess:status=failed">
	<then>
	    <XLAT.STREAM KEY="dvin/UI/Error/PublishingfailedSeelogbelow"/>
	    <!--TBD Message log should be displayed only on demand-->
	</then>
	<else>
	    <XLAT.STREAM KEY="dvin/UI/Publish/PublishingstillrunningorquitSeelog"/>
	    <!--TBD Message log should be displayed only on demand-->
	</else>
	</if>
    </else>
    </if>
    </TD>
</TR>

<TR>
    <TD class="form-label-text" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/Common/Publishedby"/></TD>
	 <PUBSESSION.GETUSER NAME="pubsess" VARNAME="pubsess:publishedby"/>
    <TD class="form-inset" ALIGN="LEFT"><STRING.STREAM VALUE="Variables.pubsess:publishedby"/></TD>
</TR>

<TR>
    <TD class="form-label-text" ALIGN="LEFT">
    <if COND="Variables.pubsess:status!=running">
    <then>
	<XLAT.STREAM KEY="dvin/UI/Publish/Publishingcompleted"/>
    </then>
    <else>
	<XLAT.STREAM KEY="dvin/UI/Publish/Publishingbegan"/>
    </else>
    </if>
    </TD>
    <TD class="form-inset" ALIGN="LEFT">
    <PUBSESSION.GETSTARTDATE NAME="pubsess" VARNAME="pubsess:publishdate"/>
    <DATEFORMAT.GETDATETIME NAME="_FormatDate_" VALUE="Variables.pubsess:publishdate" VALUETYPE="jdbcdate"  VARNAME="pubsess:publishdate"/>
    <STRING.STREAM VALUE="Variables.pubsess:publishdate"/></TD>
</TR>


<TR>
    <TD class="form-label-text" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/Common/Target"/></TD>
    <TD class="form-inset" ALIGN="LEFT">
    <PUBSESSION.GETTARGET NAME="pubsess" VARNAME="pubsess:target"/>
	<PUBTARGETMANAGER.LOAD ID="Variables.pubsess:target" OBJVARNAME="pubtgt"/>
	<PUBTARGET.SCATTER NAME="pubtgt" PREFIX="pubtgt:"/>
	<STRING.STREAM VALUE="Variables.pubtgt:name"/> -
	<STRING.STREAM VALUE="Variables.pubtgt:description"/>
    </TD>
</TR>

<TR>
    <TD class="form-label-text" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/UI/Publish/DeliveryType"/></TD>
    <TD class="form-inset" ALIGN="LEFT">
	<DELIVERYTYPE.LOAD OBJECTID="Variables.pubtgt:type" NAME="uiDT"/>
	<DELIVERYTYPE.SCATTER NAME="uiDT" PREFIX="uiDT"/>
	<STRING.STREAM VALUE="Variables.uiDT:name"/> -
	<STRING.STREAM VALUE="Variables.uiDT:description"/>
    </TD>
</TR>


<TR><TH class="form-label-text" COLSPAN="2" ALIGN="CENTER"><XLAT.STREAM KEY="dvin/Common/Messages"/></TH></TR>
<PUBSESSION.GETID NAME="pubsess" VARNAME="pubsess:id"/>
<PUBSESSIONMANAGER.GETMESSAGES ID="Variables.pubsess:id" LISTVARNAME="msgs"/>
<if COND="msgs.#numRows!=0">
<then>
    <loop LIST="msgs">
	<TR><TD class="form-label-text" COLSPAN="2" ALIGN="LEFT"><STRING.STREAM VALUE="msgs.ITEM"/></TD></TR>
    </loop>
</then>
<else>
    <TR><TD class="form-label-text" COLSPAN="2" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/Common/Nomessages"/></TD></TR>
</else>
</if>

<TR>
    <TD class="form-label-text" ALIGN="LEFT"><XLAT.STREAM KEY="dvin/UI/Publish/SessionID"/></TD>
    <TD class="form-inset" ALIGN="LEFT"><STRING.STREAM VALUE="Variables.pubsess:id"/></TD>
</TR>

</TABLE>

</FTCS>
