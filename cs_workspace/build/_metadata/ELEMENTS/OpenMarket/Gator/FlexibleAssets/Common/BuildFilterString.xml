<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.2">
<!-- OpenMarket/Xcelerate/Actions/Search/BuildFilterString
-
- INPUT
-
- OUTPUT
-
-->

 

<if COND="IsVariable.Status=true">
    <then>
    <SETVAR NAME="statuscode" VALUE="Variables.Status"/>
	<SETVAR NAME="errno" VALUE="0"/>
	<SELECTTO LIST="StatusDesc" WHAT="description" FROM="StatusCode" WHERE="statuscode"/>
 
	<IF COND="IsError.Variables.errno!=true">
	<THEN>
        <XLAT.LOOKUP  KEY="dvin/AT/Common/statusis" VARNAME="_XLAT_"/>
	    <SETVAR NAME="filterstring" VALUE="Variables.filterstring Variables._XLAT_ 'StatusDesc.description'"/>
	</THEN>
	<ELSE>
    
        <XLAT.LOOKUP  KEY="dvin/AT/Common/statusequals" VARNAME="_XLAT_"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring Variables._XLAT_ 'Variables.Status'"/>
	</ELSE>
	</IF>
   </then>
</if>

 
<if COND="IsVariable.Subtype=true">
    <then>
     <XLAT.LOOKUP  KEY="dvin/UI/Search/subtypeis" VARNAME="_XLAT_"/>
	<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.Subtype'"/>
   </then>
</if>

 

<if COND="IsVariable.StartDateBefore=true">
	<then>
	<if COND="Variables.StartDateBefore!=Variables.null">
		<then> 
        <XLAT.LOOKUP KEY="fatwire/Alloy/UI/StartDateBefore" VARNAME="_XLAT_"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.StartDateBeforeText'"/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.StartDateAfter=true">
    <then>
	<if COND="Variables.StartDateAfter!=Variables.null">
		<then> 
        <XLAT.LOOKUP KEY="fatwire/Alloy/UI/StartDateAfter" VARNAME="_XLAT_"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.StartDateAfterText'"/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.EndDateBefore=true">
    <then>
	<if COND="Variables.EndDateBefore!=Variables.null">
		<then> 
        <XLAT.LOOKUP KEY="fatwire/Alloy/UI/EndDateBefore" VARNAME="_XLAT_"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.EndDateBeforeText'"/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.EndDateAfter=true">
    <then>
	<if COND="Variables.EndDateAfter!=Variables.null">
		<then> 
        <XLAT.LOOKUP KEY="fatwire/Alloy/UI/EndDateAfter" VARNAME="_XLAT_"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.EndDateAfterText'"/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.UpdatedBefore=true">
    <then>
	<if COND="Variables.UpdatedBefore!=Variables.null">
		<then>
        <XLAT.LOOKUP KEY="dvin/FlexibleAssets/Common/UpdatedBeforeTextValue" VARNAME="_XLAT_" ENCODE="false"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ "/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.UpdatedAfter=true">
    <then>
	<if COND="Variables.UpdatedAfter!=Variables.null">
		<then> 
        <XLAT.LOOKUP KEY="dvin/FlexibleAssets/Common/UpdatedAfterTextValue" VARNAME="_XLAT_" ENCODE="false"/>
		<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ "/>
		</then>
	</if>	
    </then>
</if>

<if COND="IsVariable.UpdatedBy=true">
    <then>
    <XLAT.LOOKUP KEY="dvin/UI/Search/updatedby" VARNAME="_XLAT_"/>
	<SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.UpdatedBy'"/>
    </then>
</if>

<IF COND="IsVariable.dimensionssearch=true">
<THEN>
    <XLAT.LOOKUP KEY="dvin/AT/Common/localeis" VARNAME="_XLAT_" ENCODE="false"/>
    <SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_ 'Variables.selectedDim'"/>
</THEN>
</IF>
 <!--    These two are handled in corresponding AppendSelectDetailsCommon ?
  
  <IF COND="IsVariable.flextemplateid=true">
<THEN>
    
   	<SETVAR NAME="filterstring" VALUE="Variables.filterstring : flextemplateid=Variables.flextemplateid"/>

</THEN>
</IF>
<IF COND="IsVariable.flexgrouptemplateid=true">
<THEN>
    
   	<SETVAR NAME="filterstring" VALUE="Variables.filterstring : flexgrouptemplateid=Variables.flexgrouptemplateid"/>

</THEN>
</IF>
  -->

</FTCS> 