<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- makeasset
--
-- INPUT
--
-- OUTPUT
--
-->

<setvar NAME="errno" VALUE="0"/>
<setvar NAME="result" VALUE="Variables.empty"/>
<setvar NAME="installResult" VALUE="Variables.empty"/>
<IF COND="IsVariable.defdirBase=false">
<THEN>
	<PROPERTY.GET PARAM="xcelerate.defaultbase" INIFILE="futuretense_xcel.ini" VARNAME="propbase"/>
	<SETVAR NAME="defdirBase" VALUE="Variables.propbase"/>
</THEN>
</IF>
		<IF COND="IsVariable.Filt=true">
		<THEN>
			<IF COND="IsVariable.PluralFilt=true">
			<THEN>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
					<argument NAME="assetname" VALUE="Variables.Filt"/>
					<argument NAME="AssetDescription" VALUE="Variables.DescFilt"/>
					<argument NAME="AssetPlural" VALUE="Variables.PluralFilt"/>
					<argument NAME="AssetChild" VALUE="F"/>
					<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
				</callelement>
					<IF COND="Variables.AssetTypeExists!=Variables.empty">
				<THEN>
							<setvar NAME="FiltExists" VALUE="Variables.AssetTypeExists"/>
				</THEN>
				<ELSE>
						<IF COND="Variables.result!=Variables.empty">
						<THEN>
							<!-- <csvar NAME="Variables.result"/> -->
								<setvar NAME="addFiltError" VALUE="Variables.errno"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
						</THEN>
						<ELSE>
				 
								<ATM.SET TYPE="Variables.Filt" VALUE="com.openmarket.gator.flexfilters.FlexFilterManager" CATEGORY="Administration"/>
								<IF COND="Variables.errno!=0">
								<THEN>
										<!-- <csvar NAME="Inserting Variables.Filt into ComplexAssets failed Variables.errno, Variables.errdetail1!"/> -->
										<setvar NAME="FiltIntoCAError" VALUE="Variables.errno"/>
										<setvar NAME="FiltIntoCAErrdetail" VALUE="Variables.errdetail1"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Filt into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
								</THEN>
								</IF>
							</ELSE>
							</IF>
					</ELSE>
					</IF>
				
			</THEN>
			</IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.Attr=true">
		<THEN>
			<IF COND="IsVariable.PluralAttr=true">
			<THEN>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
					<argument NAME="assetname" VALUE="Variables.Attr"/>
					<argument NAME="AssetDescription" VALUE="Variables.DescAttr"/>
					<argument NAME="AssetPlural" VALUE="Variables.PluralAttr"/>
					<argument NAME="AssetChild" VALUE="F"/>
					<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
				</callelement>
					<IF COND="Variables.AssetTypeExists!=Variables.empty">
				<THEN>
						<setvar NAME="AttrExists" VALUE="Variables.AssetTypeExists"/>
				</THEN>
				<ELSE>
						<IF COND="Variables.result!=Variables.empty">
						<THEN>
							<!-- <csvar NAME="Variables.result"/> -->
								<setvar NAME="addAttrError" VALUE="Variables.errno"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
						</THEN>
						<ELSE>
					
							<ATM.SET TYPE="Variables.Attr" VALUE="com.openmarket.gator.attributes.AttributeManager" CATEGORY="Administration"/>
							<IF COND="Variables.errno!=0">
							<THEN>
								<!-- <csvar NAME="Inserting Variables.Attr into ComplexAssets failed Variables.errno, Variables.errdetail1!"/> -->
										<setvar NAME="AttrIntoCAError" VALUE="Variables.errno"/>
										<setvar NAME="AttrIntoCAErrdetail" VALUE="Variables.errdetail1"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Attr into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
							</THEN>
							</IF>
							</ELSE>
							</IF>
					</ELSE>
					</IF>
			</THEN>
			</IF>
			
			<IF COND="IsVariable.PGT=true">
			<THEN>
				<IF COND="IsVariable.PluralPGT=true">
				<THEN>
					<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
						<argument NAME="assetname" VALUE="Variables.PGT"/>
						<argument NAME="AssetDescription" VALUE="Variables.DescPGT"/>
						<argument NAME="AssetPlural" VALUE="Variables.PluralPGT"/>
						<argument NAME="AssetChild" VALUE="F"/>
						<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
					</callelement>
							<IF COND="Variables.AssetTypeExists!=Variables.empty">
						<THEN>
								<setvar NAME="PGTExists" VALUE="Variables.AssetTypeExists"/>
						</THEN>
						<ELSE>
							<IF COND="Variables.result!=Variables.empty">
							<THEN>
								<!-- <csvar NAME="Variables.result"/>  -->
										<setvar NAME="addPGTError" VALUE="Variables.errno"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
							</THEN>
							<ELSE>
									
								<ATM.SET TYPE="Variables.PGT" VALUE="com.openmarket.gator.flexgrouptemplates.FlexGroupTemplateManager" CATEGORY="Administration"/>
								<IF COND="Variables.errno!=0">
								<THEN>
									<!-- <csvar NAME="Inserting Variables.PGT into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>  -->
											<setvar NAME="PGTIntoCAError" VALUE="Variables.errno"/>
											<setvar NAME="PGTIntoCAErrdetail" VALUE="Variables.errdetail1"/>
											<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.PGT into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
								</THEN>
								</IF>
								</ELSE>
								</IF>
							</ELSE>
							</IF>
				</THEN>
				</IF>
				
				<IF COND="IsVariable.PT=true">
				<THEN>
					<IF COND="IsVariable.PluralPT=true">
					<THEN>
						<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
							<argument NAME="assetname" VALUE="Variables.PT"/>
							<argument NAME="AssetDescription" VALUE="Variables.DescPT"/>
							<argument NAME="AssetPlural" VALUE="Variables.PluralPT"/>
							<argument NAME="AssetChild" VALUE="F"/>
							<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
						</callelement>
								<IF COND="Variables.AssetTypeExists!=Variables.empty">
							<THEN>
										<setvar NAME="PTExists" VALUE="Variables.AssetTypeExists"/>
							</THEN>
							<ELSE>
								<IF COND="Variables.result!=Variables.empty">
								<THEN>
									<!-- <csvar NAME="Variables.result"/> -->
											<setvar NAME="addPTError" VALUE="Variables.errno"/>
											<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
								</THEN>
								<ELSE>
							
									<ATM.SET TYPE="Variables.PT" VALUE="com.openmarket.gator.flextemplates.FlexTemplateManager" CATEGORY="Administration"/>
									<IF COND="Variables.errno!=0">
									<THEN>
										<!-- <csvar NAME="Inserting Variables.PT into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>  -->
													<setvar NAME="PTIntoCAError" VALUE="Variables.errno"/>
												<setvar NAME="PTIntoCAErrdetail" VALUE="Variables.errdetail1"/>
													<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.PT into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
									</THEN>
									</IF>
										</ELSE>
										</IF>
								</ELSE>
								</IF>
					</THEN>
					</IF>
					
					<IF COND="IsVariable.Group=true">
					<THEN>
						<IF COND="IsVariable.PluralGroup=true">
						<THEN>
							<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
								<argument NAME="assetname" VALUE="Variables.Group"/>
								<argument NAME="AssetDescription" VALUE="Variables.DescGroup"/>
								<argument NAME="AssetPlural" VALUE="Variables.PluralGroup"/>
								<argument NAME="AssetChild" VALUE="T"/>
								<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
							</callelement>
										<IF COND="Variables.AssetTypeExists!=Variables.empty">
									<THEN>
											<setvar NAME="GroupExists" VALUE="Variables.AssetTypeExists"/>
									</THEN>
									<ELSE>
									<IF COND="Variables.result!=Variables.empty">
									<THEN>
										<!-- <csvar NAME="Variables.result"/> -->
													<setvar NAME="addGroupError" VALUE="Variables.errno"/>
													<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
									</THEN>
									<ELSE>
								
										<ATM.SET TYPE="Variables.Group" VALUE="com.openmarket.gator.flexgroups.FlexGroupManager" CATEGORY="Catalog"/>
										<IF COND="Variables.errno!=0">
										<THEN>
											<!-- <csvar NAME="Inserting Variables.Group into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>   -->
														<setvar NAME="GroupIntoCAError" VALUE="Variables.errno"/>
														<setvar NAME="GroupIntoCAErrdetail" VALUE="Variables.errdetail1"/>
														<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Group into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
										</THEN>
										</IF>
											</ELSE>
											</IF>
										</ELSE>
										</IF>
						</THEN>
						</IF>
						<IF COND="IsVariable.Prod=true">
						<THEN>
							<IF COND="IsVariable.PluralProd=true">
							<THEN>
								<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addAssetType">
									<argument NAME="assetname" VALUE="Variables.Prod"/>
									<argument NAME="AssetDescription" VALUE="Variables.DescProd"/>
									<argument NAME="AssetPlural" VALUE="Variables.PluralProd"/>
									<argument NAME="AssetChild" VALUE="T"/>
									<argument NAME="assetlogic" VALUE="com.openmarket.assetframework.complexasset.ComplexAsset"/>
								</callelement>
											<IF COND="Variables.AssetTypeExists!=Variables.empty">
										<THEN>
													<setvar NAME="ProdExists" VALUE="Variables.AssetTypeExists"/>
										</THEN>
										<ELSE>
										<IF COND="Variables.result!=Variables.empty">
										<THEN>
											<!-- <csvar NAME="Variables.result"/>   -->
														<setvar NAME="addProdError" VALUE="Variables.errno"/>
														<setvar NAME="installResult" VALUE="Variables.installResult Variables.result"/>
										</THEN>
										<ELSE>
									
											<ATM.SET TYPE="Variables.Prod" VALUE="com.openmarket.gator.flexassets.FlexAssetManager" CATEGORY="Catalog"/>
											<IF COND="Variables.errno!=0">
											<THEN>
												<!-- <csvar NAME="Inserting Variables.Prod into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>  -->
																<setvar NAME="ProdIntoCAError" VALUE="Variables.errno"/>
																<setvar NAME="ProdIntoCAErrdetail" VALUE="Variables.errdetail1"/>
																<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Prod into ComplexAssets failed Variables.errno, Variables.errdetail1!"/>
											</THEN>
											</IF>
													</ELSE>
													</IF>
											</ELSE>
											</IF>   
							</THEN>
							</IF>
						</THEN>
						</IF>
					</THEN>
					</IF>
				</THEN>
				</IF>
			</THEN>
			</IF>
		</THEN>
		</IF>

			
		<!-- time to update flex tables -->

		<IF COND="IsVariable.PluralFilt=true">
		<THEN>
			<IF COND="IsVariable.FiltExists!=true">
			<THEN>
									
				<FFTM.ADD ATTRIBUTETYPE="Variables.Attr" FILTERTYPE="Variables.Filt"/>
				<IF COND="Variables.errno!=0">
				<THEN>
					<setvar NAME="FiltIntoFFTMError" VALUE="Variables.errno"/>
					<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Filt into FFTM failed Variables.errno!"/>
				</THEN>
				</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
					<argument NAME="elementtype" VALUE="Filters"/>
					<argument NAME="AssetType" VALUE="Variables.Filt"/>
				</callelement>
				<IF COND="Variables.addElementsError!=Variables.empty">
				<THEN>
						<setvar NAME="FiltElementError" VALUE="Variables.errno"/>
					<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.Filt had error Variables.errno"/>
				</THEN>
				</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
					<argument NAME="sqltype" VALUE="Filters"/>
					<argument NAME="AssetType" VALUE="Variables.Filt"/>
				</callelement>
					<IF COND="Variables.errno=0">
						<THEN>
							<ASSET.INSTALL TYPE="Variables.Filt" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.Attr"/>
							<IF COND="Variables.errno=0">
							<THEN>
								<setvar NAME="FiltInstall" VALUE="true"/>
							</THEN>
							<ELSE>
								<!-- <csvar NAME="Variables._error_"/>   -->
								<setvar NAME="FiltInstallError" VALUE="Variables.errno"/>
										<setvar NAME="FiltInstallErrdetail" VALUE="Variables.errdetail1"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.Filt failed Variables.errno,Variables.errdetail1."/>
								</ELSE>
								</IF>
						</THEN>
						<ELSE>
							<setvar NAME="FiltAddSQLError" VALUE="Variables.errno"/>
							<setvar NAME="FiltAddSQLErrdetail" VALUE="Variables.errdetail1"/>
							<setvar NAME="installResult" VALUE="Variables.installResult Variables.Filt: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
						</IF>
				</THEN>
				</IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.PluralAttr=true">
		<THEN>
			<IF COND="IsVariable.AttrExists!=true">
			<THEN>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
					<argument NAME="elementtype" VALUE="Attributes"/>
					<argument NAME="AssetType" VALUE="Variables.Attr"/>
				</callelement>
				<IF COND="Variables.addElementsError!=Variables.empty">
					<THEN>
						<setvar NAME="AttrElementError" VALUE="Variables.errno"/>
							<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.Attr had error Variables.errno"/>
						</THEN>
						</IF>
					<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
						<argument NAME="sqltype" VALUE="Attributes"/>
						<argument NAME="AssetType" VALUE="Variables.Attr"/>
					</callelement>
					<IF COND="Variables.errno=0">
					<THEN>
						<ASSET.INSTALL TYPE="Variables.Attr" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.Attr"/>
						<IF COND="Variables.errno=0">
						<THEN>
								<setvar NAME="AttrInstall" VALUE="true"/>
						</THEN>
						<ELSE>
									<setvar NAME="AttrInstallError" VALUE="Variables.errno"/>
									<setvar NAME="AttrInstallErrdetail" VALUE="Variables.errdetail1"/>
							<!-- <XLAT.LOOKUP KEY="dvin/FlexibleAssets/AssetMakers/InstAttrFailed" errno="Variables.errno" EVALALL="false" VARNAME="_error_"/>
									<csvar NAME="Variables._error_"/>  -->
									<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.Attr failed Variables.errno, Variables.errdetail1"/>
								</ELSE>
						</IF>
					</THEN>
						<ELSE>
							<setvar NAME="AttrAddSQLError" VALUE="Variables.errno"/>
							<setvar NAME="AttrAddSQLErrdetail" VALUE="Variables.errdetail1"/>
							<setvar NAME="installResult" VALUE="Variables.installResult Variables.Attr: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
					</IF>
				 </THEN>
				 </IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.PluralPGT=true">
		<THEN>
			<IF COND="IsVariable.PGTExists!=true">
			<THEN>
				<IF COND="IsVariable.PluralFilt=true">
				<THEN>
					<FGTTM.ADD ASSETTYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr" FILTERTYPE="Variables.Filt"/>
				</THEN>
					<ELSE>
						<FGTTM.ADD ASSETTYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr"/>
					</ELSE>
					</IF>
					<IF COND="Variables.errno!=0">
					<THEN>
						<!-- <csvar NAME="Inserting Variables.PGT into FGTTM failed Variables.errno!"/>   -->
								<setvar NAME="PGTIntoFGTTMError" VALUE="Variables.errno"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.PGT into FGTTM failed Variables.errno!"/>
					</THEN>
					</IF>
					<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
						<argument NAME="elementtype" VALUE="FlexTmpls"/>
						<argument NAME="AssetType" VALUE="Variables.PGT"/>
					</callelement>
						<IF COND="Variables.addElementsError!=Variables.empty">
						<THEN>
								<setvar NAME="PGTElementError" VALUE="Variables.errno"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.PGT had error Variables.errno"/>
						 </THEN>
						 </IF>
					<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
						<argument NAME="sqltype" VALUE="FlexDefinitions"/>
						<argument NAME="AssetType" VALUE="Variables.PGT"/>
					</callelement>
					<IF COND="Variables.errno=0">
					<THEN>
						<ASSET.INSTALL TYPE="Variables.PGT" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.PGT"/>
						<IF COND="Variables.errno=0">
						<THEN>
									<setvar NAME="PGTInstall" VALUE="true"/>
						</THEN>
						<ELSE>
							<!-- <XLAT.LOOKUP KEY="dvin/FlexibleAssets/AssetMakers/InstPGTFailed" errno="Variables.errno" EVALALL="false" VARNAME="_error_"/>
									<csvar NAME="Variables._error_"/> -->
										<setvar NAME="PGTInstallError" VALUE="Variables.errno"/>
										<setvar NAME="PGTInstallErrdetail" VALUE="Variables.errdetail1"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.PGT failed Variables.errno, Variables.errdetail1"/>
								</ELSE>
						</IF>
					</THEN>
						<ELSE>
								<setvar NAME="PGTAddSQLError" VALUE="Variables.errno"/>
								<setvar NAME="PGTAddSQLErrdetail" VALUE="Variables.errdetail1"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Variables.PGT: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
					</IF>
				</THEN>
				</IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.PluralPT=true">
		<THEN>
			<IF COND="IsVariable.PTExists!=true">
			<THEN>
				<IF COND="IsVariable.PluralFilt=true">
				<THEN>
					<FTTM.ADD ASSETTYPE="Variables.PT" TEMPLATETYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr" FILTERTYPE="Variables.Filt"/>
				</THEN>
				<ELSE>
					<FTTM.ADD ASSETTYPE="Variables.PT" TEMPLATETYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr"/>
				</ELSE>
				</IF>
									
				<IF COND="Variables.errno!=0">
				<THEN>
					<setvar NAME="PTIntoFTTMError" VALUE="Variables.errno"/>
					<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.PT into FTTM failed Variables.errno!"/>
				</THEN>
				</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
					<argument NAME="elementtype" VALUE="FlexTmpls"/>
					<argument NAME="AssetType" VALUE="Variables.PT"/>
				</callelement>
				<IF COND="Variables.addElementsError!=Variables.empty">
				<THEN>
					<setvar NAME="PTElementError" VALUE="Variables.errno"/>
					<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.PT had error Variables.errno"/>
				</THEN>
					</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
					<argument NAME="sqltype" VALUE="FlexDefinitions"/>
					<argument NAME="AssetType" VALUE="Variables.PT"/>
				</callelement>
				<IF COND="Variables.errno=0">
				<THEN>
					<ASSET.INSTALL TYPE="Variables.PT" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.PT"/>
					<IF COND="Variables.errno=0">
						<THEN>
									<setvar NAME="PTInstall" VALUE="true"/>
						</THEN>
						<ELSE>
							<!-- <XLAT.LOOKUP KEY="dvin/FlexibleAssets/AssetMakers/InstPTFailed" errno="Variables.errno" EVALALL="false" VARNAME="_error"/>
									<csvar NAME="Variables._error_"/> -->
									<setvar NAME="PTInstallError" VALUE="Variables.errno"/>
									<setvar NAME="PTInstallErrdetail" VALUE="Variables.errdetail1"/>
									<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.PT failed Variables.errno, Variables.errdetail1"/>
								</ELSE>
					</IF>
				</THEN>
						<ELSE>
								<setvar NAME="PTAddSQLError" VALUE="Variables.errno"/>
								<setvar NAME="PTAddSQLErrdetail" VALUE="Variables.errdetail1"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Variables.PT: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
				</IF>
				</THEN>
				</IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.PluralGroup=true">
		<THEN>
			<IF COND="IsVariable.GroupExists!=true">
				<THEN>
				<IF COND="IsVariable.PluralFilt=true">
					<THEN>
						<FGTM.ADD ASSETTYPE="Variables.Group" TEMPLATETYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr" FILTERTYPE="Variables.Filt"/>
					</THEN>
					<ELSE>
						<FGTM.ADD ASSETTYPE="Variables.Group" TEMPLATETYPE="Variables.PGT" ATTRIBUTETYPE="Variables.Attr"/>
					</ELSE>
					</IF>
			
					<IF COND="Variables.errno!=0">
				<THEN>
					<setvar NAME="GroupIntoFGTMError" VALUE="Variables.errno"/>
						<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Group into FGTM failed Variables.errno!"/>
					</THEN>
					</IF>
					<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
						<argument NAME="elementtype" VALUE="FlexGroups"/>
						<argument NAME="AssetType" VALUE="Variables.Group"/>
					</callelement>
					<IF COND="Variables.addElementsError!=Variables.empty">
					<THEN>
						<setvar NAME="GroupElementError" VALUE="Variables.errno"/>
						<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.Group had error Variables.errno"/>
					</THEN>
					</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
					<argument NAME="sqltype" VALUE="FlexGroups"/>
					<argument NAME="AssetType" VALUE="Variables.Group"/>
				</callelement>
				<IF COND="Variables.errno=0">
					<THEN>
						<ASSET.INSTALL TYPE="Variables.Group" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.Group"/>
						<IF COND="Variables.errno=0">
						<THEN>
								<setvar NAME="GroupInstall" VALUE="true"/>
						</THEN>
						<ELSE>
							<!-- <XLAT.LOOKUP KEY="dvin/FlexibleAssets/AssetMakers/InstGroupFailed" errno="Variables.errno" EVALALL="false" VARNAME="_error_"/> 
								<csvar NAME="Variables._error_"/>   -->
								<setvar NAME="GroupInstallError" VALUE="Variables.errno"/>
								<setvar NAME="GroupInstallErrdetail" VALUE="Variables.errdetail1"/>
								<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.Group failed Variables.errno, Variables.errdetail1"/>
							</ELSE>
						</IF>
					</THEN>
						<ELSE>
							<setvar NAME="GroupAddSQLError" VALUE="Variables.errno"/>
							<setvar NAME="GroupAddSQLErrdetail" VALUE="Variables.errdetail1"/>
							<setvar NAME="installResult" VALUE="Variables.installResult Variables.Group: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
					</IF>
				</THEN>
				</IF>
		</THEN>
		</IF>

		<IF COND="IsVariable.PluralProd=true">
		<THEN>
			<IF COND="IsVariable.ProdExists!=true">
				<THEN>
				<IF COND="IsVariable.PluralFilt=true">
				<THEN>
					<FATM.ADD ASSETTYPE="Variables.Prod" PARENTGROUPTYPE="Variables.Group" TEMPLATETYPE="Variables.PT" ATTRIBUTETYPE="Variables.Attr" FILTERTYPE="Variables.Filt"/>
				</THEN>
				<ELSE>
					<FATM.ADD ASSETTYPE="Variables.Prod" PARENTGROUPTYPE="Variables.Group" TEMPLATETYPE="Variables.PT" ATTRIBUTETYPE="Variables.Attr"/>
				</ELSE>
				</IF>
			
					<IF COND="Variables.errno!=0">
				<THEN>
					<setvar NAME="ProdIntoFATMError" VALUE="Variables.errno"/>
						<setvar NAME="installResult" VALUE="Variables.installResult Inserting Variables.Prod into FATM failed Variables.errno!"/>
				</THEN>
				</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addElements">
					<argument NAME="elementtype" VALUE="FlexAssets"/>
					<argument NAME="AssetType" VALUE="Variables.Prod"/>
				</callelement>
					<IF COND="Variables.addElementsError!=Variables.empty">
					<THEN>
						<setvar NAME="ProdElementError" VALUE="Variables.errno"/>
						<setvar NAME="installResult" VALUE="Variables.installResult Add Elements for Variables.Prod had error Variables.errno"/>
						</THEN>
						</IF>
				<callelement NAME="OpenMarket/Gator/FlexibleAssets/AssetMaker/addSQL">
					<argument NAME="sqltype" VALUE="FlexAssets"/>
					<argument NAME="AssetType" VALUE="Variables.Prod"/>
				</callelement>
				<IF COND="Variables.errno=0">
				<THEN>
					<ASSET.INSTALL TYPE="Variables.Prod" ACL="Browser,SiteGod,xceleditor,xceladmin" DIR="Variables.defdirBase/Variables.Prod"/>
					<IF COND="Variables.errno=0">
					<THEN>
								<setvar NAME="ProdInstall" VALUE="true"/>
					</THEN>
					<ELSE>
						<!-- <XLAT.LOOKUP KEY="dvin/FlexibleAssets/AssetMakers/InstProdFailed" errno="Variables.errno" EVALALL="false" VARNAME="_error_"/>
								<csvar NAME="Variables._error_"/>  -->
								<setvar NAME="ProdInstallError" VALUE="Variables.errno"/>
										<setvar NAME="ProdInstallErrdetail" VALUE="Variables.errdetail1"/>
										<setvar NAME="installResult" VALUE="Variables.installResult Installation of Variables.Prod failed Variables.errno, Variables.errdetail1"/>
								</ELSE>
					</IF>
				</THEN>
						<ELSE>
							<setvar NAME="ProdAddSQLError" VALUE="Variables.errno"/>
							<setvar NAME="ProdAddSQLErrdetail" VALUE="Variables.errdetail1"/>
							<setvar NAME="installResult" VALUE="Variables.installResult Variables.Prod: addSQL had error Variables.errno, Variables.errdetail1"/>
						</ELSE>
				</IF>
				</THEN>
				</IF>
		</THEN>
		</IF>
<PROPERTY.GET PARAM="xcelerate.treeType" INIFILE="futuretense_xcel.ini" VARNAME="proptreetype"/>
<if  COND="IsElement.OpenMarket/Xcelerate/UIFramework/UpdateTreeVariables.proptreetype=true">
<then>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/UpdateTreeVariables.proptreetype">
		<argument NAME="__TreeRefreshKeys__" VALUE="Self:FamilyMaker;Self:AssetTypes"/>
	</callelement>		
</then>
</if>

</FTCS>  
