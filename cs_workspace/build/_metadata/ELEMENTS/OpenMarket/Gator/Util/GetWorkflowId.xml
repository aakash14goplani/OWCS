<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/GatorUtil/GetWorkflowId
--
-- INPUT
--
	Variables.AssetType
	theCurrentAsset
	
-- OUTPUT

	ASSET.SET called for workflowid
--
-->
<callelement NAME="OpenMarket/Xcelerate/Util/LoadProperty">
	<argument NAME="property" VALUE="xcelerate.Variables.AssetType.workflow"/>
	<argument NAME="ini" VALUE="futuretense_xcel.ini"/>
	<argument NAME="varname" VALUE="workflow"/>
</callelement>
<IF COND="Variables.workflow!=Variables.empty">
	<THEN>
<!-- Get the id of the workflow and validate the asset type -->
		<SETVAR NAME="tablename" VALUE="Workflow"/>
		<SETVAR NAME="errno" VALUE="0"/>
		<EXECSQL LIST="WF" SQL="SELECT id FROM Workflow WHERE workflow='Variables.workflow' AND contentcategory IN ('Any', 'Variables.AssetType')"/>
		<IF COND="Variables.errno=0">
			<THEN>
				<ASSET.SET NAME="theCurrentAsset" FIELD="workflowid" VALUE="WF.id"/>
			</THEN>
		</IF>
	</THEN>
</IF>
</FTCS> 
