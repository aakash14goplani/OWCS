<?XML VERSION="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.0">

<!-- ####################################################################### -->
<!-- ElementMgt/Replace                                                      -->
<!-- FutureTense, Inc.                                                       -->
<!-- ####################################################################### -->

<SATELLITE.FORM ASSEMBLER="query" ENCTYPE="multipart/form-data" ACTION="CatalogManager" METHOD="POST">
	<STRING.ENCODE VARIABLE="charset" VARNAME="OutputQString"/>
	<INPUT TYPE="HIDDEN" NAME="_charset_" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
	<STRING.ENCODE VARIABLE="cs_environment" VARNAME="OutputQString"/>
	<INPUT TYPE="hidden"  NAME="cs_environment" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
	<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="OutputQString"/>
	<INPUT TYPE="hidden"  NAME="cs_formmode" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
    
<SETVAR NAME="elementname" VALUE="Variables.key"/>
<SELECTTO FROM="ElementCatalog" WHAT="*" WHERE="elementname" LIST="ResultsList"/>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/CSAdminForms/UploadFile"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>
<TABLE class="width-outer-50" BGCOLOR="#FFFFFF" BORDER="0" CELLPADDING="0" CELLSPACING="0">
    <CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
	<TR>
        <TD class="form-label-text" align="right" NOWRAP="true">
            <XLAT.STREAM KEY="dvin/UI/Admin/ElementName"/>:
        </TD>
        <TD class="form-inset" align="left">
			<STRING.ENCODE LIST="ResultsList" COLUMN="elementname" VARNAME="encelementname"/>
            <REPLACE STR="Variables.encelementname">
				Variables.encelementname
				<INPUT TYPE="hidden" NAME="elementname" VALUE="Variables.encelementname"/>
			</REPLACE>
		</TD>
    	<TD></TD>
    </TR>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <TR>
        <TD class="form-label-text" align="right" NOWRAP="true">
            <span class="alert-color">*</span><XLAT.STREAM KEY="dvin/UI/CSAdminForms/URL"/>:
        </TD>
        <TD class="form-inset" align="left">
			<callelement NAME="OpenMarket/Gator/AttributeTypes/CommonDojoxUploader">
				<argument NAME="inputTagName" VALUE="url"/>
			</callelement>
        </TD>
    	<TD></TD>
    </TR>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <TR>
        <TD class="form-label-text"  align="right" NOWRAP="true">
            <span class="alert-color">*</span><XLAT.STREAM KEY="dvin/UI/CSAdminForms/Filename"/>:
        </TD>
        <TD class="form-inset" align="left">
   			<INPUT TYPE="text" NAME="url_file" SIZE="32" VALUE=""/>
        </TD>
    	<TD></TD>
    </TR>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <TR>
        <TD class="form-label-text" align="right" NOWRAP="true">
            <XLAT.STREAM KEY="dvin/UI/CSAdminForms/subfolder"/>:
        </TD>
        <TD class="form-inset"  align="left">
			<STRINGLIST NAME="folders" STR="ResultsList.url" DELIM="/"/>
			<SETVAR NAME="dirsep" VALUE="/"/>
			<IF COND="folders.#numRows=1">
				<THEN>
					<STRINGLIST NAME="folders" STR="ResultsList.url" DELIM="\"/>
					<SETVAR NAME="dirsep" VALUE="\"/>
				</THEN>
			</IF>
			<IF COND="folders.#numRows=1">
				<THEN>
					<SETVAR NAME="subfolder" VALUE="Variables.empty"/>
				</THEN>
				<ELSE>
					<SETVAR NAME="subfolder" VALUE="folders.ITEM"/>
					<LOOP FROM="2" LIST="folders" UNTIL="folders.#curRow=folders.#numRows">
						<SETVAR NAME="subfolder" VALUE="Variables.subfolderVariables.dirsepfolders.ITEM"/>
					</LOOP>
				</ELSE>
			</IF>
			<REPLACE STR="Variables.subfolder">
				<INPUT TYPE="text" NAME="url_folder" SIZE="32" VALUE="Variables.subfolder"/>
			</REPLACE>
    	</TD>
    	<TD></TD>
    </TR>
    <TR>
    	<TD COLSPAN="3" HEIGHT="5"></TD>
    </TR>
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
	<TR>
        <TD></TD><TD>
			<INPUT TYPE="hidden" NAME="ftcmd" VALUE="updaterow"/>
			<INPUT TYPE="hidden" NAME="tablename" VALUE="ElementCatalog"/>
			<XLAT.LOOKUP KEY="dvin/UI/CSAdminForms/upload" VARNAME="_XLAT_"/>
			<a onclick='if(checkUpload(document.forms[0])) { document.forms[0].submit(); } ' HREF="#" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="dvin/UI/CSAdminForms/upload"/></CALLELEMENT></a>
    	</TD>
    </TR>
</TABLE>
</SATELLITE.FORM>
</FTCS>
