<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- FutureTense/Apps/AdminForms/ACLMgt/Delete
-
- INPUT
-
- OUTPUT
-
-->

<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="UI/Forms/ACLs"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>
<div class="width-outer-70">
<XLAT.STREAM KEY="dvin/UI/CSAdminForms/DeleteACLMsg"/>
<br/><br/>
<SETVAR NAME="errno" VALUE="0"/>

<!-- Delete ACL from  the LDAP and from the Database -->
<acl.load name="deleteme" acl="Variables.ACLList"/>

<IF COND="IsError.Variables.errno=true">
	<THEN>
        <XLAT.LOOKUP KEY="dvin/UI/CSAdminForms/ACLNotFound" errno="Variables.errno" key="Variables.ACLList" EVALALL="false" VARNAME="aclnotfound"/>
		<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
			<ARGUMENT NAME="msgtext" VALUE="Variables.aclnotfound"/>
			<ARGUMENT NAME="severity" VALUE="error"/>
		</CALLELEMENT>
	</THEN>
<ELSE>
	<SETVAR NAME="errno" VALUE="0"/>
	<acl.delete name="deleteme"/>
</ELSE>
</IF>


<IF COND="IsError.Variables.errno=true">
	<THEN>
        <XLAT.LOOKUP KEY="dvin/UI/CSAdminForms/FailedDeleteAcl" errno="Variables.errno" EVALALL="false" VARNAME="statusmsg"/>
		<SETVAR NAME="severity" VALUE="error"/>
	</THEN>
<ELSE>
    <XLAT.LOOKUP KEY="dvin/UI/CSAdminForms/SuccessDeleteAcl" VARNAME="statusmsg"/>
	<SETVAR NAME="severity" VALUE="info"/>
</ELSE>
</IF>
<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
	<ARGUMENT NAME="msgtext" VALUE="Variables.statusmsg"/>
	<ARGUMENT NAME="severity" VALUE="Variables.severity"/>
</CALLELEMENT>
</div>
</FTCS> 
