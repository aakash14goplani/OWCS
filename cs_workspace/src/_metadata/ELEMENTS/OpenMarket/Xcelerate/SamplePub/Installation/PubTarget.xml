<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/StarterPub/ElementCatalog/OpenMarket/Xcelerate/SamplePub/Installation/PubTarget.xml $ 
$Revision: 13 $ 
$Modtime: 3/29/04 5:10p $ 
-->
<!-- OpenMarket/Xcelerate/SamplePub/Installation/PubTarget
-
- INPUT
-
- OUTPUT
-
-->

<setvar NAME="errno" VALUE="0"/>
<setvar NAME="name" VALUE="Destination 1 (static)"/>
<SELECTTO LIST="pubtargets" FROM="PubTarget" WHERE="name" WHAT="*"/>
<if COND="Variables.errno=-101">
<then>
	<PUBTARGETMANAGER.CREATE OBJVARNAME="pubtgt"/>
	<SETVAR NAME="pubtgt:name" VALUE="Destination 1 (static)"/>
	<SETVAR NAME="pubtgt:description" VALUE="Export to disk"/>
	<SETVAR NAME="pubtgt:type" VALUE="957482033104"/>
   <SETVAR NAME="pubtgt:factors" VALUE="URLPREFIX=[urlprefix]"/>
	<!-- Burlington Financial only for static export -->
	<SETVAR NAME="pubtgt:sites" VALUE="968251170475"/>
	<SETVAR NAME="pubtgt:approles" VALUE="_ALL_"/>
	<SETVAR NAME="pubtgt:pubroles" VALUE="_ALL_"/>
	<PUBTARGET.GATHER NAME="pubtgt" PREFIX="pubtgt:"/>
	<PUBTARGETMANAGER.SAVE OBJECT="pubtgt"/>
</then>
<else>
	<setvar NAME="msg" VALUE="Destination 1 (static) PubTarget already exists!"/><br/><csvar NAME="Variables.msg"/><logmsg STR="SamplePub Install: Variables.msg"/>
</else>
</if>
				
<setvar NAME="name" VALUE="Destination 2 (dynamic)"/>
<SELECTTO LIST="pubtargets" FROM="PubTarget" WHERE="name" WHAT="*"/>
<if COND="Variables.errno=-101">
<then>
	<PUBTARGETMANAGER.CREATE OBJVARNAME="pubtgt2"/>
	<SETVAR NAME="pubtgt2:name" VALUE="Destination 2 (dynamic)"/>
	<SETVAR NAME="pubtgt2:description" VALUE="Mirror to [server]"/>
	<SETVAR NAME="pubtgt2:type" VALUE="957482033109"/>
	<SETVAR NAME="pubtgt2:dest" VALUE="http://[targetserver]CS.Property.ft.cgipath"/>
   <SETVAR NAME="pubtgt2:factors" VALUE="REMOTEUSER=[user]%26REMOTEPASS=[password]"/>
	<!-- Burlington Financial, GE Sample Site for mirror -->
	<SETVAR NAME="pubtgt2:sites" VALUE="968251170475;960931678101"/>
	<SETVAR NAME="pubtgt2:approles" VALUE="_ALL_"/>
	<SETVAR NAME="pubtgt2:pubroles" VALUE="_ALL_"/>
	<PUBTARGET.GATHER NAME="pubtgt2" PREFIX="pubtgt2:"/>
	<PUBTARGETMANAGER.SAVE OBJECT="pubtgt2"/>
</then>
<else>
	<setvar NAME="msg" VALUE="Destination 2 (dynamic) PubTarget already exists!"/><br/><csvar NAME="Variables.msg"/><logmsg STR="SamplePub Install: Variables.msg"/>
</else>
</if> 
##SUCCESS##
</FTCS> 
