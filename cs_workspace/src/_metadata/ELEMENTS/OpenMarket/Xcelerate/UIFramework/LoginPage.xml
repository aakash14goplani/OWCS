<?xml version="1.0"	?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<PROPERTY.GET PARAM="xcelerate.charset" INIFILE="futuretense_xcel.ini" VARNAME="charset"/>
<SETVAR NAME="cs.contenttype" VALUE="text/html; charset=Variables.charset"/>

<!-- 
$Logfile: /VerticalApps/XcelerateD/install/CSDirect/Populate/ElementCatalog/OpenMarket/Xcelerate/UIFramework/LoginPage.xml $ 
$Revision: 11 $ 
$Modtime: 7/22/04 10:36a $ 
-->
<!--
- Confidential and Proprietary Information of Open Market Inc.
-					All Rights Reserved.
-
- LoginPage.html
-
- DESCRIPTION
-	Content Centre Login Page
-->

<PROPERTY.GET PARAM="wem.enabled" INIFILE="futuretense_xcel.ini" VARNAME="wemenabled"/>
 <if cond="Variables.wemenabled=true">
	<then>
		 <CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/LoginPost"/>
	</then>
</if>	
<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/BasicEnvironment"/>
<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/SetLocale"/>
<!-- adding to get the xcelG version to hellocs -->
<CALLJAVA CLASS="com.openmarket.xcelerate.util.XcelBuildDate">
 <ARGUMENT NAME="OUTPUT" VALUE="buildDate"/>
</CALLJAVA>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/StandardHeader"/>
		<TITLE><XLAT.STREAM KEY="dvin/UI/divineContentServerLogin"/></TITLE>
		<SCRIPT LANGUAGE="JavaScript">
            <![CDATA[
			var ns4 = document.layers;
			/* Creating the time zone offset of the client*/

			var offset=getClientOffset();			

			if (ns4) { /* Netscape requires manually capturing the event */
				document.captureEvents(Event.KEYPRESS);
				document.onkeypress = checkSubmit;
			}

			var brow = ((navigator.appName) + (parseInt(navigator.appVersion)));

			if (brow == "Netscape5") {
				document.captureEvents(Event.KEYPRESS);
				document.onkeypress = checkSubmit;
			}


			function checkPass() {
				document.forms[0].elements['clientTimezoneOffset'].value = offset ;

				if (document.forms[0].elements['username'].value == "" ) {
					]]>alert("<XLAT.STREAM KEY="dvin/UI/Pleaseenteryourusername" ENCODE="false" ESCAPE="true"/>");<![CDATA[
					document.forms[0].elements['username'].focus();
					return false;
				} else if (document.forms[0].elements['password'].value == "") {
					]]>alert("<XLAT.STREAM KEY="dvin/UI/Pleaseenteryourpassword" ENCODE="false" ESCAPE="true"/>");<![CDATA[
					document.forms[0].elements['password'].focus();
					return false;
				}
				return true;
			}

			function checkSubmit(e)	{
				if (ns4 || brow=="Netscape5") {
					var key = e.which;
				} else {
					var key = window.event.keyCode;
				}
				if (key	== 13) {
					return checkPass();
				}
			}

			function checkBrowser()	{
				var agent = navigator.userAgent;
				document.forms[0].elements['username'].focus();
				<!-- Only supports IE6+, Firefox 2+, and Safari 5 -->
                var lastToken = agent.substring(agent.lastIndexOf('/')-7,agent.lastIndexOf('/'));
                var lastTokenVersion = agent.substring(agent.lastIndexOf('/')+1,agent.lastIndexOf('/')+2);
				if (agent.indexOf('MSIE 6.0')!=-1 || agent.indexOf('MSIE 7.0')!=-1 || agent.indexOf('MSIE 8.0')!=-1 ||
					(lastToken == 'Firefox' && (lastTokenVersion=='2' || lastTokenVersion=='3')) ||
					agent.search(/Version\/5[\d\.\s]+Safari/) != -1)
                {
					]]>window.status="<XLAT.STREAM KEY="dvin/UI/Browsercompatable" ENCODE="false" ESCAPE="true"/>";<![CDATA[
					return false;
				}
				else
				{
					]]>window.status="<XLAT.STREAM KEY="dvin/UI/Browsernotsupported" ENCODE="false" ESCAPE="true"/>";<![CDATA[
					]]>alert("<XLAT.STREAM KEY="dvin/UI/Browsernotsupported" ESCAPE="true"/>");<![CDATA[
				}
			}


			function getClientOffset() {
				var curdate = new Date() ;
				var offset = curdate.getTimezoneOffset();
				var finaloffset = "";
				if (offset >= 0) {
					finaloffset = finaloffset+"-";
				} else {
					finaloffset = finaloffset+"+";
				}
				var newoffset=offset;
				var lstr=newoffset.length;
				newoffset=newoffset+'';
				if (newoffset.indexOf("-")>=0)
				offset=newoffset.substring(1,lstr);
				var x = parseInt(offset/600);
				finaloffset=finaloffset+x;
				offset=offset-(x*600);
				x=parseInt(offset/60);
				finaloffset=finaloffset+x;
				offset=offset-(x*60);
				finaloffset=finaloffset+":";
				x = parseInt(offset/10);
				finaloffset=finaloffset+x;
				offset =offset-(x*10);
				finaloffset=finaloffset+offset;
				return finaloffset;
			}

			function swap(currentImage, newImageName)
			{
				if (currentImage)
				{
					currentImage.src = newImageName;
				}
			}

			]]>
		</SCRIPT>
		<link href="Variables.cs_imagedir/data/css/SessionVariables.locale/login.css" rel="styleSheet" type="text/css" REPLACEALL="Variables.cs_imagedir,SessionVariables.locale"/>
		<callelement NAME="OpenMarket/Xcelerate/Util/LoadDefaultStyleSheet">
			<argument NAME="cssFilesToLoad" VALUE="login.css"/>
		</callelement>
</head>

<body bgcolor="#e8eaeb" onLoad="checkBrowser()">
        <SATELLITE.FORM ASSEMBLER="query" enctype="application/x-www-form-urlencoded" id="loginform" method="post"  onSubmit="return checkPass();">
		<STRING.ENCODE VARIABLE="charset" VARNAME="OutputQString"/>
        <INPUT TYPE="HIDDEN" NAME="_charset_" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
        
<table width="100%" height="95%" align="center" cellpadding="0" cellspacing="0" border="0" bgcolor-="#ff00ff"><!--bgcolor="#ffaa77"-->
	<tr>
		<td height="1%" colspan="3"><!--bgcolor="#00aa77"--><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="100" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
	</tr>
	<tr>
		<td width="50%"><!--bgcolor="#88dd77"--><!--<img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="400" height="1" border="0"><br />--></td>
		<td width="1%" valign="top">
			
			<table cellpadding="0" cellspacing="0" border="0">
			<tr>
			<td></td>
			<td bgcolor-="#00cc77"><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="440" height="1" border="0"  REPLACEALL="Variables.cs_imagedir" /><br /></td>
			<td rowspan="2" bgcolor-="#9977cc" background="Variables.cs_imagedir/graphics/common/logo/verticalshadow.gif" REPLACEALL="Variables.cs_imagedir"><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="4" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
			</tr>							   
			<tr>
			<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="345" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
			<td bgcolor-="#ff0000">
				<!-- -->
				<table border="0" cellpadding="0" cellspacing="0"><!-- border outter table BEGIN -->
				<tr>
				<td>

				<table cellpadding="0" cellspacing="0" style="border: 1px solid #777;"><!-- border inner table BEGIN -->
				<tr>
				<td>

				<table width="440" height="345" cellpadding="0" cellspacing="0" background="Variables.cs_imagedir/graphics/common/logo/mainbackground.jpg" style="background-repeat: no-repeat;" bgcolor="#ffffff" class="tableborder" REPLACEALL="Variables.cs_imagedir">
				<tr>
				<td valign="top">
					<!-- -->
					<table cellpadding="0" cellspacing="0" border="0">
					<tr>
					<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="70" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
					</tr>
					<tr>
					<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="55" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
					<td class="fontstyle2"><XLAT.STREAM KEY="dvin/UI/UserName"/>: </td>
					<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="20" height="1" REPLACEALL="Variables.cs_imagedir" /><br /></td>
					<td><div id="input_inside_border"><input Name="username" class="fontstyle1" SIZE="32" /></div></td>
					</tr>
					<tr>
					<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="15" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
					</tr>
					<tr>
					<td></td>
					<td class="fontstyle2"><XLAT.STREAM KEY="dvin/UI/Password"/>:</td>
					<td></td>
					<td><div id="input_inside_border"><input name="password" type="password" class="fontstyle1" SIZE="32" onFocus="this.select();" /></div></td>
					</tr>
					<tr>
					<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="18" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
					</tr>
					
					<tr>
					<td></td>
					<td></td>
					<td></td>
					<td>

						<table cellspacing="0" cellpadding="0" border="0">
						<tr>
						<td>
							<XLAT.LOOKUP KEY="dvin/UI/Login" VARNAME="mouseover" ESCAPE="true"/>
							<XLAT.LOOKUP KEY="dvin/UI/Login" VARNAME="_XLAT_" ESCAPE="true"/>
							<input type="image" src="Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/login_button.gif" title="Variables._XLAT_" alt="Variables._XLAT_" onmouseover="window.status='Variables.mouseover';swap(this,'Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/LoginBlue.gif');" onmouseout="window.status=''; swap(this,'Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/login_button.gif');" REPLACEALL="Variables._XLAT_,Variables.mouseover,Variables.cs_imagedir,SessionVariables.locale"/>
						<br /></td>
						<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="5" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						<td>
							<XLAT.LOOKUP KEY="dvin/UI/Resetfields" VARNAME="mouseover" ESCAPE="true"/>
							<XLAT.LOOKUP KEY="dvin/UI/Resetfields" VARNAME="_XLAT_"/>
							<a href="javascript:void(0);" onClick="document.forms[0].reset();document.forms[0].elements['username'].focus();" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.mouseover"><img src="Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/reset_button.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" onmouseover="swap(this,'Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/ResetBlue.gif')" onmouseout="swap(this,'Variables.cs_imagedir/graphics/SessionVariables.locale/button/content/images/reset_button.gif')" REPLACEALL="Variables.cs_imagedir,SessionVariables.locale,Variables._XLAT_" /></a>
						<br /></td>
						</tr>
						</table>

					</td>
					</tr>
					<tr>
					<td colspan="4">

						<table border="0" cellpadding="0" cellspacing="0">
						<tr>
						<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="35" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						</tr>
						<tr>
						<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="10" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						<td valign="top"><img src="Variables.cs_imagedir/graphics/common/logo/loginLogo.jpg" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="10" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						<td valign="top">
							<table border="0" cellspacing="0" cellpadding="0">
							<tr>
							<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="10" height="30" REPLACEALL="Variables.cs_imagedir" /><br /></td>
							</tr>
							 
							<IF COND="IsVariable.cs_environment=true">
				       		<THEN>
								<tr>
									<td style="padding-left:7px" class="fontstyle5"><b><XLAT.STREAM KEY="dvin/UI/Login"/>: insite</b></td>
								</tr>
				       	   	</THEN>
							<ELSE>
								<tr>
									<td style="padding-left:7px" class="fontstyle5"><b><XLAT.STREAM KEY="dvin/UI/Login"/>: advanced</b></td>
								</tr>
							</ELSE>
				       	   	</IF>

							</table>
						</td>
						<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="20" height="1" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
						<td>
							<table width="155" cellspacing="0" cellpadding="0" border="0">
							<tr>
							<td class="fontstyle4"><XLAT.STREAM KEY="fatwire/Alloy/UI/InstalledProducts"/>: </td>
							</tr>
							<tr>
							<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="10" height="15" REPLACEALL="Variables.cs_imagedir" /><br /></td>
							</tr>
							<tr>
                            <td class="fontstyle5">
                       			<SETVAR NAME="csversion" VALUE="CS.Property.ft.version"/>
				       			<SETVAR NAME="errno" VALUE="0"/>
				       			<ENDS STR="CS.Property.ft.version" WHAT=".0"/>
				       			<IF COND="Variables.errno=1">
				       			<THEN>
				       				<STRING.LENGTH VALUE="CS.Property.ft.version" VARNAME="verlength"/>
				       				<SETCOUNTER NAME="lencount" VALUE="Variables.verlength"/>
				       				<INCCOUNTER NAME="lencount" VALUE="-2"/>
				       				<SUBSTRING STR="CS.Property.ft.version" OUTSTR="csversion" ENDINDEX="Counters.lencount"/>
				       			</THEN>
				       			</IF>
                            	
                            	Content Server <CSVAR NAME="Variables.csversion"/> 
                            </td>
							</tr>
						    <IF COND="CS.Property.marketingstudio.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">CS-Engage <CSVAR NAME="CS.Property.marketingstudio.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							  <IF COND="CS.Property.satelliteserver.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">CS-Satellite <CSVAR NAME="CS.Property.satelliteserver.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							  <IF COND="CS.Property.integrationcentre.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">CS-Bridge Enterprise <CSVAR NAME="CS.Property.integrationcentre.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							  <IF COND="CS.Property.xmlexchangeserver.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">CS-Bridge XML <CSVAR NAME="CS.Property.xmlexchangeserver.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							  <IF COND="CS.Property.analysisconnector.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">Analytics Bridge <CSVAR NAME="CS.Property.analysisconnector.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							  <IF COND="CS.Property.commerceconnector.version!=Variables.empty">
							  <THEN>
                   		   <tr>
                   		     <td class="fontstyle5">Commerce Connector <CSVAR NAME="CS.Property.commerceconnector.version"/> </td>
                   		   </tr>
							  </THEN>
							  </IF>
							</table>
						</td>
						</tr>
						</table>
					</td>
					</tr>
					</table>
					<!-- -->
				</td>
				</tr>
				</table>
				<!-- -->
				</td>
				</tr>
				</table><!-- border inner table END -->

				</td>
				</tr>
				</table><!-- border outter table END -->
			</td>
			</tr>
			<tr>
			<td><img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="1" height="4" border="0" REPLACEALL="Variables.cs_imagedir" /><br /></td>
			<td colspan="2" bgcolor-="#ff0099"><img src="Variables.cs_imagedir/graphics/common/logo/horizontalshadow.gif" width="446" height="5" REPLACEALL="Variables.cs_imagedir" /><br /></td>
			</tr>
			</table>

		</td>
		<td width="49%"><!--<img src="Variables.cs_imagedir/graphics/common/logo/spacer.gif" width="400" height="1" border="0"><br />--></td>
	</tr>
</table>
	
	
	
	
	
	
	
	
		<!-- Set the next page to Login	Post with the Xcelerate	ini	file -->
		<if COND="Variables.cs_environment=preview">
		<then>
			<!-- if user logs in through preview screen, we need extra arguments -->
			<CALLELEMENT NAME="OpenMarket/Xcelerate/ControlPanel/Login/Arguments"/>
		</then>
		<else>
			<input type="hidden" name="pagename" value="OpenMarket/Xcelerate/UIFramework/LoginConfirm"/>
		</else>
		</if>
		<!-- Set the inifile variable in case this page was bookmarked	-->
		<input type="hidden" name="inifile" value="futuretense.ini"/>
		<input type="hidden" name="clientTimezoneOffset" value=""/>		
		</SATELLITE.FORM>
</body>
</html>
</FTCS>
