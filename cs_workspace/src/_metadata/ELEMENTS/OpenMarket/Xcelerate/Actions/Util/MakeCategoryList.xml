<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/Util/MakeCategoryList.xml $ 
$Revision: 21 $ 
$Modtime: 1/03/03 4:18p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- MakeCategoryList.xml
-
- DESCRIPTION
-		Make list of known categories
-
- HISTORY 
-->
	 <IF COND="IsVariable.Prefix=true">
	 	<THEN>
	 		<SETVAR NAME="Fieldname" VALUE="Variables.Prefix:category"/>
	 	</THEN>
	 	<ELSE>
	 		<SETVAR NAME="Fieldname" VALUE="category"/>
	 	</ELSE>
	 </IF>
	<setvar NAME="assettype" VALUE="Variables.AssetType"/>
	<FLUSH LIST="Category"/>
	<selectto LIST="Category" FROM="Category" WHAT="*" WHERE="assettype" ORDERBY="lower(Category.description)"/>
    <SELECT NAME="Variables.Fieldname" dojoType="fw.dijit.UISimpleSelect" showErrors="false" clearButton="true" SIZE="1" REPLACEALL="Variables.Fieldname">   
	<if COND="Variables.defaultFormStyle=true">
	<then>
		<script event='startup' type='dojo/connect'><![CDATA[
			dojo.addClass(this.domNode, "defaultFormStyle");
		]]></script>
	</then>
	</if> 
    <loop LIST="Category">
        <if COND="Variables.ContentDetails:category=Category.category">
            <then>
                <OPTION VALUE="Category.category" REPLACEALL="Category.category" SELECTED="true"/><STRING.STREAM VALUE="Category.description"/>
            </then>
            <else>
                <OPTION VALUE="Category.category" REPLACEALL="Category.category"/><STRING.STREAM VALUE="Category.description"/>
            </else>
        </if>
    </loop>
 	</SELECT>
</FTCS>
