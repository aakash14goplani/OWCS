<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!--
$Logfile: /VerticalApps/XcelerateB/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/Util/ChooseStatus.xml $
$Revision: 10 $
$Modtime: 7/24/02 10:45a $
-->
<!-- OpenMarket/Xcelerate/Actions/Util/ChooseStatus
-- Status Code pull down for insert into SearchForm
--
-- INPUT
--
-- OUTPUT
--
-->                

<if COND="IsVariable.Status!=true">
<then>
      <setvar NAME="Status"  VALUE="Variables.empty"/>
</then>
</if>

<setvar NAME="errno" VALUE="0"/>
<setvar NAME="tablename" VALUE="StatusCode"/>
<SELECTTO LIST="StatusCodes" WHAT="*" FROM="StatusCode"/>
<IF COND="IsList.StatusCodes=true">
<THEN>
	<SELECT NAME="Status">
        <IF COND="Variables.Status!=Variables.empty">
    	<THEN>
             <LOOP LIST="StatusCodes">
        	<!-- do not show the 'VO' status as query explicitly eliminates voided assets -->
        		<if COND="StatusCodes.statuscode!=VO">
        		<then>
        			<setvar NAME="key" VALUE="dvin/AT/Common/StatusCode-StatusCodes.statuscode"/>
                <IF COND="StatusCodes.statuscode=Variables.Status">
                <THEN>
  							<OPTION VALUE="StatusCodes.statuscode" SELECTED="" REPLACEALL="StatusCodes.statuscode"/><XLAT.STREAM KEY="Variables.key"/>
  				    </THEN>
                <ELSE>
   					<OPTION VALUE="StatusCodes.statuscode" REPLACEALL="StatusCodes.statuscode"/><XLAT.STREAM KEY="Variables.key"/>
                </ELSE>
                </IF>
            </then>
        		</if>
        	 </LOOP>
     		 <OPTION VALUE=""/>-- <XLAT.STREAM KEY="dvin/UI/Util/choosestatus"/> --
     	</THEN>
        <ELSE>
               <IF COND="Variables.showDummy=true">
        	   <THEN>
        		   <OPTION VALUE="" SELECTED=""/>-- <XLAT.STREAM KEY="dvin/UI/Util/choosestatus"/> --
        	   </THEN>
        	   </IF>
              <LOOP LIST="StatusCodes">
       			<setvar NAME="key" VALUE="dvin/AT/Common/StatusCode-StatusCodes.statuscode"/>
         	<!-- do not show the 'VO' status as query explicitly eliminates voided assets -->
        		<if COND="StatusCodes.statuscode!=VO">
        		<then>
        				<OPTION VALUE="StatusCodes.statuscode" REPLACEALL="StatusCodes.statuscode"/><XLAT.STREAM KEY="Variables.key"/>
        		</then>
        		</if>
        	</LOOP>
  
        </ELSE>
    	</IF>
     </SELECT>
</THEN>
</IF>
</FTCS> 
