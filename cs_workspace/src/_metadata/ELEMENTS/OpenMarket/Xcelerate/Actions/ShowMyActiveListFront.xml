<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateD/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/ShowMyActiveListFront.xml $ 
$Revision: 25 $ 
$Modtime: 8/30/04 2:43p $ 
--> 
<!-- OpenMarket/Xcelerate/Actions/ShowMyActiveListFront

 INPUT

 OUTPUT

-->
<STRING.ENCODE VARIABLE="AssetType" VARNAME="AssetType" />
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<callelement NAME="OpenMarket/Xcelerate/Scripts/GotoPreview"/>
<IF COND="IsVariable.PostPage!=true">
<THEN>
	<SETVAR NAME="PostPage" VALUE="ShowMyActiveListFront"/>
</THEN>
</IF>
<IF COND="Variables.PostPage=ShowMyActiveListFront">
<THEN>
	<SETVAR NAME="tempClsName" VALUE="width-outer-70"/>
</THEN>
<ELSE>
	<SETVAR NAME="tempClsName" VALUE="width-inner-100"/>
</ELSE>
</IF>
<STRING.ENCODE VARIABLE="PostPage" VARNAME="PostPage"/>
<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Actions/Variables.PostPage" REPLACEALL="Variables.PostPage"/>
<INPUT TYPE="HIDDEN" NAME="report" VALUE="Remove"/>
<table class="Variables.tempClsName" replaceall="Variables.tempClsName" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span style="font-size: 12px;font-weight: bold;"><XLAT.STREAM KEY="dvin/UI/MyActiveList"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>
<!-- Table header -->

     <table class="Variables.tempClsName" replaceall="Variables.tempClsName" BORDER="0" CELLSPACING="0" CELLPADDING="0">
     <tr>
		<td></td><td class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
	</tr>
	<tr>
	<td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	<td>
	<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="13" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
		<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><BR /></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Type"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Name"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Description"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/DateAdded"/></DIV></td>
            <td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="UI/Forms/Remove"/></DIV></td>
			<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
		</tr>
<tr><td colspan="13" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>

				<!-- Loop over all search results. -->
     			<setvar NAME="rowStyle" VALUE="tile-row-normal"/>
				<SETVAR NAME="separatorLine" VALUE="0"/>				
			<SETCOUNTER NAME="objCount" VALUE="0"/>
			<IF COND="Variables.doProceed=true">
			<THEN>
			<LOOP COUNT="Variables.AL:Total">
				<ACTIVEITEM.GETASSETID NAME="AL:Counters.objCount" VARNAME="ID"/>
				<ACTIVEITEM.GETASSETTYPE NAME="AL:Counters.objCount" VARNAME="AssetType"/>
				<ACTIVEITEM.GETDATE NAME="AL:Counters.objCount" VARNAME="DateAdded"/>
				<ACTIVEITEM.GETID NAME="AL:Counters.objCount" VARNAME="ItemID"/>
				<SETVAR NAME="errno" VALUE="0"/>
				<ASSET.LIST TYPE="Variables.AssetType" LIST="currentAsset" FIELD1="id" VALUE1="Variables.ID"/>
				<IF COND="Variables.errno=0">
				<THEN>

				
				<IF COND="Variables.separatorLine=1">
					<THEN>
					<tr>
						<!--<td colspan="13" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
					</tr>
					</THEN>
				</IF>

				<SETVAR NAME="separatorLine" VALUE="1"/>
				<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle"><td><BR /></td>
			<td valign="middle" NOWRAP="NOWRAP">
                <PREVIEWURL.MAKEURL VARNAME="previewURL" ASSETTYPE="Variables.AssetType" ASSETID="Variables.ID" PUBID="SessionVariables.pubid"/>
                <IF COND="IsVariable.previewURL=true">
                <THEN>
    				<XLAT.LOOKUP KEY="dvin/Common/PreviewThisItem" VARNAME="_XLAT_"/>
    				<XLAT.LOOKUP KEY="dvin/Common/PreviewThisItem" VARNAME="mouseover" ESCAPE="true"/>
                    <A HREF="javascript:void(0)" onclick="openPreview('Variables.previewURL');" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.previewURL,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconPreviewContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
                </THEN>
                </IF>

				<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/InspectThisItem" VARNAME="mouseover" ESCAPE="true"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
					<ARGUMENT NAME="assettype" VALUE="Variables.AssetType"/>
					<ARGUMENT NAME="assetid" VALUE="Variables.ID"/>
					<ARGUMENT NAME="varname" VALUE="urlInspectItem"/>
					<ARGUMENT NAME="function" VALUE="inspect"/>
				</CALLELEMENT>
				<STRING.ENCODE VARIABLE="urlInspectItem" VARNAME="urlInspectItem"/>
				<A href="Variables.urlInspectItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlInspectItem,Variables.mouseover"><img height="14" width="14" hspace="2" vspace="4"  src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
				<XLAT.LOOKUP KEY="dvin/Common/EditThisItem" VARNAME="_XLAT_"/>
				<XLAT.LOOKUP KEY="dvin/Common/EditThisItem" VARNAME="mouseover" ESCAPE="true"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/GenerateLink">
					<ARGUMENT NAME="assettype" VALUE="Variables.AssetType"/>
					<ARGUMENT NAME="assetid" VALUE="Variables.ID"/>
					<ARGUMENT NAME="varname" VALUE="urlEditItem"/>
					<ARGUMENT NAME="function" VALUE="edit"/>
				</CALLELEMENT>
				<STRING.ENCODE VARIABLE="urlEditItem" VARNAME="urlEditItem"/>
				<IF COND="Variables.AssetType=Template">
				<THEN>
					<IF COND="Variables.hasEditACL=true">
					<THEN>
						<A href="Variables.urlEditItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlEditItem,Variables.mouseover"><img vspace="4" hspace="2" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
					</THEN>
					<ELSE>
							<XLAT.LOOKUP VARNAME="_XLAT_" KEY="dvin/AT/Template/Youdonthaveprivilegestoedit"/>
						<img height="14" width="14" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContentX.gif" border="0" hspace="2" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/>
					</ELSE>
					</IF>
				</THEN>
				<ELSE>
					<A href="Variables.urlEditItem" OnMouseOver="window.status='Variables.mouseover'; return true" OnMouseOut="return window.status='';" REPLACEALL="Variables.urlEditItem,Variables.mouseover"><img vspace="4" hspace="2" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif" border="0" title="Variables._XLAT_" alt="Variables._XLAT_" REPLACEALL="Variables.cs_imagedir,Variables._XLAT_"/></A>
				</ELSE>
				</IF>
				
				<BR />
			</td>
				
                <td><BR /></td><td VALIGN="TOP" ALIGN="LEFT" NOWRAP="NOWRAP">
                    <DIV class="small-text-inset">
                    <ASSETTYPE.LOAD NAME="currAT" TYPE="Variables.AssetType"/>
                    <ASSETTYPE.GET NAME="currAT" FIELD="description"/>
					<STRING.STREAM VARIABLE="description"/>
					</DIV>
				</td>
				<td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
					<DIV class="small-text-inset">
						<XLAT.LOOKUP KEY="dvin/UI/ShowContent" VARNAME="_XLAT_" ESCAPE="true"/>
						<A HREF="Variables.urlInspectItem"
							OnMouseOver="window.status='Variables._XLAT_'; return true"
							OnMouseOut="return window.status='';" REPLACEALL="Variables.urlInspectItem,Variables._XLAT_"><STRING.STREAM LIST="currentAsset" COLUMN="name"/></A><BR />
					</DIV>
				</td>
                <td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
                    <DIV class="small-text-inset">
					<STRING.STREAM LIST="currentAsset" COLUMN="description"/><BR />
					</DIV>
				</td>
                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
                    <DIV class="small-text-inset">
                        <DATEFORMAT.CREATE NAME="dObject" DATESTYLE="SHORT" TIMESTYLE="SHORT" LOCALE="LocaleName" TIMEZONEID="SessionVariables.time.zone"/>
                        <DATEFORMAT.GETDATETIME NAME="dObject" VALUE="Variables.DateAdded" VALUETYPE="jdbcdate" VARNAME="formatteddate"/>
                        <DATEFORMAT.GETDATETIME NAME="_FormatDate_" VALUE="Variables.DateAdded" VALUETYPE="jdbcdate"  VARNAME="formatteddateFullVersion"/>
                        <SPAN TITLE="Variables.formatteddateFullVersion" REPLACEALL="Variables.formatteddateFullVersion">
	 							<STRING.STREAM VARIABLE="formatteddate"/>
                        </SPAN>
                    <BR />
					</DIV>
				</td>
                <td><BR /></td><td NOWRAP="NOWRAP">

					<INPUT TYPE="CHECKBOX" NAME="RemoveAsset" onclick="return setRemove(this,Variables.ItemID);" VALUE="Variables.ItemID" style="margin-top:10px" REPLACEALL="Variables.ItemID"/><BR />

				</td>
			
                <td><BR /></td></tr>
	            <IF COND="Variables.rowStyle=tile-row-normal">
	            <THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
	            </THEN>
	            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
	            </ELSE>
	            </IF>
            </THEN>
            </IF>
   				<INCCOUNTER NAME="objCount" VALUE="1"/>
				</LOOP>
			</THEN>
			<ELSE>
			<tr><td><BR /></td><td colspan="10"><DIV class="small-text-inset"><XLAT.STREAM KEY="dvin/Common/NoItemsActiveList"/><BR /></DIV></td></tr>
			</ELSE>
			</IF>
	</table>
	</td>
    <td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
  <tr>
    <td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
  </tr>
  <tr>
    <td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
  </tr>
<!--[2007-08-30 KG]
  adding another IF here to suppress Remove button and related JavaScript
  when active list is empty.
-->
  <IF COND="Variables.doProceed=true"><THEN>
        <SCRIPT LANGUAGE="Javascript">
	
		<![CDATA[
			
		function setRemove(obj,id) { }

			function RemoveFromAL()
			{ var i=0;
				var obj = document.forms[0];
				for (i=0;  i < obj.elements.length;i++) {
					if (obj.elements[i].name=="RemoveAsset") {
						if (obj.elements[i].checked==true) {
							return true;
							} 
						}
				}
				alert("]]><XLAT.STREAM KEY="dvin/UI/PleaseselectitemstoremovefromAL" ESCAPE="true" ENCODE="false"/><![CDATA[");

				return false;
			}	]]>
		</SCRIPT>
</THEN></IF>
<IF COND="Variables.AL:Total!=0"><THEN>		
<XLAT.LOOKUP KEY="dvin/Common/RemoveSelectedItemsActiveList" VARNAME="_XLAT_"/>
<XLAT.LOOKUP KEY="dvin/Common/RemoveSelectedItemsActiveList" VARNAME="mouseover" ESCAPE="true"/>
<tr><td colspan="3" ALIGN="RIGHT"><A class="inline-right" HREF="javascript:void(0);" onClick="if(RemoveFromAL()!=false){document.forms[0].submit(); return false;}" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables.mouseover"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Remove"/></CALLELEMENT></A></td></tr>
</THEN></IF>
</table> 
<p/><p/>
</FTCS> 
