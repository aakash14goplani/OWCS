<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Xcelerate/Actions/BulkAddtoGroupFront
-
- INPUT
-
- OUTPUT
-
-->
<CALLELEMENT NAME="OpenMarket/Xcelerate/Scripts/FormatDate" />
<STRING.ENCODE VARIABLE="id" VARNAME="id"/>
<STRING.ENCODE VARIABLE="AssetType" VARNAME="AssetType"/>
<SCRIPT LANGUAGE="JavaScript">
<![CDATA[
function SelectWorkflowGroup(singlegroup) 
{
    var obj = document.forms[0].elements[0];
    
    if (!singlegroup)
    { 
        cnt = obj.form.elements['AddToGroup'].length;
        
        selectcount = 0;
        for (i=0; (i<cnt); i++)
        {
         if (obj.form.elements['AddToGroup'][i].checked)
           selectcount++;
        }
        
        if (selectcount==0) {
         ]]>
         alert("<XLAT.STREAM KEY="dvin/UI/Error/YouMustChooseAGroupForAssignment" ESCAPE="true" ENCODE="false"/>");
         <![CDATA[
         return false;
        }
        if (selectcount>1) {
         ]]>
         alert("<XLAT.STREAM KEY="dvin/UI/Error/Youmaychooseonlyonegroupassignment" ESCAPE="true" ENCODE="false"/>");
         <![CDATA[
         return false;
        }
    }
    if(obj.form.elements['dosetsdeadline'].value=="true")
    {
    if (obj.form.elements['useDefaultDeadline'][1].checked) 
    {
        var deadline_date = document.getElementById('deadlineFieldDiv').innerHTML;
        if (deadline_date == "")
        {
        	]]>
            alert("<XLAT.STREAM KEY="dvin/UI/Error/assignmentdeadlineenterednotvaliddate"/>");
            <![CDATA[
            return false;
        }

        var cur_date = new Date();
        deadlineVal = dateToObject(deadline_date).valueOf();
        if (deadlineVal < cur_date.valueOf())
        {
           ]]>
           alert("<XLAT.STREAM KEY="dvin/UI/Error/assignmentdeadlineearliercurrenttime"/>");
           <![CDATA[
           return false;
 
        }
        
        obj.form.elements['deadline'].value = deadlineVal;
    }
    }

    obj.form.submit();
    return false;
}
function reloadThisPage(id)
{
   var obj = document.forms[0].elements[0];

   obj.form.elements['pagename'].value = "OpenMarket/Xcelerate/Actions/BulkAddToGroupFront";
   obj.form.elements['chosengroupid'].value = id;
   obj.form.submit();
   return false;
}
function setDefaultDeadline()
{
    var obj = document.getElementById('deadline_div');
    obj.style.visibility='hidden';
}
    
function setDeadline()
{
    var obj = document.getElementById('deadline_div');
    obj.style.visibility='visible';
}

]]>
</SCRIPT>

<!-- load and scatter the group -->
<WORKFLOWENGINE.GETGROUPID ID="Variables.id" OBJVARNAME="group"/>
<WORKFLOWGROUP.SCATTER PREFIX="wfg:" NAME="group"/>

            <WorkflowGroup.GetWorkflowProcessID NAME="group" VARNAME="workflowid" />
            <WorkflowEngine.GetProcessID ID="Variables.workflowid" OBJVARNAME="workflow"/>
            <WorkflowProcess.GetProcessName NAME="workflow" VARNAME="workflowname" />
            <WorkflowProcess.getinitialstepid NAME="workflow" VARNAME="startstep"/>
            <WorkflowProcess.getstep NAME="workflow" VALUE="Variables.startstep" OBJVARNAME="startstepobj"/>
            <WorkflowStep.GetDeadlineType NAME="startstepobj" VARNAME="stepdeadlinetype"/>

<SETVAR NAME="groupid" VALUE="Variables.id"/>
<setvar NAME="name" VALUE="Variables.wfg:name"/>

<WORKFLOWENGINE.CANEDITGROUP ID="Variables.groupid" SITE="SessionVariables.pubid" VARNAME="canAddToGroup" />
<IF COND="Variables.canAddToGroup=false">
<THEN>
	<STRING.ENCODE VARIABLE="name" VARNAME="name"/>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/Util/ShowError">
		<ARGUMENT NAME="error" VALUE="NoAddToGroupPriv"/>
		<ARGUMENT NAME="groupname" VALUE="Variables.name"/>
	</CALLELEMENT>

<CALLELEMENT NAME="OpenMarket/Xcelerate/PrologActions/WorkflowGroupDetailsFront"/>
<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/WorkflowGroupDetailsFront"/>
	
</THEN>
<ELSE>
	<IF COND="Variables.AbortFlag!=true">
	<THEN>
	     <WorkflowEngine.GetAvailableGroups PREFIX="groups" />
	     <IF COND="Variables.groupsTotal=0">
	     <THEN>
	          <SETVAR NAME="AbortFlag" VALUE="true"/>
		  <SETVAR NAME="ErrorName" VALUE="NoWorkflowGroups"/>
		  <SETVAR NAME="severity" VALUE="info"/>
	     </THEN>
	     </IF>
	</THEN>
	</IF>


<if COND="Variables.AbortFlag!=true">
<then>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/AddtoWorkflowGroup"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>    
<!-- Table header -->
<table class="width-outer-50" BORDER="0" CELLSPACING="0" CELLPADDING="0">

   
    <tr>
        <td class="form-label-text">
            <XLAT.STREAM KEY="dvin/Common/GroupName"/>:
        </td>
        <td class="form-inset">
                <STRING.STREAM VALUE="Variables.name" />
        </td>
    </tr>
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <tr>
        <td class="form-label-text">
            <XLAT.STREAM KEY="dvin/AT/Common/Description"/>:
        </td>
        <td class="form-inset">
                <STRING.STREAM VALUE="Variables.wfg:description" />
        </td>
    </tr>
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    <tr>
        <td class="form-label-text">
                <span class="alert-color">*</span>
                <XLAT.STREAM KEY="dvin/Common/AddtoGroup"/>:
        </td>
        
        <td class="form-label-inset">
		<STRING.ENCODE VARIABLE="groupid" VARNAME="groupidEnc"/>
        <INPUT type="hidden" name="AddToGroup" VALUE="Variables.groupidEnc" REPLACEALL="Variables.groupidEnc"/>
		<!-- now we want to display the list of assets that were selected from the tree and whether the user
		is allowed to add them to the group or not. We'll give the available assets a checkbox so the user can change
		their mind about some if they want -->
	<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
	<table BORDER="0" CELLSPACING="0" CELLPADDING="0">
		<tr>
			<td></td><td class="tile-dark" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
		</tr>
		<tr>
			<td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			<td>
				<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="9" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
					<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Type"/></DIV></td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Common/Name"/></DIV></td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Common/Description"/></DIV></td>
						<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" ALIGN="CENTER" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Add"/></DIV></td>
						<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					</tr>
					<tr><td colspan="9" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
					<!-- Loop over all search results. -->
		   			<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
					<SETVAR NAME="separatorLine" VALUE="0"/>
					<SETCOUNTER NAME="availAssets" VALUE="0"/>
					<STRINGLIST NAME="ForGroupList" STR="Variables.TreeSelectStr" DELIM=":"/>
					<WORKFLOWENGINE.GETGROUPID ID="Variables.groupid" OBJVARNAME="groupobj" />
					<WORKFLOWGROUP.GETNAME NAME="groupobj" VARNAME="groupname" />

					<LOOP LIST="ForGroupList">
						<CALLELEMENT NAME="OpenMarket/Gator/UIFramework/ParseTreeNodeID">
							<ARGUMENT NAME="TreeNodeID" VALUE="ForGroupList.ITEM"/>
						</CALLELEMENT>
				
						<WORKFLOWASSET.LOAD ASSETTYPE="Variables.AssetType" ID="Variables.ID" OBJVARNAME="workflowasset" />
						<ASSET.LOAD TYPE="Variables.AssetType" OBJECTID="Variables.ID" NAME="theAsset"/>
						<ASSETTYPE.LOAD NAME="type" TYPE="Variables.AssetType"/>
						<ASSETTYPE.GET NAME="type" FIELD="description" OUTPUT="ATdesc"/>
						<ASSET.GET NAME="theAsset" FIELD="name" OUTPUT="assetname"/>
						<ASSET.GET NAME="theAsset" FIELD="description" OUTPUT="assetdesc" />

						<SETVAR NAME="AbortFlag" VALUE="false"/>



						<!-- if the asset is checked out by someone, abort -->
						<callelement NAME="OpenMarket/Xcelerate/Actions/RevisionTracking/CheckTrackingEnabled">
						    <argument NAME="AssetType" VALUE="Variables.AssetType"/>
						</callelement>
						<if COND="Variables.trackingenabled=true">
						<then>
						    <history TABLE="Variables.AssetType" ASSET="Variables.ID" LIST="ItsHistory"/>
						    <if COND="ItsHistory.#numRows!=0">
						    <then>
						        <if COND="ItsHistory.lockedby!=Variables.empty">
						        <then>
						            <SETVAR NAME="AbortFlag" VALUE="true"/>
						            <XLAT.LOOKUP KEY="dvin/UI/Wf/BulkAdd_Locked" VARNAME="ErrorName"/>
						            <SETVAR NAME="lockedby" VALUE="ItsHistory.lockedby" />
						            <SETVAR NAME="severity" VALUE="info"/>
						        </then>
						        </if>
						    </then>
						    </if>
						</then>
						</if>

						<if COND="Variables.trackingenabled=true">
						<then>
							<WORKFLOWENGINE.ISOBJECTASSIGNEDTOGROUP OBJECT="workflowasset" VARNAME="isingroup"/>
							<IF COND="Variables.isingroup=true">
							<THEN>
						            <SETVAR NAME="AbortFlag" VALUE="true"/>
						            <XLAT.LOOKUP KEY="dvin/UI/Wf/BulkAdd_InWorkflowGroup" VARNAME="ErrorName"/>
						            <SETVAR NAME="severity" VALUE="info"/>
							</THEN>
							</IF>
						</then>
						</if>
						
						<!-- Bug 9669 - check user roles for allowed to take start step -->						
						<IF COND="Variables.AbortFlag!=true">
						<THEN>
							<WorkflowStep.GetAuthorizationRoles NAME="startstepobj" OBJVARNAME="rolesobj"/>
							<RoleList.GetAll NAME="rolesobj" VARNAME="aroles"/>
							<STRINGLIST NAME="rolesofcurrentuser" STR="SessionVariables.currentpubACLs" DELIM=","/>
							<!-- if roles of curent user can take the statrt step in the process of the group --->
							<SETVAR NAME="userallowedtotakestep" VALUE="false"/>
							<LOOP LIST="rolesofcurrentuser">
								<SETVAR NAME="errno" VALUE="0"/>
								<ISINLIST ITEM="rolesofcurrentuser.ITEM" STR="Variables.aroles"/>
								<IF COND="Variables.errno=1">
								<THEN>
									<SETVAR NAME="userallowedtotakestep" VALUE="true"/>
								</THEN>
								</IF>	
							</LOOP>
										
							<IF COND="Variables.userallowedtotakestep!=true">
							<THEN>
								<SETVAR NAME="AbortFlag" VALUE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Wf/BulkAdd_CantTakeStartStep" VARNAME="ErrorName"/>
								<SETVAR NAME="severity" VALUE="info"/>
							</THEN>
							</IF>
						</THEN>
						</IF>
						
						<IF COND="Variables.AbortFlag!=true">
						<THEN>
						    <WORKFLOWENGINE.ISOBJECTASSIGNEDTOUSER OBJECT="workflowasset" VARNAME="isAssigned"/>
						    <IF COND="Variables.isAssigned=true">
							<THEN>
						 		<SETVAR NAME="AbortFlag" VALUE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Wf/BulkAdd_WorkflowAlreadyActive" VARNAME="ErrorName"/>
								<SETVAR NAME="severity" VALUE="info"/>
							</THEN>
						    </IF>
						</THEN>
						</IF>

						<!-- If the asset is already assigned to a group, we should not be able to add the asset to group -->

						<IF COND="Variables.AbortFlag!=true">
						<THEN>
						    <WorkflowEngine.IsObjectAssignedToGroup OBJECT="workflowasset" VARNAME="isAssigned"/>
						    <IF COND="Variables.isAssigned=true">
						    <THEN>
						 		<SETVAR NAME="AbortFlag" VALUE="true"/>
								<SETVAR NAME="ErrorName" VALUE="WorkflowActive"/>
								<SETVAR NAME="severity" VALUE="info"/>
							</THEN>
							</IF>
						</THEN>
						</IF>

		
						<IF COND="Variables.separatorLine=1">
						<THEN>
							<tr>
								<!--<td colspan="9" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
							</tr>
						</THEN>
						</IF>
						<SETVAR NAME="separatorLine" VALUE="1"/>
		
						<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle">
			                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
			                    <DIV class="small-text-inset">
	                  					<STRING.STREAM VALUE="Variables.ATdesc"/>
								</DIV>
							</td>
			                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
			                    <DIV class="small-text-inset">
	                  					<STRING.STREAM VALUE="Variables.assetname"/>
								</DIV>
							</td>
							<td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
			                    <DIV class="small-text-inset">
			                    <STRING.STREAM VALUE="Variables.assetdesc"/>
			                    </DIV>
			                 </td>
			       			<td><BR /></td><td VALIGN="TOP" ALIGN="CENTER">
			                    <DIV class="small-text-inset">
									<IF COND="Variables.AbortFlag!=true">
									<THEN>
										<STRING.ENCODE VARIABLE="ID" VARNAME="ID"/>
										<INPUT TYPE="CHECKBOX" NAME="SelectedAssets" VALUE="Variables.ID" CHECKED="CHECKED" REPLACEALL="Variables.ID"/>
										<INCCOUNTER NAME="availAssets" VALUE="1"/>
									</THEN>
									<ELSE>
										<span class="alert-color"><STRING.STREAM VALUE="Variables.ErrorName"/></span>
									</ELSE>
									</IF>
								</DIV>
			                 </td>
			                 <td><BR /></td>
						</tr>
						
						<IF COND="Variables.rowStyle=tile-row-normal">
							<THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/></THEN>
				            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/></ELSE>
			            </IF>
					</LOOP>
				</table>
				</td>
				<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
				</tr>
			<tr>
			<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1" NOWRAP="nowrap"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			</tr>
			<tr>
			<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
			</tr>
			</table>

			<BR/>
			<IF COND="Counters.availAssets=0">
			<THEN>
				<XLAT.STREAM KEY="dvin/UI/Wf/NoAssetsCanAddtoGroup"/>
			</THEN>
			<ELSE>
				<IF COND="Counters.availAssets=1">
				<THEN>
					<XLAT.STREAM KEY="dvin/UI/Wf/SingularNumAssetCanAddtoGroup" num="Counters.availAssets" EVALALL="false"/>
				</THEN>
				<ELSE>
					<XLAT.STREAM KEY="dvin/UI/Wf/PluralNumAssetsCanAddtoGroup" num="Counters.availAssets" EVALALL="false"/>
				</ELSE>
				</IF>
			</ELSE>
			</IF>
        </td>
    </tr>

<!-- If none of the assets from the list can actually be added, then we don't need to ask for a comment or deadline -->
<IF COND="Counters.availAssets!=0">
<THEN>
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
    
    <tr>
        <td class="form-label-text"><XLAT.STREAM KEY="dvin/Common/ActionlctoTake"/>:</td>
        <td class="form-inset">
            <TEXTAREA NAME="groupcomment" ROWS="8" COLS="60" WRAP="VIRTUAL">
            <if COND="IsVariable.groupcomment=true">
            <then>
                <STRING.STREAM VALUE="Variables.groupcomment" />
            </then>
            </if>
            </TEXTAREA>
        </td>
    </tr>

    

    <!-- check if deadlinetype of the start step of the process for the group is as -->
    
    <setvar NAME="dosetpdeadline" VALUE="false"/>
    
    <if COND="Variables.stepdeadlinetype=ask">
    <then>
        <setvar NAME="dosetsdeadline" VALUE="true"/>
        <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
		<tr>
        <td class="form-label-text">
         	<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/UI/Common/AssignmentDeadline"/>:
        </td>
        <td class="form-inset" nowrap="nowrap">
            <INPUT TYPE="RADIO" NAME="useDefaultDeadline" VALUE="true" CHECKED="true" OnClick="setDefaultDeadline()" /><XLAT.STREAM KEY="dvin/Common/Usedefault"/>
            <br/>
            <INPUT TYPE="RADIO" NAME="useDefaultDeadline" VALUE="false" OnClick="setDeadline()" />
               
           <XLAT.STREAM KEY="dvin/Common/Due"/>
           <IMG WIDTH="4" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/>

           <XLAT.LOOKUP KEY="fatwire/Alloy/UI/PickADate" VARNAME="pickADateString" />
           <span ID="deadline_div" style="visibility:hidden">
               <div id="deadlineFieldId" name="deadlineField" dojoType="fw.dijit.UIInput"  clearButton="true" readonly="true"></div>
				<DIV ID="deadlineFieldDiv" STYLE="display:none"></DIV>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Scripts/DateTimeWidget">
					<ARGUMENT NAME="inputFieldId" value="deadlineFieldId"/>
					<ARGUMENT NAME="inputDivId" value="deadlineFieldDiv"/>
				</CALLELEMENT>
			</span>
        </td>
        </tr>
    </then>
    </if>    
    </THEN>
    </IF><!-- end Counters.availAssets !=0 -->
	
	<if COND="IsVariable.dosetsdeadline!=true">
	<then>
		<setvar NAME="dosetsdeadline" VALUE="false"/>
	</then>
	</if>
	<IF COND="IsVariable.action=true">
	<THEN>
	    <STRING.ENCODE VARIABLE="action" VARNAME="action"/>
		<INPUT TYPE="HIDDEN" NAME="action" VALUE="Variables.action" REPLACEALL="Variables.action"/>
	</THEN>
	</IF>
	<INPUT TYPE="hidden" NAME="dosetsdeadline" VALUE="Variables.dosetsdeadline" REPLACEALL="Variables.dosetsdeadline"/>

	<INPUT TYPE="hidden" NAME="deadline" VALUE="0" />

	<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="mouseover" ESCAPE="true"/>
	<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="_XLAT_"/>
	
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
	<tr><td></td><td>
		<IF COND="Variables.action=contents">
		<THEN>
			<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Actions/WorkflowGroupDetailsFront" outstring="urlwfgrpfront">
				<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
				<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
												  <satellite.argument name="id" value="Variables.groupid"/>
												  <satellite.argument name="action" value="contents"/>
												   </SATELLITE.LINK>
			<A HREF="Variables.urlwfgrpfront" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true;"  REPLACEALL="Variables.urlwfgrpfront,Variables.mouseover"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
		</THEN>
		<ELSE>
			<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Actions/WorkflowGroupDetailsFront" outstring="urlwfgrpfront">
				<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
				<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
												  <satellite.argument name="id" value="Variables.groupid"/>
												   </SATELLITE.LINK>
			<A HREF="Variables.urlwfgrpfront" onmouseover="window.status='Variables.mouseover';return true;" onmouseout="window.status='';return true;"  REPLACEALL="Variables.urlwfgrpfront,Variables.mouseover"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
		</ELSE>
		</IF>
		
		<IF COND="Counters.availAssets!=0">
		<THEN>

			<XLAT.LOOKUP KEY="dvin/UI/AddtoWorkflowGroup" VARNAME="_XLAT_" ESCAPE="true"/>
			<XLAT.LOOKUP KEY="dvin/UI/AddtoWorkflowGroup" VARNAME="_ALT_"/>
			
			<A HREF="javascript:void(0);" OnClick="return SelectWorkflowGroup(true);" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/AddtoGroup"/></CALLELEMENT></A>
		</THEN>
		</IF>
		</td></tr>
</table>
<STRING.ENCODE VARIABLE="PostPage" VARNAME="PostPage"/>
<INPUT TYPE="hidden" name="pagename" value="OpenMarket/Xcelerate/Actions/Variables.PostPage" REPLACEALL="Variables.PostPage"/>
<STRING.ENCODE VARIABLE="id" VARNAME="idEnc"/>
<INPUT TYPE="hidden" NAME="groupid" VALUE="Variables.idEnc" REPLACEALL="Variables.idEnc"/>
<STRING.ENCODE VARIABLE="AssetType" VARNAME="AssetTypeEnc"/>
<INPUT TYPE="hidden" NAME="AssetType" VALUE="Variables.AssetTypeEnc" REPLACEALL="Variables.AssetTypeEnc"/>
<STRING.ENCODE VARIABLE="TreeSelectStr" VARNAME="TreeSelectStr"/>
<INPUT TYPE="hidden" NAME="TreeSelectStr" VALUE="Variables.TreeSelectStr" REPLACEALL="Variables.TreeSelectStr"/>


</then>
<else>
	<div class="width-outer-70">
    <callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
       	<argument NAME="elem" VALUE="Variables.ErrorName"/>
       	<argument NAME="severity" VALUE="Variables.severity"/>
    </callelement>
	</div> 
    <callelement NAME="OpenMarket/Xcelerate/Actions/StatusDetailsFront">
    	<argument NAME="AssetType" VALUE="Variables.AssetType"/>
    	<argument NAME="id"        VALUE="Variables.id"/>
    </callelement>
</else>
</if>
</ELSE>
</IF>
</FTCS> 
