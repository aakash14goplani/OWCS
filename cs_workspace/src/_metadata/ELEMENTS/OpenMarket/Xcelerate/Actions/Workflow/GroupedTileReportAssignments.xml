<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateD/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/Workflow/GroupedTileReportAssignments.xml $ 
$Revision: 13 $ 
$Modtime: 8/10/04 11:16a $ 
-->
<!-- OpenMarket/Xcelerate/Actions/Workflow/GroupedTileReportAssignments
-
- INPUT
-
- OUTPUT
-
-->

<SCRIPT Language="Javascript">

function ActionText(pURL)
{
    PreviewWindow = window.open(pURL, "ActionText",
	"width=300,height=200,scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,resizable=yes,directories=no");

   PreviewWindow.focus();
}

</SCRIPT>

<SETVAR NAME="anyDeadlocked" VALUE="false"/>
<CALCULATOR.GO VALUE="Variables.allAssignments:Total Variables.ResultLimit GTE" VARNAME="isBigger"/>
<IF COND="Variables.isBigger=1">
	<THEN><SETVAR NAME="countLimit" VALUE="Variables.ResultLimit"/></THEN>
	<ELSE><SETVAR NAME="countLimit" VALUE="Variables.allAssignments:Total"/></ELSE>
</IF>

<IF COND="Variables.countLimit!=0">
<THEN>
     <SETCOUNTER NAME="colspan_count" VALUE="3"/>

	<IF COND="Variables.showType=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
    </IF>

	<IF COND="Variables.showId=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showKey=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showDescription=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showAssignedTo=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showAssignedBy=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showAssignedDate=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>
                
	<IF COND="Variables.showActionToTake=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>
    
	<IF COND="Variables.showClearedBy=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showClearedDate=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showDueDate=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showProcessDeadline=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showActionTaken=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showWorkflowStatus=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showDeadlocked=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showStepTaken=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

	<IF COND="Variables.showIsActive=true">
	<THEN>                    
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>
    
    <IF COND="Variables.showClearAssignment=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>

    <IF COND="Variables.showCheckout=true">
	<THEN>
		<INCCOUNTER NAME="colspan_count" VALUE="2"/>
	</THEN>
	</IF>
	<INCCOUNTER NAME="colspan_count" VALUE="2"/>
<table BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%">
<tr>
	<td></td><td class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
</tr>
<tr>
<td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
<td >
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
	<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
	<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
		<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Admin/Action"/></DIV></td>
		<IF COND="Variables.showType=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Type"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showId=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Common/ID"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showKey=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Common/Name"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showDescription=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/AT/Common/Description"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showAssignedTo=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/AssignedTo"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showAssignedBy=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/AssignedBy"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showAssignedDate=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/AssignedDate"/></DIV></td>
		</THEN>
		</IF>
                
		<IF COND="Variables.showActionToTake=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title">                  
			<IF COND="Variables.showAsComment=true">
			<THEN>
				<XLAT.STREAM KEY="dvin/Common/Comments"/>
			</THEN>
			<ELSE>
				<XLAT.STREAM KEY="dvin/Common/ActionlctoTake"/>
			</ELSE>
			</IF></DIV>
			</td>
		</THEN>
		</IF>
    
		<IF COND="Variables.showClearedBy=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/ResolvedBy"/></DIV></td>
		</THEN>
		</IF>
        <IF COND="Variables.showCheckout=true">
		<THEN>                    
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title">&nbsp;</DIV></td>
		</THEN>
		</IF>
		<IF COND="Variables.showWorkflowStatus=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/WorkflowState"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showDeadlocked=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><BR /></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showStepTaken=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/StepChosen"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showClearedDate=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/ResolutionDate"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showDueDate=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Due"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showProcessDeadline=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Common/ProcessDeadline"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showActionTaken=true">
		<THEN>
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/ActionTaken"/></DIV></td>
		</THEN>
		</IF>

		<IF COND="Variables.showIsActive=true">
		<THEN>                    
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Wf/TaskStatus"/></DIV></td>
		</THEN>
		</IF>
        
        <IF COND="Variables.showClearAssignment=true">
		<THEN>                    
			<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" NOWRAP="NOWRAP" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title">&nbsp;</DIV></td>
		</THEN>
		</IF>
        
		<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
	</tr>
	<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
 	

    <!-- assignments are coming from the caller (i.e. ShowWorkListFront.xml) -->

	<!-- Process this list to segregate it by group id.  This step will create a set of comma-delimited index list strings - one for the elements
	     that have no group, and the others (named indices_<groupid>) for the ones that have a group identifier.  GroupTileReportGuts
	     will accept one of these lists, along with the prefix describing all of the assignments. -->

	<!-- Initialize all the strings we need -->
	<HASH.CREATE NAME="groupidhash"/>
	<SETVAR NAME="groupids" VALUE="Variables.empty"/>
	<SETVAR NAME="indices_global" VALUE="Variables.empty"/>
	<SETCOUNTER NAME="indexcounter" VALUE="0"/>
	<LOOP FROM="0" COUNT="Variables.allAssignments:Total">
		<!-- For this assignment, get the group identifier -->
		<WORKFLOWASSIGNMENT.GETGROUPID NAME="allAssignments:Counters.indexcounter" VARNAME="theGroupID"/>
		<IF COND="IsVariable.theGroupID=false">
		<THEN>
			<SETVAR NAME="theGroupID" VALUE="Variables.empty"/>
		</THEN>
		</IF>

		<IF COND="Variables.theGroupID!=Variables.empty">
		<THEN>
			<SETVAR NAME="indices_Variables.theGroupID" VALUE="Variables.empty"/>
			<HASH.CONTAINS NAME="groupidhash" VALUE="Variables.theGroupID" VARNAME="boolean"/>
			<IF COND="Variables.boolean=false">
			<THEN>
				<IF COND="Variables.groupids=Variables.empty">
				<THEN>
					<SETVAR NAME="groupids" VALUE="Variables.theGroupID"/>
				</THEN>
				<ELSE>
					<SETVAR NAME="groupids" VALUE="Variables.groupids,Variables.theGroupID"/>
				</ELSE>
				</IF>
				<HASH.ADD NAME="groupidhash" VALUE="Variables.theGroupID"/>
			</THEN>
			</IF>
		</THEN>
		</IF>

		<INCCOUNTER NAME="indexcounter" VALUE="1"/>
	</LOOP>

	<!-- Accumulate index values -->
	<SETCOUNTER NAME="indexcounter" VALUE="0"/>
	<LOOP FROM="0" COUNT="Variables.allAssignments:Total">
		<!-- For this assignment, get the group identifier -->
		<WORKFLOWASSIGNMENT.GETGROUPID NAME="allAssignments:Counters.indexcounter" VARNAME="theGroupID"/>
		<IF COND="IsVariable.theGroupID=false">
		<THEN>
			<SETVAR NAME="theGroupID" VALUE="Variables.empty"/>
		</THEN>
		</IF>

		<IF COND="Variables.theGroupID!=Variables.empty">
		<THEN>
			<IF COND="Variables.indices_Variables.theGroupID=Variables.empty">
			<THEN>
				<SETVAR NAME="indices_Variables.theGroupID" VALUE="Counters.indexcounter"/>
			</THEN>
			<ELSE>
				<SETVAR NAME="indices_Variables.theGroupID" VALUE="Variables.indices_Variables.theGroupID,Counters.indexcounter"/>
			</ELSE>
			</IF>
		</THEN>
		<ELSE>
			<IF COND="Variables.indices_global=Variables.empty">
			<THEN>
				<SETVAR NAME="indices_global" VALUE="Counters.indexcounter"/>
			</THEN>
			<ELSE>
				<SETVAR NAME="indices_global" VALUE="Variables.indices_global,Counters.indexcounter"/>
			</ELSE>
			</IF>
		</ELSE>
		</IF>

		<INCCOUNTER NAME="indexcounter" VALUE="1"/>
	</LOOP>

	<!-- We use this to signal whether there was anything displayed -->
	<SETCOUNTER NAME="assignment_count" VALUE="0"/>

 	<IF COND="Variables.indices_global!=Variables.empty">
 	<THEN>
 	 	<tr style="background-color : #e9e9e9">
 		<td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count">
		 	<DIV class="form-label-text" style="padding-left:5px;">
			 	<XLAT.STREAM KEY="dvin/UI/Wf/UnattachedAssets"/>
		 	</DIV>
		</td>
 	</tr>
 	
	 	<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/Workflow/GroupedTileReportGuts">
			<ARGUMENT NAME="itemlist" VALUE="Variables.indices_global"/>
		</CALLELEMENT>
 	</THEN>
 	</IF>

	<IF COND="Variables.groupids!=Variables.empty">
	<THEN>
		<!-- There's currently no tag to load multiple groups, and constructing one that does this for
		     data sizes in excess of Oracle's "IN" clause limit would require an in-memory sort.  So, instead of
		     picking up just what we need, using something new like WORKFLOWENGINE.GETGROUPS, I've decided to use
		     WORKFLOWENGINE.GETAVAILABLEGROUPS and cycle through the answers, finding just the ones that are in
		     the hash. -->
		<WORKFLOWENGINE.GETAVAILABLEGROUPS PREFIX="wfgroups" PUBID="SessionVariables.pubid" GROUPIDS="Variables.groupids"/>

		<SETCOUNTER NAME="wfgcount" VALUE="0"/>

		<LOOP FROM="0" COUNT="Variables.wfgroupsTotal">
			<!-- for each group, get the user's assignments for that group -->
			<WorkflowGroup.GetID NAME="wfgroupsCounters.wfgcount" VARNAME="groupid" />
			<WorkflowGroup.GetName NAME="wfgroupsCounters.wfgcount" VARNAME="groupname" />
			<WORKFLOWGROUP.GETDESCRIPTION NAME="wfgroupsCounters.wfgcount" VARNAME="groupdesc"/>

			<IF COND="IsVariable.indices_Variables.groupid=true">
			<THEN>
			    <IF COND="Variables.indices_Variables.groupid!=Variables.empty">
			    <THEN>
				<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-rule"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
			 	<tr style="background-color : #e9e9e9">
			 	<td colspan="10">
					 	<DIV class="form-inset">
                            <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Actions/WorkflowGroupDetailsFront" outstring="SeeAssignmentsURL">
                                <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                              <satellite.argument name="action" value="contents"/>
                                              <satellite.argument name="id" value="Variables.groupid"/>
                                               </SATELLITE.LINK>
						<B><XLAT.STREAM KEY="dvin/UI/WorkflowGroup"/>:  <A HREF="Variables.SeeAssignmentsURL" REPLACEALL="Variables.SeeAssignmentsURL"><STRING.STREAM VALUE="Variables.groupname"/></A></B> - <STRING.STREAM VALUE="Variables.groupdesc"/> 
						</DIV>
				</td>
				<td colspan="3">
				<DIV class="form-inset">
					<WORKFLOWGROUP.GETWORKFLOWPROCESSID NAME="wfgroupsCounters.wfgcount" VARNAME="wfgroupprocid"/>
					<WORKFLOWENGINE.GETPROCESSID ID="Variables.wfgroupprocid" OBJVARNAME="WflProcess"/>
                  	<WORKFLOWPROCESS.GETPROCESSNAME NAME="WflProcess" VARNAME="processName"/>
                 	<STRING.STREAM VALUE="Variables.processName"/>
				</DIV>
				</td>
				<td colspan="3"><BR /></td>
			 	</tr>
				<tr><td colspan="Counters.colspan_count" REPLACEALL="Counters.colspan_count" class="tile-rule"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
	 			<CALLELEMENT NAME="OpenMarket/Xcelerate/Actions/Workflow/GroupedTileReportGuts">
					<ARGUMENT NAME="itemlist" VALUE="Variables.indices_Variables.groupid"/>
				</CALLELEMENT>

			    </THEN>
			    </IF>
			</THEN>
			</IF>
			<INCCOUNTER NAME="wfgcount" VALUE="1"/>

		</LOOP>

	</THEN>
	</IF>
		<IF COND="Counters.assignment_count=0">
		<THEN>
			<tr><td><XLAT.STREAM KEY="dvin/UI/NoAssetsAssigned"/></td></tr>
		</THEN>
		</IF>
		</table>
		</td>
		<td class="tile-dark" VALIGN="top" WIDTH="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	</tr>
	<tr>
		<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
	</tr>
	<tr>
		<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
	</tr>
</table>

    </THEN>
    <ELSE>
        <XLAT.STREAM KEY="dvin/UI/NoAssetsAssigned"/>
    </ELSE>
</IF>

</FTCS>