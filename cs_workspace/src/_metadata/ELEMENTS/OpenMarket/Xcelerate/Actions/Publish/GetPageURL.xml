<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateB/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Actions/Publish/GetPageURL.xml $ 
$Revision: 8 $ 
$Modtime: 2/27/02 3:58p $ 
-->
<!-- OpenMarket/Xcelerate/Actions/Publish/GetPageURL
--
-- INPUT
--    Variables.pagename - pagename in the URL
--    Variables.cid - id of asset to render
--    Variables.ctype [optional] - asset type to render
--    Variables.p [optional] - id of parent asset
--    Variables.packedargs [optional] - packed arguments
-- OUTPUT
--    Variables.referURL - URL to be used for rendering an asset
-->

<IF COND="IsVariable.packedargs=true">
<THEN>
      <SETVAR NAME="PageURL:packedargs" VALUE="Variables.packedargs"/>
      <REMOVEVAR NAME="packedargs"/>
</THEN>
<ELSE>
      <SETVAR NAME="PageURL:packedargs" VALUE="Variables.empty"/>
</ELSE>
</IF>

<IF COND="IsVariable.p=true">
<THEN>
      <SETVAR NAME="PageURL:p" VALUE="Variables.p"/>
</THEN>
<ELSE>
      <SETVAR NAME="PageURL:p" VALUE="Variables.empty"/>
</ELSE>
</IF>

<IF COND="IsVariable.ctype=true">
<THEN>
      <SETVAR NAME="PageURL:c" VALUE="Variables.ctype"/>
</THEN>
<ELSE>
      <SETVAR NAME="PageURL:c" VALUE="Variables.empty"/>
</ELSE>
</IF>

<IF COND="IsVariable.EXPORT=true">
<THEN>
      <SETVAR NAME="PageURL:EXPORT" VALUE="Variables.EXPORT"/>
      <REMOVEVAR NAME="EXPORT"/>
</THEN>
<ELSE>
      <SETVAR NAME="PageURL:EXPORT" VALUE="true"/>
</ELSE>
</IF>

<RENDER.GETPAGEURL PAGENAME="Variables.pagename" 
		   cid="Variables.cid" 
		   PACKEDARGS="Variables.PageURL:packedargs"
		   p="Variables.PageURL:p"
		   c="Variables.PageURL:c"
		   EXPORT="Variables.PageURL:EXPORT"
		   OUTSTR="referURL"/>


</FTCS>

