<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">

<FTCS Version="1.1">
<!--
$Logfile: /VerticalApps/XcelerateC/install/Xcelerate/Populate/ElementCatalog/OpenMarket/Xcelerate/Admin/AssociationFront.xml $

-->

<!--
 Confidential and Proprietary Information of divine Inc.
					All Rights Reserved.
 DESCRIPTION
	Admin things about a asset asscoiations	

 INPUT
   pagetype  front/post
   action  new/edit/delete/details
-->
<SCRIPT LANGUAGE="JavaScript">
<![CDATA[

function checkfields()
{
	var obj = document.forms[0];
	var sname=obj.elements['Association:name'].value.search(/['"?;:,.]/);

	if (sname!=-1) {
		var replacestr=/\bVariables.name\b/   ;
	     	var xlatstr= ']]><XLAT.STREAM KEY="dvin/Admin/InvalidcharacterinAssociationname" ESCAPE="true" ENCODE="false"/><![CDATA[' ;
	      var newstr=xlatstr.replace(replacestr, obj.elements['Association:name'].value) ;
	      alert(newstr);
	     return false;
	
	}
	if ( obj.elements['Association:name'].value.search(/\s/) != -1 ) {
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/Thenamecannotincludeaspace" ESCAPE="true" ENCODE="false"/>");
                return false;
	<![CDATA[
	}
	if (obj.elements['Association:name'].value=="") {
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifyassocname" ESCAPE="true" ENCODE="false"/>");
                return false;
	<![CDATA[	
	}

	if (obj.elements['Association:description'].value=="")
	{
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifydescriptionassociation" ESCAPE="true" ENCODE="false"/>");
	<![CDATA[
		return false;
	}
	return true;
}

function toggle(currElem) {
dom = eval(docObj + '.' + currElem + styleObj);
state = dom.visibility;
if (state=="visible" || state=="show") {dom.visibility = "hidden";}
else {dom.visibility = "visible"; }
}
]]>
</SCRIPT>
 
<!-- type is either front or post -->

<STRING.ENCODE VARIABLE="cs_environment" VARNAME="cs_environment"/>
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="cs_formmode"/>
    <SETVAR NAME="doform" VALUE="false"/>

	<IF COND="Variables.action=list">
	<THEN>
		<!-- list all associations for this assettype -->
		<ASSETTYPE.LOAD NAME="parent" TYPE="Variables.parentassettype" />
		<ASSETTYPE.GET NAME="parent" FIELD="description" OUTPUT="atdescription"/>
		<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssetTypeFront" outstring="urlassettypefront">
			<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
			<satellite.argument name="action" value="details"/>
			<satellite.argument name="assettype" value="Variables.parentassettype"/>
		</SATELLITE.LINK>
		<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
			<tr><td>
				<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/AssociationsForAssetType"/>: <A HREF="Variables.urlassettypefront" REPLACEALL="Variables.urlassettypefront"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" WIDTH="15" HEIGHT="12" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><STRING.STREAM VALUE="Variables.atdescription"/></A></span>
			</td></tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
		</table>
		<P/>
		<IF COND="IsVariable.orderby!=true">
		<THEN>
			<SETVAR NAME="orderby" VALUE="name"/>
		</THEN>
		</IF>

		<ASSOCNAMEDMANAGER.LIST LISTVARNAME="namedassociations" TYPE="Variables.parentassettype" ORDER="Variables.orderby"/>
		<IF COND="namedassociations.#numRows!=0">
		<THEN>
		<table class="width-outer-70" BORDER="0" CELLSPACING="0" CELLPADDING="0">
		<tr>
			<td></td><td class="tile-dark" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
		</tr>
		<tr>
			<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
			<td>
				<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="13" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
				<tr>
					<td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
						<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
							<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
							<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
							<satellite.argument name="action" value="list"/>
							<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
							<satellite.argument name="orderby" value="name"/>
						</SATELLITE.LINK>
						<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Name"/></DIV></A>
					</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
						<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
							<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
							<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
							<satellite.argument name="action" value="list"/>
							<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
							<satellite.argument name="orderby" value="description"/>
						</SATELLITE.LINK>
						<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Description"/></DIV></A>
					</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
						<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
							<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
							<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
							<satellite.argument name="action" value="list"/>
							<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
							<satellite.argument name="orderby" value="childassettype"/>
						</SATELLITE.LINK>
						<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/Common/Child"/></DIV></A>
					</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td  nowrap="nowrap" class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
						<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
							<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
							<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
							<satellite.argument name="action" value="list"/>
							<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
							<satellite.argument name="orderby" value="deptype"/>
						</SATELLITE.LINK>
						<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Admin/DependencyType"/></DIV></A>
					</td>
					<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" nowrap="true" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">
						<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
							<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
							<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
							<satellite.argument name="action" value="list"/>
							<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
							<satellite.argument name="orderby" value="multivalued"/>
						</SATELLITE.LINK>
						<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Admin/Multivalued"/></DIV></A>
					</td>
					<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
				</tr>
				<tr><td colspan="13" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
				<!-- Loop over all search results. -->
   		   		<setvar NAME="rowStyle" VALUE="tile-row-normal"/>
				<SETVAR NAME="separatorLine" VALUE="0"/>
				<SETCOUNTER NAME="currentItem" VALUE="0"/>
				<IF COND="namedassociations.#numRows!=0">
				<THEN>
					<LOOP LIST="namedassociations">
							
						<IF COND="Variables.separatorLine=1">
						<THEN>
							<tr>
								<!--<td colspan="13" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
							</tr>
						</THEN>
						</IF>
						<SETVAR NAME="separatorLine" VALUE="1"/>
		
						<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle">
							<td><BR/></td>
							<td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
								<XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="details"/>
									<satellite.argument name="id" value="namedassociations.id"/>
								</SATELLITE.LINK>
								<A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif"  border="0" alt="Variables.alttext" title="Variables.alttext"  REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A>
								<XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="edit"/>
									<satellite.argument name="id" value="namedassociations.id"/>
								</SATELLITE.LINK>
								<A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif"  border="0" alt="Variables.alttext" title="Variables.alttext"  REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A>
								<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="confirmdelete"/>
									<satellite.argument name="id" value="namedassociations.id"/>
								</SATELLITE.LINK>
								<A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContent.gif"  border="0" alt="Variables.alttext" title="Variables.alttext"  REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A>
							</td>
							<td><BR/></td>
							<td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
								<DIV class="small-text-inset">
									<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisAssociation" VARNAME="_XLAT_" ESCAPE="true"/>
									<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
										<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
										<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
										<satellite.argument name="action" value="details"/>
										<satellite.argument name="id" value="namedassociations.id"/>
									</SATELLITE.LINK>
									<A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables._XLAT_,Variables.urlassocfront"><STRING.STREAM VALUE="namedassociations.name"/></A>
								</DIV>
							</td>
							<td><BR/></td>
							<td VALIGN="TOP" ALIGN="LEFT">
								<DIV class="small-text-inset">
									<STRING.STREAM VALUE="namedassociations.description"/>
								</DIV>
							</td>
							<td><BR/></td>
							<td VALIGN="TOP" ALIGN="LEFT">
								<DIV class="small-text-inset">
									<IF COND="namedassociations.childassettype!=*">
									<THEN>
										<ASSETTYPE.LOAD NAME="child" TYPE="namedassociations.childassettype"/>
										<ASSETTYPE.GET NAME="child" FIELD="description" OUTPUT="childatdesc"/> 
										<STRING.STREAM VALUE="Variables.childatdesc"/>
									</THEN>
									<ELSE>
										<XLAT.STREAM KEY="dvin/Common/Any"/>
									</ELSE>
									</IF>
								</DIV>
							</td>
							<td><BR/></td>
							<td VALIGN="TOP" ALIGN="LEFT">
								<DIV class="small-text-inset">
									<IF COND="namedassociations.deptype=V">
									<THEN>
										<XLAT.STREAM KEY="dvin/AT/Common/Exact"/>
									</THEN>
									<ELSE>
										<XLAT.STREAM KEY="dvin/AT/Common/Exists"/>
									</ELSE>
									</IF>
								</DIV>
							</td>
							<td><BR/></td>
							<td VALIGN="TOP" ALIGN="LEFT">
								<DIV class="small-text-inset">
									<IF COND="namedassociations.multivalued=T">
									<THEN>
										<XLAT.STREAM KEY="dvin/AT/Common/Multivalued"/>
									</THEN>
									<ELSE>
										<XLAT.STREAM KEY="dvin/AT/Common/Singlevalued"/>
									</ELSE>
									</IF>
								</DIV>
							</td>
							<td><BR/></td>
						</tr>
						<IF COND="Variables.rowStyle=tile-row-normal">
						<THEN>
							<SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
						</THEN>
						<ELSE>
							<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
						</ELSE>
						</IF>
						<INCCOUNTER NAME="currentItem" VALUE="1"/>
					</LOOP>
			    	</THEN>
			    	</IF>
				</table>
			</td>
			<td class="tile-dark" VALIGN="top" WIDTH="1"><BR/></td>
		</tr>
		<tr>
			<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
		</tr>
		<tr>
			<td></td>
			<td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
			<td></td>
		</tr>
		</table> 
		</THEN>
		</IF>

		<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="AddAssocFrontURL">
			<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
			<satellite.argument name="action" value="new"/>
			<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
		</SATELLITE.LINK>
      	<div class="width-outer-70">
        <A HREF="Variables.AddAssocFrontURL" REPLACEALL="Variables.AddAssocFrontURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/AddNewAssociation"/></CALLELEMENT></A>
    	</div>
	</THEN>
	</IF> <!-- end action=list -->

	<IF COND="Variables.action=details">
	<THEN>
		<ASSOCNAMEDMANAGER.LOAD OBJVARNAME="association" ID="Variables.id"/> 
		<ASSOCNAMED.SCATTER NAME="association" PREFIX="Association:"/>
		<ASSETTYPE.LOAD NAME="parent" TYPE="Variables.Association:assettype" />
		<ASSETTYPE.GET NAME="parent" FIELD="description" OUTPUT="atdescription"/>
		<ASSETTYPE.GET NAME="parent" FIELD="assettype" OUTPUT="parentassettype"/>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
	<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/ATdescAssociation"/>: <STRING.STREAM VARIABLE="Association:description"/></span>
		</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>
		
		<table class="width-outer-70 margin-top-zero" BORDER="0" CELLSPACING="0" CELLPADDING="0">
		<tr><td>
				<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
				<tr>
					<td class="form-label-text" colspan="3">
							<table class="legacyAbar" border="0" cellpadding="0" cellspacing="0">
							<tr>
				
								<XLAT.LOOKUP KEY="dvin/Common/Inspect" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="details"/>
									<satellite.argument name="id" value="Variables.id"/>
								</SATELLITE.LINK>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" hspace="2" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContentUp.gif"  border="0" alt="Variables.alttext" REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A></td>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Inspect"/></span></A></td>
								<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
								<XLAT.LOOKUP KEY="dvin/Common/Edit" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="edit"/>
									<satellite.argument name="id" value="Variables.id"/>
								</SATELLITE.LINK>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconEditContentUp.gif" hspace="2" border="0" alt="Variables.alttext" REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A></td>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Edit"/></span></A></td>
								<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
								<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_" ESCAPE="true"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisAssociation" VARNAME="alttext"/>
								<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
									<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
									<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
									<satellite.argument name="action" value="confirmdelete"/>
									<satellite.argument name="id" value="Variables.id"/>
								</SATELLITE.LINK>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><img height="14" width="14" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContentUp.gif" hspace="2" border="0" alt="Variables.alttext" REPLACEALL="Variables.cs_imagedir,Variables.alttext"/></A></td>
								<td><A HREF="Variables.urlassocfront" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlassocfront,Variables._XLAT_"><span class="action-text"><XLAT.STREAM KEY="dvin/Common/Delete"/></span></A></td>
								<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
							</tr>
							</table>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/AssetType"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="atdescription"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/AT/Common/Name"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="Association:name"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/AT/Common/Description"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="Association:description"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text" NOWRAP="NOWRAP">
						<NOBR><XLAT.STREAM KEY="dvin/UI/Admin/ChildAssetType"/>:</NOBR>
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:childassettype!=*">
						<THEN>
							<ASSETTYPE.LOAD NAME="child" TYPE="Variables.Association:childassettype"/>
							<ASSETTYPE.GET NAME="child" FIELD="description" OUTPUT="childatdesc"/>
							<ASSETTYPE.GET NAME="child" FIELD="assettype" OUTPUT="assettype"/>
							<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssetTypeFront" outstring="urlasttpfront">
								<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
								<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
								<satellite.argument name="action" value="details"/>
								<satellite.argument name="assettype" value="Variables.assettype"/>
							</SATELLITE.LINK>
							<A HREF="Variables.urlasttpfront" REPLACEALL="Variables.urlasttpfront"><STRING.STREAM VARIABLE="childatdesc"/></A>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/Common/Any"/>
						</ELSE>
						</IF>
					</td>
				</tr>

				<SETVAR NAME="tablename" VALUE="AssocNamed_Subtypes"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/validateFields">
					<ARGUMENT NAME="columnvalue" VALUE="Variables.Association:id"/>
					<ARGUMENT NAME="type" VALUE="Long"/>
				</CALLELEMENT>
				<IF COND="Variables.validatedstatus=true">
				<THEN>
					<EXECSQL LIST="listsubtypename" SQL="SELECT DISTINCT subtype AS subtypename from AssocNamed_Subtypes WHERE ownerid=Variables.Association:id"/>
				</THEN>
				</IF>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text" NOWRAP="NOWRAP">
  					<NOBR><STRING.STREAM VARIABLE="atdescription"/>&nbsp;<XLAT.STREAM KEY="dvin/UI/Admin/Subtypes"/>:</NOBR>
					</td>
					<td class="form-inset">
							<IF COND="listsubtypename.#numRows!=0">
							<THEN>
								<LOOP LIST="listsubtypename">
									<IF COND="listsubtypename.subtypename!=*">
									<THEN>
										<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssetSubtypeFront" outstring="urlastsubtpfront">
											<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
											<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
											<satellite.argument name="action" value="details"/>
											<satellite.argument name="assettype" value="Variables.parentassettype"/>
											<satellite.argument name="subtype" value="listsubtypename.subtypename"/>
										</SATELLITE.LINK>
										<A HREF="Variables.urlastsubtpfront" REPLACEALL="Variables.urlastsubtpfront"><STRING.STREAM VALUE="listsubtypename.subtypename"/></A><BR />
									</THEN>
									<ELSE>
										<XLAT.STREAM KEY="dvin/Common/Any"/>
									</ELSE>
									</IF>
								</LOOP>
								<FLUSH LIST="listsubtypename"/>
							</THEN>
							</IF>
					</td>
				</tr>
			
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>			
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/DependencyType"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:deptype=V">
						<THEN>
							<XLAT.STREAM KEY="dvin/UI/Admin/Exactversionchangenecessitateapprovalpub"/>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/UI/Admin/Existsapprovedversionassetacceptablepub"/>
						</ELSE>
						</IF>
					</td>
					<td><BR/></td>
				</tr>
				
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>			
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/Multivalued"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:multivalued=T">
						<THEN>
							<XLAT.STREAM KEY="dvin/UI/Admin/Multivaluedassociation"/>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/UI/Admin/Singlevaluedassociation"/>
						</ELSE>
						</IF>
					</td>
					<td><BR/></td>
				</tr>

				</table>

			</td></tr>
		</table>
		<P/>
		<P/>
		<SETVAR NAME="at:description" VALUE="Variables.atdescription"/>
		<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="urlassocfront">
			<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
			<satellite.argument name="action" value="list"/>
			<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
		</SATELLITE.LINK>
		<DIV class="width-outer-70">
			<A HREF="Variables.urlassocfront" REPLACEALL="Variables.urlassocfront"><IMG src="Variables.cs_imagedir/graphics/common/icon/doubleArrow.gif" WIDTH="15" HEIGHT="12" BORDER="0" REPLACEALL="Variables.cs_imagedir"/><XLAT.STREAM KEY="dvin/UI/Admin/ListallassociationsforATdesc"/></A>
		</DIV>
		<P/>
	</THEN>
	</IF>


	<IF COND="Variables.action=new">
	<THEN>
        <ASSOCNAMEDMANAGER.CREATE OBJVARNAME="association"/>
		<ASSOCNAMED.SCATTER NAME="association" PREFIX="Association:"/>
		<SETVAR NAME="doform" VALUE="true"/>
		<SETVAR NAME="buttonName" VALUE="AddNewAssociation"/>
		<ASSETTYPE.LOAD NAME="parent" TYPE="Variables.parentassettype"/>
		<ASSETTYPE.GET NAME="parent" FIELD="description" OUTPUT="atdescription"/>
		<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="AssociationFrontURL">
			<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
			<satellite.argument name="action" value="list"/>
			<satellite.argument name="parentassettype" value="Variables.parentassettype"/>
		</SATELLITE.LINK>
			
	</THEN>
	</IF>
	
	<IF COND="Variables.action=edit">
	<THEN>
		<ASSOCNAMEDMANAGER.LOAD OBJVARNAME="association" ID="Variables.id"/> 
		<ASSOCNAMED.SCATTER NAME="association" PREFIX="Association:"/>
		<STRING.ENCODE VARIABLE="id" VARNAME="id"/>
		<INPUT type="HIDDEN" NAME="id" VALUE="Variables.id" REPLACEALL="Variables.id"/>
		<INPUT TYPE="hidden" NAME="Association:id" VALUE="Variables.id" REPLACEALL="Variables.id"/>
		<SETVAR NAME="doform" VALUE="true"/>
		<SETVAR NAME="buttonName" VALUE="Save"/>
		<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="AssociationFrontURL">
			<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
			<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
			<satellite.argument name="action" value="details"/>
			<satellite.argument name="id" value="Variables.id"/>
		</SATELLITE.LINK>

		<ASSETTYPE.LOAD NAME="parent" TYPE="Variables.Association:assettype"/>
		<ASSETTYPE.GET NAME="parent" FIELD="description" OUTPUT="atdescription"/>
		<ASSETTYPE.GET NAME="parent" FIELD="assettype" OUTPUT="parentassettype"/>
	</THEN>
	</IF>

	<IF COND="Variables.doform=true">
	<THEN>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<IF COND="Variables.action=new">
		<THEN>
			<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/AddNewAssociation"/></span><P/>
		</THEN>
		</IF>
		<IF COND="Variables.action=edit">
		<THEN>
			<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/EditAssociation"/></span><P/>
		</THEN>
		</IF>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>				
		<table class="width-outer-70" BORDER="0" CELLSPACING="0" CELLPADDING="0">
		<tr><td>
				<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
				<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/AssetType"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="atdescription"/>
                    	<![CDATA[<INPUT TYPE="hidden" NAME="Association:assettype" VALUE="]]><STRING.STREAM VARIABLE="parentassettype"/><![CDATA["/>]]>
					</td>
					<td><BR/></td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Common/Name"/>:
					</td>
					<td class="form-inset">
						<![CDATA[<INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="16" NAME="Association:name" VALUE="]]><STRING.STREAM VARIABLE="Association:name"/><![CDATA["/>]]>(<XLAT.STREAM KEY="dvin/UI/Admin/Error/Namecontainnospacespunctuation"/>)
					</td>
					<td></td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/AT/Common/Description"/>:
					</td>
					<td class="form-inset">
						<STRING.ENCODE VARIABLE="Association:description" VARNAME="OutputDescString"/>
						<INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="64" NAME="Association:description" VALUE="Variables.OutputDescString" REPLACEALL="Variables.OutputDescString"/>
					</td>
					<td></td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text" NOWRAP="NOWRAP">
						<XLAT.STREAM KEY="dvin/UI/Admin/ChildAsset"/>:
					</td>
					<td class="form-inset">
							<ASSETTYPE.LIST LIST="AssetType" ORDER="description"/>
							<SELECT NAME="Association:childassettype">
								<IF COND="Variables.Association:childassettype!=*">
								<THEN>
									<OPTION VALUE="*"><XLAT.STREAM KEY="dvin/Common/Any"/></OPTION>
								</THEN>
								<ELSE>
									<OPTION VALUE="*" SELECTED="true"><XLAT.STREAM KEY="dvin/Common/Any"/></OPTION>
								</ELSE>
								</IF>
								<LOOP LIST="AssetType">
									<IF COND="AssetType.canbechild=T">
									<THEN>
										<STRING.ENCODE LIST="AssetType" COLUMN="assettype" VARNAME="ATassettype"/>
										<IF COND="AssetType.assettype=Variables.Association:childassettype">
										<THEN>
									<OPTION VALUE="Variables.ATassettype" REPLACEALL="Variables.ATassettype" SELECTED="true"/><STRING.STREAM LIST="AssetType" COLUMN="description"/>
										</THEN>
										<ELSE>
									<OPTION VALUE="Variables.ATassettype" REPLACEALL="Variables.ATassettype"/><STRING.STREAM LIST="AssetType" COLUMN="description"/>
										</ELSE>
										</IF>
									</THEN>
									</IF>
								</LOOP>
							</SELECT>
					</td>
					<td></td>
				</tr>			
				<!--to load assetSubtypes-->
				<Asset.GetLegalSubtypes TYPE="Variables.parentassettype" LIST="subtypes"/>

				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<STRING.STREAM VALUE="Variables.atdescription "/><XLAT.STREAM KEY="dvin/UI/Admin/Subtypes"/>:
					</td>
					<td class="form-inset">
							<SELECT NAME="Association:subtypes" MULTIPLE="yes" SIZE="6">
								<ASSOCNAMED.APPLIESTOSUBTYPE NAME="association" SUBTYPE="*" VARNAME="SubTypeSelected"/>
								<IF COND="Variables.SubTypeSelected=true">
								<THEN>
									<OPTION VALUE="*;F" SELECTED="true"/><XLAT.STREAM KEY="dvin/Common/Any"/>
								</THEN>
								<ELSE>
									<OPTION VALUE="*;F"/><XLAT.STREAM KEY="dvin/Common/Any"/>
								</ELSE>
								</IF>
								<LOOP LIST="subtypes">
									<if COND="subtypes.subtype!=Variables.empty">
									<then>
										<ASSOCNAMED.APPLIESTOSUBTYPE NAME="association" SUBTYPE="subtypes.subtype" VARNAME="SubTypeSelected"/><STRING.ENCODE LIST="subtypes" COLUMN="subtype" VARNAME="stsubtype"/>                  
										<IF COND="Variables.SubTypeSelected=true">
										<THEN>
											<OPTION VALUE="Variables.stsubtype;F" REPLACEALL="Variables.stsubtype" SELECTED="true"/>
										</THEN>
										<ELSE>
											<OPTION VALUE="Variables.stsubtype;F" REPLACEALL="Variables.stsubtype"/>
										</ELSE>
										</IF>
										<IF COND="subtypes.subtype=Variables.empty">
										<THEN>
											<XLAT.STREAM KEY="dvin/UI/Util/Standardnosubtype"/>
										</THEN>
										<ELSE>
											<STRING.STREAM LIST="subtypes" COLUMN="subtype"/>
										</ELSE>
										</IF>
									</then>
									</if>
								</LOOP>
							</SELECT>
					</td>
					<td></td>
				</tr>

				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>	
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/DependencyType"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:deptype=V">
						<THEN>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:deptype" VALUE="E"/><A HREF="#" onClick="forms[0].elements['Association:deptype'][0].checked=true;return false;" style="text-decoration : none; color : #000000"  onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Existsapprovedversionassetacceptablepub"/></A>.<br/>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:deptype" VALUE="V" CHECKED="true"/><A HREF="#" onClick="forms[0].elements['Association:deptype'][1].checked=true;return false;" style="text-decoration : none; color : #000000" onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Exactversionchangenecessitateapprovalpub"/></A><br/>
						</THEN>
						<ELSE>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:deptype" VALUE="E"  CHECKED="true"/><A HREF="#" onClick="forms[0].elements['Association:deptype'][0].checked=true;return false;" style="text-decoration : none; color : #000000"   onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Existsapprovedversionassetacceptablepub"/></A><br/>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:deptype" VALUE="V"/><A HREF="#" onClick="forms[0].elements['Association:deptype'][1].checked=true;return false;" style="text-decoration : none; color : #000000" onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Exactversionchangenecessitateapprovalpub"/></A> <br/>
						</ELSE>
						</IF>
					</td>
					<td></td>
				</tr>

				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>	
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/Multivalued"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:multivalued=T">
						<THEN>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:multivalued" VALUE="F"/><A HREF="#" onClick="forms[0].elements['Association:multivalued'][0].checked=true;return false;" style="text-decoration : none; color : #000000"  onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Singlevaluedassociation"/></A>.<br/>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:multivalued" VALUE="T" CHECKED="true"/><A HREF="#" onClick="forms[0].elements['Association:multivalued'][1].checked=true;return false;" style="text-decoration : none; color : #000000" onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Multivaluedassociation"/></A><br/>
						</THEN>
						<ELSE>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:multivalued" VALUE="F"  CHECKED="true"/><A HREF="#" onClick="forms[0].elements['Association:multivalued'][0].checked=true;return false;" style="text-decoration : none; color : #000000"   onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Singlevaluedassociation"/></A><br/>
							<INPUT style="margin-left:0px" TYPE="RADIO" NAME="Association:multivalued" VALUE="T"/><A HREF="#" onClick="forms[0].elements['Association:multivalued'][1].checked=true;return false;" style="text-decoration : none; color : #000000" onMouseOver="window.status='';return true;"><XLAT.STREAM KEY="dvin/UI/Admin/Multivaluedassociation"/></A> <br/>
						</ELSE>
						</IF>
					</td>
					<td></td>
				</tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/AssociationPost"/>
					<STRING.ENCODE VARIABLE="action" VARNAME="action"/>
					<INPUT TYPE="HIDDEN" NAME="action" VALUE="Variables.action" REPLACEALL="Variables.action"/>
					<XLAT.LOOKUP KEY="dvin/UI/Admin/AddNewAssociation" VARNAME="_XLAT_" ESCAPE="true"/>
					<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="_status_" ESCAPE="true"/>
					<A HREF="Variables.AssociationFrontURL" onmouseover="window.status='Variables._status_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._status_,Variables.AssociationFrontURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
					<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Variables.buttonName"/></CALLELEMENT></A>
				</TD>
			</TR>

				</table>
			</td></tr>
		</table>
		<P/>
		<P/>
	</THEN>
	</IF>


	<IF COND="Variables.action=confirmdelete">
	<THEN>
		<ASSOCNAMEDMANAGER.LOAD OBJVARNAME="association" ID="Variables.id"/> 
		<ASSOCNAMED.SCATTER NAME="association" PREFIX="Association:"/>
		<STRING.ENCODE VARIABLE="id" VARNAME="id"/>
		<INPUT TYPE="HIDDEN" NAME="id" VALUE="Variables.id" REPLACEALL="Variables.id"/>
		<ASSETTYPE.LOAD NAME="parent" TYPE="Variables.Association:assettype" />
		<ASSETTYPE.GET NAME="parent" FIELD="description" OUTPUT="atdescription"/>
		<ASSETTYPE.GET NAME="parent" FIELD="assettype" OUTPUT="parentassettype"/>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/DeleteATdescAssociation"/>: <STRING.STREAM VARIABLE="Association:description"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>
		<P/>
	<div class="width-outer-70">	
		<XLAT.LOOKUP KEY="dvin/UI/Admin/AreyousuredeleteassociationQ" VARNAME="msgtext" ENCODE="false"/>
		<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
			<argument NAME="severity" VALUE="warning"/>
		</callelement>							
	</div>								 		
		<table class="width-outer-70" BORDER="0" CELLSPACING="0" CELLPADDING="0">
		<tr><td>
				<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
				<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/AssetType"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="atdescription"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/Common/Name"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="Association:name"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/Common/Description"/>:
					</td>
					<td class="form-inset">
						<STRING.STREAM VARIABLE="Association:description"/>
					</td>
				</tr>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>
				<tr>
					<td class="form-label-text" NOWRAP="NOWRAP">
						<XLAT.STREAM KEY="dvin/UI/Admin/ChildAssetType"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:childassettype!=*">
						<THEN>
							<ASSETTYPE.LOAD NAME="child" TYPE="Variables.Association:childassettype"/>
							<ASSETTYPE.GET NAME="child" FIELD="description" OUTPUT="childatdesc"/>
							<ASSETTYPE.GET NAME="child" FIELD="assettype" OUTPUT="assettype"/>
							<STRING.STREAM VARIABLE="childatdesc"/>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/Common/Any"/>
						</ELSE>
						</IF>
					</td>
				</tr>			
				<SETVAR NAME="tablename" VALUE="AssocNamed_Subtypes"/>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/Util/validateFields">
					<ARGUMENT NAME="columnvalue" VALUE="Variables.Association:id"/>
					<ARGUMENT NAME="type" VALUE="Long"/>
				</CALLELEMENT>
				<IF COND="Variables.validatedstatus=true">
				<THEN>
					<EXECSQL LIST="listsubtypename" SQL="SELECT DISTINCT subtype AS subtypename from AssocNamed_Subtypes WHERE ownerid=Variables.Association:id"/>
				</THEN>
				</IF>
				<IF COND="listsubtypename.#numRows!=0">
				<THEN>
					<IF COND="listsubtypename.subtypename!=*">
					<THEN>
						<tr>
							<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
							<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
						</tr>
						<tr>
							<td class="form-label-text" NOWRAP="NOWRAP">
								<NOBR><STRING.STREAM VALUE="Variables.atdescription "/><XLAT.STREAM KEY="dvin/UI/Admin/Subtypes"/>:</NOBR>
							</td>
							<td class="form-inset">
								<LOOP LIST="listsubtypename">
									<STRING.STREAM VALUE="listsubtypename.subtypename"/><BR />
								</LOOP>
								<FLUSH LIST="listsubtypename"/>
							</td>
						</tr>
					</THEN>
					</IF>
				</THEN>
				</IF>
				<tr>
					<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
					<!--<td colspan="3" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>-->
				</tr>			
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/DependencyType"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:deptype=V">
						<THEN>
							<XLAT.STREAM KEY="dvin/UI/Admin/Exactversionchangenecessitateapprovalpub"/>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/UI/Admin/Existsapprovedversionassetacceptablepub"/>
						</ELSE>
						</IF>
					</td>
					<td><BR/></td>
				</tr>
				<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
				<tr>
					<td class="form-label-text">
						<XLAT.STREAM KEY="dvin/UI/Admin/Multivalued"/>:
					</td>
					<td class="form-inset">
						<IF COND="Variables.Association:multivalued=T">
						<THEN>
							<XLAT.STREAM KEY="dvin/UI/Admin/Multivaluedassociation"/>
						</THEN>
						<ELSE>
							<XLAT.STREAM KEY="dvin/UI/Admin/Singlevaluedassociation"/>
						</ELSE>
						</IF>
					</td>
					<td><BR/></td>
				</tr>
				<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/AssociationPost"/>
				<INPUT TYPE="HIDDEN" NAME="action" VALUE="delete"/>
				<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisAssociation" VARNAME="statustxt" ESCAPE="true"/>
				<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="_status_" ESCAPE="true"/>
				<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssociationFront" outstring="AssociationFrontURL">
					<satellite.argument name="cs_environment" value="Variables.cs_environment"/>
					<satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
					<satellite.argument name="action" value="details"/>
					<satellite.argument name="id" value="Variables.Association:id"/>
				</SATELLITE.LINK>
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
				<TR>
					<TD class="form-label-text"></TD><TD class="form-inset">
						<A HREF="Variables.AssociationFrontURL" onmouseover="window.status='Variables._status_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._status_,Variables.AssociationFrontURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
						<A HREF="javascript:void(0);" onclick="document.forms['AppForm'].submit(); return false;" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables.statustxt"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/DeleteAssociation"/></CALLELEMENT></A>
					</TD>
				</TR>
				</table>
			</td></tr>
		</table>
		<P/>
		<P/>
	</THEN>
	</IF>
	




</FTCS>