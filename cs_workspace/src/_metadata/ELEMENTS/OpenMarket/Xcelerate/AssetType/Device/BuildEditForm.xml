<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Revision: 28 $ 
$Modtime: 7/21/04 12:58p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- BuildEditForm.xml
-
- DESCRIPTION
-
- HISTORY 
-->

<!-- given a property descriptor
     (as generated by the AssetMaker
      Java stub, generate an
      edit form for all specified
      properties)

      Input: assetmaker/* (all variables
             that are generated by the
             Java code

             editpropertylist: if
             specified, then contains
             a list of properties
             for which the form is
             to be built
-->
<link href="Variables.cs_imagedir/../js/fw/css/ui/FormUploader.css" rel="stylesheet" type="text/css" REPLACEALL="Variables.cs_imagedir,Variables.locale"/>
<SCRIPT TYPE="text/javascript">
	<![CDATA[
		dojo.addOnLoad(function(){
			var fwImgNodes = [];
			fwImgNodes = dojo.query('img', document.forms[0]);
			dojo.forEach(fwImgNodes, function(node){
				if(dojo.attr(node, 'src') === ']]> <REPLACE STR="Variables.cs_imagedir">Variables.cs_imagedir/graphics/common/icon/help_new.png</REPLACE> <![CDATA[' 
					&& (!dojo.attr(node, 'id') || dojo.attr(node, 'id').indexOf('_fwTypeAheadHelpImg') < 0)){
					if(dojo.attr(node, 'title') != ""){
						var dijitTooltip = new fw.ui.dijit.HoverableTooltip({
							connectedNodes: [node], 
							content: dojo.attr(node, 'title'),
							position:'below'
						});
					}
				}
				dojo.attr(node, 'title', "");				
			});			
		});
	
	]]>
</SCRIPT>

<!-- Track whether asset form has been reposted, and determine the appropriate prefix for filling in form variables -->
<IF COND="IsVariable.assetmaker/property/name/storage/type!=true">
<THEN>
	<!-- check the version so we know the length of the name field (processor < 4.0 = 32, otherwise 64 )-->
	<CALLJAVA CLASS="com.openmarket.assetmaker.asset.AssetMaker">
	   <ARGUMENT NAME="command" VALUE="parseasset"/>
		<ARGUMENT NAME="assettype" VALUE="Variables.AssetType"/>
	</CALLJAVA>
	<setvar NAME="sizeofnamefield" VALUE="64"/>
	<BEGINS STR="Variables.assetmaker/assettags/processor" WHAT="3"/>
	<if COND="Variables.errno=1">
	<then>
		<setvar NAME="sizeofnamefield" VALUE="32"/>
	</then>
	<else>
		<BEGINS STR="Variables.assetmaker/assettags/processor" WHAT="2"/>
		<if COND="Variables.errno=1">
		<then>
			<setvar NAME="sizeofnamefield" VALUE="32"/>
		</then>
		</if>
	</else>
	</if>
	

	<IF COND="Variables.formfieldlist=Variables.empty">
	<THEN>
		<SETVAR NAME="formfieldlist" VALUE="name"/>
	</THEN>
	<ELSE>
		<SETVAR NAME="formfieldlist" VALUE="Variables.formfieldlist,name"/>
	</ELSE>
	</IF>
</THEN>
</IF>		
<SETVAR NAME="formfieldlist" VALUE="Variables.formfieldlist,ownerid"/>
<SETVAR NAME="currentformprefix" VALUE="ContentDetails"/>

<DEBABBLE VALUE="false"/>
<if COND="IsVariable.assetmaker/assettags/markertext=false">
<then>
	<CALLJAVA CLASS="com.openmarket.assetmaker.asset.AssetMaker">
	   <ARGUMENT NAME="command" VALUE="parseasset"/>
		<ARGUMENT NAME="assettype" VALUE="Variables.AssetType"/>
	</CALLJAVA>
</then>
</if>
<setvar NAME="markertext" VALUE="Variables.assetmaker/assettags/markertext"/>
<setvar NAME="markerimage" VALUE="Variables.assetmaker/assettags/markerimage"/>

<tr>
	<td style="padding-left: 10px; padding-right: 10px">
		<div style="color: #3e3e3e;font-weight: bold;white-space: nowrap;"><span><XLAT.STREAM KEY="fatwire/admin/Resolution" />:</span></div>
	</td>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/AssetType/Device/AddDimensionLabel">
		<ARGUMENT NAME="field" VALUE="height" />
	</CALLELEMENT>
	<td style="padding-left: 10px; padding-right: 10px; border-left: 1px solid #ccc">
		<div style="color: #3e3e3e;font-weight: bold;white-space: nowrap;"><span><XLAT.STREAM KEY="fatwire/admin/Offset" />:</span></div>
	</td>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/AssetType/Device/AddDimensionLabel">
		<ARGUMENT NAME="field" VALUE="topoffset" />
	</CALLELEMENT>
	
	 <td style="border-left: 1px solid #ccc">
		
	</td>
	
	<CALLELEMENT NAME="OpenMarket/Xcelerate/AssetType/Device/AddDimensionLabel">
		<ARGUMENT NAME="field" VALUE="pixelratio" />	
	</CALLELEMENT>
	
	<IF COND="Variables.isEdit=true">
	<THEN>
		<td style="border-left: 1px solid #ccc;padding-left: 10px">
			<div style="text-align: center;font-weight: bold;"><span><XLAT.STREAM KEY="UI/MobilitySolution/Scale" ENCODE="true" /></span></div>
			<link rel="stylesheet" type="text/css" href="js/fw/css/UIHorizontalSlider.css" />
		</td>
	</THEN>
	</IF>
	
</tr>
<tr>
	<td></td>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/AssetType/Device/AddDimensionLabel">
		<ARGUMENT NAME="field" VALUE="width" />
	</CALLELEMENT>
	<td style="border-left: 1px solid #ccc">
		
	</td>
	<CALLELEMENT NAME="OpenMarket/Xcelerate/AssetType/Device/AddDimensionLabel">
		<ARGUMENT NAME="field" VALUE="leftoffset" />
	</CALLELEMENT>
	<td style="border-left: 1px solid #ccc" colspan="3">
		
	</td>
	<IF COND="Variables.isEdit=true">
	<THEN>
		<td id="adminScale" style="border-left: 1px solid #ccc;padding-left: 10px; padding-right: 10px">
			<div data-dojo-type='fw.dijit.UIHorizontalSlider' data-dojo-props='value: 100,  minimum: 30, onChange: transformDeviceImage'></div>
		</td>
	</THEN>
	</IF>
	
	
</tr>

<DEBABBLE VALUE="true"/>
</FTCS> 
