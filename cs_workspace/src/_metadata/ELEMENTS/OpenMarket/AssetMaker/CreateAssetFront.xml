<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- 
$Logfile: /VerticalApps/XcelerateD/install/Xcelerate/AssetMaker/Populate/ElementCatalog/OpenMarket/AssetMaker/CreateAssetFront.xml $ 
$Revision: 28 $ 
$Modtime: 6/10/04 3:55p $ 
-->

<!--
- Confidential and Proprietary Information of FutureTense Inc.
-					All Rights Reserved.
-
- CreateAssetFront.xml
-
- DESCRIPTION
-	How to create a new asset
-
- HISTORY 
-->

<SCRIPT LANGUAGE="JavaScript">
<![CDATA[

function checkfields()
{   
	var obj = document.forms[0];
	var regex = /^[a-zA-Z0-9_]{1,}$/;
    if (obj.elements['assettype'].value.search(regex) == -1) {
        ]]>
        alert("<XLAT.STREAM KEY="dvin/Assetmaker/SpecifyValidName" ESCAPE="true" ENCODE="false"/> ");
        <![CDATA[
        return false;
    }

    if (obj.elements['urldescriptor'].value.search(/\S/) == -1) {
        ]]>
        alert("<XLAT.STREAM KEY="dvin/Assetmaker/SpecifyDes" ESCAPE="true" ENCODE="false"/> ");
        <![CDATA[
        return false;
    }

    return true;
}

]]>
</SCRIPT>

<!-- check whether user has the privileges to perform this function -->
<USERISMEMBER GROUP="TableEditor"/>
<if COND="Variables.errno=1">
<then>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/Assetmaker/AddNewAssetMakerAssetType"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>

<table class="width-outer-50" BORDER="0" CELLSPACING="0" CELLPADDING="0">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/AT/Common/Name"/>:
				</td>
				<td class="form-inset">
					<INPUT TYPE="TEXT" SIZE="32" MAXLENGTH="32" NAME="assettype" VALUE=""/>
				</td>
			</tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>			
			<tr>
				<td class="form-label-text">
					<span class="alert-color">*</span><XLAT.STREAM KEY="dvin/Assetmaker/DescriptorFile"/>:
				</td>
				<td class="form-inset">
					<callelement NAME="OpenMarket/Gator/AttributeTypes/CommonDojoxUploader">
						<argument NAME="inputTagName" VALUE="urldescriptor"/>
					</callelement>
				</td>
			</tr>
					<INPUT TYPE="HIDDEN" NAME="pagename" VALUE="OpenMarket/Xcelerate/Admin/AssetMakerPost"/>
					<INPUT TYPE="HIDDEN" NAME="action" VALUE="new"/>
					<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/AssetMakerFront" outstring="AssetTypeURL">
					  <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
					  <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
					  <satellite.argument name="action" value="list"/>
					</SATELLITE.LINK>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/FooterBar"/>
			<TR>
				<TD class="form-label-text"></TD><TD class="form-inset">
					<A HREF="Variables.AssetTypeURL" REPLACEALL="Variables.AssetTypeURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
					<XLAT.LOOKUP KEY="dvin/UI/Save" VARNAME="_XLAT_" ESCAPE="true"/>
					<A HREF="javascript:void(0);" onClick="if(checkfields()!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Save"/></CALLELEMENT></A>
				</TD>
			</TR>
		</table>
	</td></tr>
</table>

</then>
<else>
	<XLAT.LOOKUP KEY="dvin/Assetmaker/NoTableEditorRole" VARNAME="_XLAT_"/>
	<div class="width-outer-70">
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
		<argument NAME="msgtext" VALUE="Variables._XLAT_"/>
		<argument NAME="severity" VALUE="error"/>
	</callelement>	
	</div>
</else>
</if>

</FTCS> 
