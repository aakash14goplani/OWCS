<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.2">
<!-- OpenMarket/Gator/FlexibleAssets/Common/AttrStandardConstraintsSch
-
- INPUT
-
- OUTPUT
-
-->

<SEARCHSTATE.CREATE NAME="rtss"/> 
<SETVAR NAME="ssCreated" VALUE="1"/>
<if COND="IsVariable.SelectedAttrs=true">
<then>
        
    <STRINGLIST NAME="alist" STR="Variables.SelectedAttrs" DELIM=","/>
</then>
<else>
    <IF COND="IsVariable.sMyTmplAttributes=true">
    <THEN>
        <STRINGLIST NAME="alist" STR="Variables.sMyTmplAttributes" DELIM=";"/>
    </THEN>
    </IF>
</else>
</if>
<if COND="IsList.alist=true">
<then>
   <if COND="alist.#numRows!=0">
   <then>
      <VECTOR.CREATE NAME="vAttrList"/>
      <loop LIST="alist">
        <ASSET.LOAD TYPE="Variables.attributetype" NAME="attrinst" OBJECTID="alist.ITEM"/>
        <COMPLEXASSET.GETNAME NAME="attrinst" VARNAME="attrname"/>
        <searchstate.addstandardconstraint NAME="rtss"  ATTRIBUTE="Variables.attrname" TYPENAME="Variables.attributetype"/>
        <VECTOR.ADD NAME="vAttrList" VALUE="Variables.attrname"/>
    </loop>
    <VECTOR.TOSTRING NAME="vAttrList" VARNAME="attrList" DELIM="  "/>
    <XLAT.LOOKUP KEY="dvin/UI/Search/AttributesareattrList" VARNAME="_XLAT_"/>
    <SETVAR NAME="filterstring" VALUE="Variables.filterstring : Variables._XLAT_"/>

   </then>
   </if>
</then>
</if>


</FTCS> 
