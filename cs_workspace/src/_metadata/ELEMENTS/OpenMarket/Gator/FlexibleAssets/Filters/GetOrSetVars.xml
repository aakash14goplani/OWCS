<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Gator/FlexibleAssets/Filters/GetOrSetVars
-
- INPUT
-
- OUTPUT
-
-->

<setvar NAME="FieldsOnForm" VALUE="name,workflowid,description,class,arguments"/>
<if COND="Variables.GetOrSet=set">
	<then>
		<IF COND="IsVariable.Filters:arguments=true">
		<THEN>
			<STRINGLIST STR="Variables.Filters:arguments" NAME="largs" DELIM=";"/>
			<SETVAR NAME="Filters:arguments:Total" VALUE="largs.#numRows"/>
			<SETCOUNTER NAME="currentArg" VALUE="0"/>
			<LOOP LIST="largs">
				<STRINGLIST STR="largs.ITEM" NAME="pairs" DELIM="="/>
				<SETVAR NAME="Filters:arguments:Counters.currentArg:name" VALUE="pairs.ITEM"/>
				<SETROW LIST="pairs" ACTION="NEXT"/>
				<SUBSTITUTE STR="pairs.ITEM" WHAT="__EQ__" WITH="=" OUTSTR="out"/>
				<SUBSTITUTE STR="Variables.out" WHAT="__SEMI__" WITH=";" OUTSTR="out"/>
				<SETVAR NAME="Filters:arguments:Counters.currentArg:value" VALUE="Variables.out"/>
				<INCCOUNTER NAME="currentArg" VALUE="1"/>
			</LOOP>
		</THEN>
		<ELSE>
			<SETVAR NAME="Filters:arguments:Total" VALUE="0"/>
		</ELSE>
		</IF>

 		<ASSET.GATHER NAME="theCurrentAsset" PREFIX="Filters" FIELDLIST="Variables.FieldsOnForm"/>
		<if COND="Variables.errno!=0">
			<then>
				<br/><XLAT.STREAM KEY="dvin/AT/AttrTypes/AGatherFailForAttrTypes" errno="Variables.errno" EVALALL="false"/>
				<throwexception/>
			</then>
		</if>
	</then>

<!--"gets"-->
	<else>
		<br/>In GetOrSet - option get - SHOULD NOT BE HERE		
	</else>
</if>

</FTCS> 
