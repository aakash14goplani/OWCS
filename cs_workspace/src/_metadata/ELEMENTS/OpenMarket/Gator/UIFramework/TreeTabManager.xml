<?xml version="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">
<!-- OpenMarket/Gator/UIFramework/TreeTabManager
-
- INPUT
-
- OUTPUT
-
-->
<SETVAR NAME='_IS_TREE_ELEMENT_' VALUE='true'/>

<SCRIPT LANGUAGE="JavaScript">
function Fixpagename(ourPage,action)
{
var obj = document.forms[0];

	obj.elements['pagename'].value = "OpenMarket/Xcelerate/Admin/"+ourPage;
	obj.elements['action'].value = action;
}

<![CDATA[
function CheckFields(type,ourPage,action)
{
var obj = document.forms[0];

	var fieldname;
	fieldname = type+"title";
	if (obj.elements[fieldname].value=="")
	{
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifytabtitle"/>");
	<![CDATA[
		obj.elements[fieldname].focus();
		return false;
	}
	
	if (obj.elements[fieldname].value.length > 64)
	{
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/TitleShouldBeMaximum64Characters"/>");
	<![CDATA[
		obj.elements[fieldname].focus();
		return false;
	}
	
	fieldname = type+"roles";
	var numSelected=0;
	var Roles = obj.elements[fieldname];
	for (var i=0;i<Roles.options.length;i++)
	{
		if (Roles.options[i].selected)
			numSelected++;
	}
	
	if (numSelected==0)
	{
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifytabroles"/>");
	<![CDATA[
		return false;
	}
	
	fieldname = type+"sites";
	numSelected=0;
	var Sites = obj.elements[fieldname];
	for (var i=0;i<Sites.options.length;i++)
	{
		if (Sites.options[i].selected)
			numSelected++;
	}
	
	if (numSelected==0)
	{
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/Error/mustspecifytabsites"/>");
	<![CDATA[
		return false;
	}
	
	obj.elements['pagename'].value = "OpenMarket/Xcelerate/Admin/"+ourPage;
	obj.elements['action'].value = action;
	
}

function moveup(src)
{
	var i, temp;
	for (i=0; i<src.options.length; i++)
	{
		if (src.options[i].selected)
		{
			if (i!=0)
			{
				temp = src.options[i-1];
				items=new Option(temp.text,temp.value);
				otheritem=new Option(src.options[i].text,src.options[i].value);
				otheritem.selected=1;
				var j=i-1;
				src.options[j]=otheritem;
				src.options[i]=items;
			}
		}
	}
}

function movedown(src)
{
	var i, temp;
	for (i=src.options.length-1; i>=0; i--)
	{
		if (src.options[i].selected)
		{
			if (i!=src.options.length-1)
			{
				temp = src.options[i+1];
				items=new Option(temp.text,temp.value);
				otheritem=new Option(src.options[i].text,src.options[i].value);
				otheritem.selected=1;
				var j=i+1;
				src.options[j]=otheritem;
				src.options[i]=items;
			}
		}
	}
}

function moveleft(src,target)
{
	var sc, itemText, i, newIndex, listy;
	for (i=0; i<src.options.length; i++)
	{
		if (src.options[i].selected)
		{
			var sc=i;
			var o=src.options[sc];
			items=new Option(o.text,o.value);
			
			newIndex=target.options.length;
			target.options[newIndex]=items;
			target.options[newIndex].selected=true;
		}
	}
	i = 0;
	while (i<src.options.length)
	{
		if (src.options[i].selected)
			src.options[i]=null
		else
			i = i + 1;
	}
	delNul(src);
	delNul(target);
}

function moveright(src,target,prepend,required)
{
	var sc, itemText, i, oldIndex, numSelected, newIndex, listy;
	numSelected=0;
	for (i=0; i<src.options.length; i++)
	{
		if (src.options[i].selected)
		{
			var sc=i;
			var o=src.options[sc];
			items=new Option(o.text,o.value);
			
			newIndex=target.options.length;
			target.options[newIndex]=items;
			
			target.options[newIndex].selected=true;
			oldIndex=i;
			numSelected++;
		}
	}
	//[2007-08-30 KG] If nothing was selected, we have nothing to do.
	if (numSelected < 1) return;

	i = 0;
	while (i<src.options.length)
	{
		if (src.options[i].selected)
			src.options[i]=null
		else
			i = i + 1;
	}
	delNul(src);
	delNul(target);

	//[2007-08-30 KG] we changed target's selection - trigger onChange!
	target.onchange();
	
	if (src.options.length>0)
	{
		if (src.options.length>(oldIndex-numSelected+1))
			src.options[oldIndex-numSelected+1].selected=true;
		else
			src.options[src.options.length-1].selected=true;
	}
}
function trim(value){
	//\u00A0 is the hex value of &nbsp;this trim() will remove the &nbsp;s also
	return(value.replace(/^[\s\u00A0]+|[\s\u00A0]+$/g, '')); 
}
function movesectright(srcname,srcurl,target)
{
	var items, newindex;
	if (trim(srcname.value) == ''){
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/TreeTabSectionNameCantBeBlank" ENCODE="false"/>");
	<![CDATA[
		return false;
	}
	items=new Option(srcname.value,srcname.value+":"+srcurl.value);
	newindex=target.options.length;
	target.options[newindex]=items;
	target.options[newindex].selected=true;
	//[2007-08-30 KG] we changed target's selection - trigger onChange!
	target.onchange();
	
	delNul(target);
}

function editsect(srcname,srcurl,target)
{
	var items, selindex;
	if (trim(srcname.value) == ''){
	]]>
		alert("<XLAT.STREAM KEY="dvin/UI/Admin/TreeTabSectionNameCantBeBlank" ENCODE="false"/>");
	<![CDATA[
		return false;
	}
	items = new Option(srcname.value,srcname.value+":"+srcurl.value);
	selindex=target.options.selectedIndex;
	//[2007-08-30 KG] prevent out-of-bounds exception due to no selection
	if (selindex < 0 || selindex >= target.options.length)
		return false;
	target.options[selindex]=items;
	target.options[selindex].selected=true;
	delNul(target);
}

function displayName(src,target,targeturl)
{
	//[2007-08-30 KG] prevent exception upon selecting nothing.
	var selindex = src.options.selectedIndex;
	if (selindex < 0 || selindex > src.options.length) return;
	target.value = src.options[selindex].text;
	var str = src.options[selindex].value;
	var indx = str.indexOf(":");
	if(indx!= -1)
		targeturl.value = str.substring(indx + 1);
}


function delNul(lst){
	i = 0;
	while (i<lst.options.length) {
		if (lst.options[i].value==-1)
			lst.options[i]=null;
		else
			i = i + 1;
	}
}

function selAll(lst){
 if (!lst) return;
	for (i=0; i<lst.options.length; i++)
		lst.options[i].selected=true
	delNul(lst)
}

function selAllAll(){
	var obj = document.forms[0].elements[0];
	selAll(obj.form.elements['SelectedSections']);
}
]]>
</SCRIPT>


<input TYPE="HIDDEN" NAME="pagename" VALUE="xyz"/>
<input TYPE="HIDDEN" NAME="action" VALUE="none"/>
<STRING.ENCODE VARIABLE="cs_environment" VARNAME="cs_environment"/>
<STRING.ENCODE VARIABLE="cs_imagedir" VARNAME="cs_imagedir"/>
<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="cs_formmode"/>
<IF COND="Variables.action=none">
<THEN>
	<SETVAR NAME="action" VALUE="Variables.empty"/>
</THEN>
</IF>
<IF COND="IsVariable.action=false">
<THEN>
	<SETVAR NAME="action" VALUE="Variables.empty"/>
</THEN>
</IF>

<IF COND="Variables.action=Save">
<THEN>
	<STRING.ENCODE VARIABLE="New:title" VARNAME="New:title"/>
	<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabPreUpdate">
		<argument NAME="nameOfTab" VALUE="Variables.New:title" />
	</callelement>
	<IF COND="Variables.TabAlreadyExists=false">
	<THEN>
		<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
		<SETVAR NAME="action" VALUE="View"/>
	</THEN>
	<ELSE>
		<XLAT.LOOKUP KEY="dvin/UI/Error/treeTabAlreadyExistsForNew" VARNAME="treeTabAlreadyExistsForNew"/>
		<div class="width-outer-70">
		<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
			<argument NAME="severity" value="error" />
			<argument NAME="msgtext" value="Variables.treeTabAlreadyExistsForNew" />
		</callelement>
		</div>
		<SETVAR NAME="action" VALUE="list"/>	
	</ELSE>
	</IF>
</THEN>
</IF>
<IF COND="Variables.action=Update">
<THEN>
	<STRING.ENCODE VARIABLE="Edit:title" VARNAME="Edit:title"/>
	<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabPreUpdate">
		<argument NAME="nameOfTab" VALUE="Variables.Edit:title" />
	</callelement>
	<IF COND="Variables.EditOld:title!=Variables.Edit:title">
		<THEN>
			<IF COND="Variables.TabAlreadyExists=false">
			<THEN>
				<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
				<SETVAR NAME="action" VALUE="View"/>	
			</THEN>
			<ELSE>
				<XLAT.LOOKUP KEY="dvin/UI/Error/treeTabAlreadyExistsForEdit" VARNAME="treeTabAlreadyExistsForEdit"/>
				<div class="width-outer-70">
				<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
					<argument NAME="severity" value="error" />
					<argument NAME="msgtext" value="Variables.treeTabAlreadyExistsForEdit" />
				</callelement>
				</div>
				<SETVAR NAME="action" VALUE="list"/>
			</ELSE>
			</IF>
		</THEN>
		<ELSE>
			<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
			<SETVAR NAME="action" VALUE="View"/>	
		</ELSE>
	</IF>
</THEN>
</IF>
<IF COND="Variables.action=Remove">
<THEN>
	<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
	<SETVAR NAME="action" VALUE="Variables.empty"/>
</THEN>
</IF>
<IF COND="Variables.action=SaveOrder">
<THEN>
	<callelement NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
	<SETVAR NAME="action" VALUE="Variables.empty"/>
</THEN>
</IF>


<IF COND="Variables.action=confirmdelete">
<THEN>

<TTM.LOAD OBJVARNAME="tab" ID="Variables.tabid"/>

	<TREETAB.SCATTER NAME="tab" PREFIX="View:"/>
	<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/DeleteTreeTab"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
	</table>
		
		<XLAT.LOOKUP KEY="dvin/UI/Admin/DeletethistreetabQ" VARNAME="msgtext" ENCODE="false"/>    
	<div class="width-outer-70">		
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/ShowMessage">
		<argument NAME="severity" VALUE="warning"/>
	</callelement>	
	</div>	

	<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
	<tr><td>
		<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/Title"/>:
				</td>
				<td class="form-inset">
			 		<STRING.STREAM VALUE="Variables.View:title"/>
				</td><td></td>
			</tr>
			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/Tooltip"/>:
				</td>
				<td class="form-inset">
					<STRING.STREAM VALUE="Variables.View:tooltip"/>
				</td><td><BR /></td>
			</tr>
	
			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text" NOWRAP="NOWRAP">
					<XLAT.STREAM KEY="dvin/Common/Sites"/>:
				</td>
				<td class="form-inset">
						<IF COND="Variables.View:sites!=Variables.empty">
						<THEN>
						<IF COND="Variables.View:sites=_ALL_"><!-- corresponding to Any -->
						<THEN>
							<XLAT.STREAM KEY="dvin/Common/AnySite"/><br/>
						</THEN>
						<ELSE>
						
							<STRINGLIST NAME="siteList" STR="Variables.View:sites" DELIM=";"/>
							<LOOP LIST="siteList">
								<IF COND="siteList.ITEM=0">
								<THEN>
									<SETVAR NAME="pubname" VALUE="Management Site"/>
								</THEN>
								<ELSE>
									<PUBLICATION.LOAD NAME="pub" FIELD="id" VALUE="siteList.ITEM"/>
									<PUBLICATION.GET NAME="pub" FIELD="name" OUTPUT="pubname"/>
								</ELSE>
								</IF>
								<STRING.STREAM VALUE="Variables.pubname"/><br/>
							</LOOP>
						</ELSE>
						</IF>
						</THEN>
						</IF>
				</td><td></td>
			</tr>

			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/RequiredRoles"/>:
				</td>
				<td class="form-inset">
					<IF COND="Variables.View:roles=_ALL_">
					<THEN>
						<XLAT.STREAM KEY="dvin/Common/AnyRole"/><br />
					</THEN>
					<ELSE>
					<SUBSTITUTE STR="Variables.View:roles" WHAT="," WITH=",%20" OUTSTR="roleStr"/>
					<STRING.STREAM VALUE="Variables.roleStr"/>
					</ELSE>
					</IF>
				</td><td></td>
			</tr>
         	<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/UI/Admin/TabContents"/>:
				</td>
				
				<ASSETTYPE.LIST LIST="AllTypes" ORDER="description"/>
				<HASH.CREATE NAME="typesHash" LIST="AllTypes" COLUMN="assettype"/>
				
				<td class="form-inset">
					<IF COND="Variables.View:sectionTotal!=0">
					<THEN>
						<SETCOUNTER NAME="count" VALUE="0"/>
						<LOOP COUNT="Variables.View:sectionTotal">
							<SETVAR NAME="populate" VALUE="Variables.View:sectionCounters.countpopulate"/>
							<SETVAR NAME="itemname" VALUE="Variables.View:sectionCounters.countname"/>
							<SETVAR NAME="displayType" VALUE="Variables.itemname"/>

								<HASH.CONTAINS NAME="typesHash" VALUE="Variables.itemname" VARNAME="hasit"/>
								<IF COND="Variables.hasit=true">
								<THEN>
									<ASSETTYPE.LOAD NAME="type" TYPE="Variables.itemname"/>
									<ASSETTYPE.SCATTER NAME="type" PREFIX="AssetTypeObj"/>
									<SETVAR NAME="displayType" VALUE="Variables.AssetTypeObj:description"/>
								</THEN>
								</IF>

					<INCCOUNTER NAME="count" VALUE="1"/>
					<IF COND="Variables.View:sectionTotal=Counters.count"><THEN><IMG src="Variables.cs_imagedir/graphics/common/icon/iconPathEnd.gif" ALIGN="top" REPLACEALL="Variables.cs_imagedir"/></THEN>
						<ELSE><IMG src="Variables.cs_imagedir/graphics/common/icon/iconPathBranch.gif" ALIGN="top" REPLACEALL="Variables.cs_imagedir"/></ELSE>
						</IF><STRING.STREAM VALUE="Variables.displayType"/><!-- <STRING.STREAM VALUE="Variables.itemname -- Variables.populate"/> --><br/>
						
						</LOOP>
					</THEN>
					</IF>
				</td><td></td>
			</tr>
   			<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>			
			<tr>
				<td class="form-label-text">
					<XLAT.STREAM KEY="dvin/Common/ID"/>:
				</td>
				<td class="form-inset">
					<INPUT TYPE="HIDDEN" NAME="tabid" VALUE="Variables.tabid" REPLACEALL="Variables.tabid"/>
					<STRING.STREAM VALUE="Variables.tabid"/>
				</td>
			</tr>			
		</table>
	</td></tr>
</table>

<XLAT.LOOKUP KEY="dvin/UI/Admin/Deletethistreetab" VARNAME="_XLAT_" ESCAPE="true"/>
<XLAT.LOOKUP KEY="dvin/UI/Cancel" VARNAME="_status_" ESCAPE="true"/>
<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/TreeTabManager" outstring="TabViewURL">
    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
	<satellite.argument name="action" value="View"/>
	<satellite.argument name="tabid" value="Variables.tabid"/>
</SATELLITE.LINK>
<div class="width-outer-70">
<A HREF="Variables.TabViewURL" onmouseover="window.status='Variables._status_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._status_,Variables.TabViewURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/Cancel"/></CALLELEMENT></A>
<A HREF="javascript:void(0);" onClick="if(Fixpagename('TreeTabManager','Remove')!=false){document.forms['AppForm'].submit(); return false;}" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/DeleteTreeTab"/></CALLELEMENT></A>
</div>	
</THEN>
</IF>


<IF COND="Variables.action=list">
<THEN>
<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
	<tr><td>
		<span class="title-text"><XLAT.STREAM KEY="dvin/UI/Admin/TreeTabs"/></span>
	</td></tr>
	<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
</table>

	<TTM.GETALLORDEREDTABS LISTVARNAME="tabs" ORDER="title"/>
	<IF COND="Variables.errno=-101">
	<THEN>
		<tr><td>
			<XLAT.STREAM KEY="dvin/UI/Notabsfound"/>
		</td></tr>
	</THEN>
	<ELSE>
		<table BORDER="0" CELLSPACING="0" CELLPADDING="0" class="width-outer-30">
			<tr>
				<td></td><td class="tile-dark" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
			</tr>
			<tr>
				<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
				<td >
					<table class="width-inner-100" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff"><tr><td colspan="7" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
						<tr><td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
							<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
							<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Title"/></DIV></td>
							<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/Tooltip"/></DIV></td>
							<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;</td>
						</tr>
							<tr><td colspan="7" class="tile-dark"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td></tr>
							<!-- Loop over all search results. -->
					   			<setvar NAME="rowStyle" VALUE="tile-row-normal"/>
								<SETVAR NAME="separatorLine" VALUE="0"/>
							<LOOP LIST="tabs">

									<IF COND="Variables.separatorLine=1">
									<THEN>
										<!--<tr>
											<td colspan="7" class="light-line-color"><img height="1" width="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
										</tr>-->
									</THEN>
									</IF>
									<SETVAR NAME="separatorLine" VALUE="1"/>
			
							<tr class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle"><td><BR /></td>
							<td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
								<XLAT.LOOKUP KEY="dvin/UI/Admin/InspectThisTab" VARNAME="alt"/>
								<XLAT.LOOKUP KEY="dvin/Common/Inspect" ESCAPE="true" VARNAME="statustxt"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="Variables.pagename" outstring="urlvarpagename">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="View"/>
                                          <satellite.argument name="tabid" value="tabs.id"/>
                                           </SATELLITE.LINK>
								<A HREF="Variables.urlvarpagename" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlvarpagename,Variables.statustxt"><img hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconInspectContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/EditThisTab" VARNAME="alt"/>
								<XLAT.LOOKUP KEY="dvin/Common/Edit" ESCAPE="true" VARNAME="statustxt"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="Variables.pagename" outstring="urlvarpagename">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="Edit"/>
                                          <satellite.argument name="tabid" value="tabs.id"/>
                                           </SATELLITE.LINK>
								<A HREF="Variables.urlvarpagename" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlvarpagename,Variables.statustxt"><img hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconEditContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
								<STRING.ENCODE LIST="tabs" COLUMN="fw_uid" VARNAME="tabsfw_uid"/>
								<CALLELEMENT NAME="OpenMarket/Gator/UIFramework/TreeTabSysCheck" >
									<ARGUMENT NAME="tabuid" VALUE="Variables.tabsfw_uid" />
								</CALLELEMENT>
								<XLAT.LOOKUP KEY="dvin/Common/Delete" ESCAPE="true" VARNAME="statustxt"/>
								<XLAT.LOOKUP KEY="dvin/UI/Admin/DeleteThisTab" VARNAME="alt"/>
                                <SATELLITE.LINK ASSEMBLER="query" pagename="Variables.pagename" outstring="urlvarpagename">
                                    <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                    <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="confirmdelete"/>
                                          <satellite.argument name="tabid" value="tabs.id"/>
                                           </SATELLITE.LINK>
                                <IF COND="Variables.systab=false" >
                                <THEN>
								<A HREF="Variables.urlvarpagename" onmouseover="window.status='Variables.statustxt';return true;" onmouseout="window.status='';return true" REPLACEALL="Variables.urlvarpagename,Variables.statustxt"><img hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContent.gif"  border="0" alt="Variables.alt" title="Variables.alt"  REPLACEALL="Variables.cs_imagedir,Variables.alt"/></A>
								</THEN>
								<ELSE>
								<img hspace="2" vspace="4" src="Variables.cs_imagedir/graphics/common/icon/iconDeleteContentX.gif"  border="0" REPLACEALL="Variables.cs_imagedir"/>
								</ELSE>
								</IF>
							</td>
					                <td><BR /></td><td VALIGN="TOP" NOWRAP="NOWRAP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
                                            <SATELLITE.LINK ASSEMBLER="query" pagename="Variables.pagename" outstring="urlvarpagename">
                                                <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                                                <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="View"/>
                                          <satellite.argument name="tabid" value="tabs.id"/>
                                           </SATELLITE.LINK>
										<A HREF="Variables.urlvarpagename" REPLACEALL="Variables.urlvarpagename">
										<IF COND="Variables.systab=false" >
											<THEN>
												<STRING.STREAM VALUE="tabs.title"/>
											</THEN>
											<ELSE>
												<SUBSTITUTE STR="tabs.title" WHAT="%20" WITH="" OUTSTR="titleword"/>
												<XLAT.LOOKUP KEY="dvin/UI/Treetab/Variables.titleword" VARNAME="NewWord" ESCAPE="true"/>	
												<STRING.STREAM VALUE="Variables.NewWord"/>
											</ELSE>
										</IF>
										</A>
										</DIV>
									</td>
									<td><BR /></td><td VALIGN="TOP" ALIGN="LEFT">
					                    <DIV class="small-text-inset">
											<STRING.STREAM VALUE="tabs.tooltip"/>
					                    </DIV>
					                 </td>
					                 	<td><BR /></td></tr>
					            <IF COND="Variables.rowStyle=tile-row-normal">
					            <THEN><SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
					            </THEN>
					            <ELSE><SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
					            </ELSE>
					            </IF>
							</LOOP>
							</table>
						</td>
						<td class="tile-dark" VALIGN="top" WIDTH="1" NOWRAP="nowrap"><BR /></td>
						</tr>
					<tr>
					<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
					</tr>
					<tr>
					<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
					</tr>
					</table> 
		
			<XLAT.LOOKUP KEY="dvin/UI/Admin/AddNewTreeTab" VARNAME="NewTreeALT" ESCAPE="true"/>	
            <SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/TreeTabManager" outstring="TreeTabURL">
                <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="Add"/>
                                           </SATELLITE.LINK>
			<div class="width-outer-70">
			<A HREF="Variables.TreeTabURL" onmouseover="window.status='Variables.NewTreeALT';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables.NewTreeALT,Variables.TreeTabURL"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/AddNewTreeTab"/></CALLELEMENT></A>
			<SATELLITE.LINK ASSEMBLER="query" pagename="OpenMarket/Xcelerate/Admin/TreeTabManager" outstring="TreeTabURL">
                <satellite.argument name="cs_environment" value="Variables.cs_environment"/>
                <satellite.argument name="cs_formmode" value="Variables.cs_formmode"/>
                                          <satellite.argument name="action" value="Order"/>
                                           </SATELLITE.LINK>
			<XLAT.LOOKUP KEY="dvin/UI/Admin/OrderTreeTabs" VARNAME="OrderTreeTabs" ESCAPE="true"/>
            <A HREF="Variables.TreeTabURL" onmouseover="window.status='Variables.OrderTreeTabs';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables.TreeTabURL,Variables.OrderTreeTabs"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="UI/Forms/OrderTreeTabs"/></CALLELEMENT></A>
			</div>
		</ELSE>
		</IF>
		
    		
</THEN>
<ELSE>
	<IF COND="Variables.action!=Variables.empty">
	<THEN>
        <IF COND="IsElement.OpenMarket/Gator/UIFramework/TreeTabVariables.action=true">
            <THEN>
                <CALLELEMENT NAME="OpenMarket/Gator/UIFramework/TreeTabVariables.action"/>
            </THEN>
        </IF>
	</THEN>
	</IF>
</ELSE>
</IF>
<REMOVEVAR NAME='_IS_TREE_ELEMENT_'/>
</FTCS> 
