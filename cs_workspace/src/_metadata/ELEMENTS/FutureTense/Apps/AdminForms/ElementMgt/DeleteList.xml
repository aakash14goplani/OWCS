<?XML VERSION="1.0" ?>
<!DOCTYPE FTCS SYSTEM "futuretense_cs.dtd">
<FTCS Version="1.1">

<!-- ####################################################################### -->
<!-- ElementMgt/DeleteList                                                   -->
<!-- FutureTense, Inc.                                                       -->
<!-- ####################################################################### -->

<IF COND="IsVariable.key=true"><THEN>
    <IF COND="Variables.key!=%"><THEN>
        <SETSSVAR NAME="elementkey" VALUE="Variables.key"/>
    </THEN></IF>
</THEN></IF>
<SETVAR NAME="tablename" VALUE="ElementCatalog"/>
<SETVAR NAME="elementname" VALUE="Variables.key"/>
<SELECTTO FROM="Variables.tablename" WHAT="*" LIST="ResultsList" WHERE="elementname" />

<IF COND="ResultsList.#numRows=0">
    <THEN>
		<SATELLITE.LINK ASSEMBLER="query" pagename="FutureTense/Apps/AdminForms/AdminForm" outstring="ExecuteURL">
			<satellite.argument name="tool" value="ElementMgt"/>
			<satellite.argument name="form" value="main"/>
		</SATELLITE.LINK>
		<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
			<tr><td>
				<span class="title-text"><XLAT.STREAM KEY="dvin/UI/CSAdminForms/NoElementsMatch"/></span>
			</td></tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
		</table>        
		<A  HREF="Variables.ExecuteURL" onmouseover="window.status='Variables._XLAT_';return true;" 
			onmouseout="window.status='';return true;" 
			REPLACEALL="Variables.ExecuteURL">
		<CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="dvin/UI/Back"/></CALLELEMENT></A>
    </THEN>
    <ELSE>
        <SATELLITE.FORM ASSEMBLER="query" ACTION="CatalogManager" METHOD="POST">
		    <STRING.ENCODE VARIABLE="charset" VARNAME="OutputQString"/>
			<INPUT TYPE="HIDDEN" NAME="_charset_" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
			<STRING.ENCODE VARIABLE="cs_environment" VARNAME="OutputQString"/>
			<INPUT TYPE="hidden"  NAME="cs_environment" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
			<STRING.ENCODE VARIABLE="cs_formmode" VARNAME="OutputQString"/>
			<INPUT TYPE="hidden"  NAME="cs_formmode" VALUE="Variables.OutputQString" REPLACEALL="Variables.OutputQString"/>
		<table class="width-outer-70" cellspacing="0" cellpadding="0" border="0">
			<tr><td>
				<span class="title-text"><XLAT.STREAM KEY="dvin/UI/CSAdminForms/DeleteElements"/></span>
			</td></tr>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/TitleBar"/>
		</table>            
        <TABLE class="width-outer-70"  BGCOLOR="#FFFFFF" BORDER="0" CELLPADDING="0" CELLSPACING="0">
        	<TR>
        		<TD class="form-label-inset" COLSPAN="3" NOWRAP="true">
                    <XLAT.STREAM KEY="dvin/UI/CSAdminForms/checkelementstodelete"/>
        		</TD>
        	</TR>
        	<TR>
        		<TD COLSPAN="3" NOWRAP="true">
					<XLAT.LOOKUP KEY="dvin/Common/All" VARNAME="_XLAT_"/>
					<A onClick="selectAll(document.forms[0],true,'FTcheckbox');" HREF="#" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="dvin/Common/All"/></CALLELEMENT></A>
					<XLAT.LOOKUP KEY="dvin/Common/None" VARNAME="_XLAT_"/>
					<A onClick="selectAll(document.forms[0],false,'FTcheckbox');" HREF="#" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="dvin/Common/None"/></CALLELEMENT></A>
        		</TD>
        	</TR>
        	<tr><td colspan="3">
				<TABLE width="100%" BORDER="0" CELLSPACING="0" CELLPADDING="0">
					<tr>
						<td></td>
						<td class="tile-dark" HEIGHT="1">
							<IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" 
							REPLACEALL="Variables.cs_imagedir"/> 
						</td>
						<td></td>
					</tr>
					<tr>
						<td class="tile-dark" VALIGN="top" WIDTH="1"><BR/></td>
						<td> 
							<TABLE width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff">
							<tr>
								<td colspan="7" class="tile-highlight"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/>
								</td>
							</tr>
							<tr>
								<td class="tile-a" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><!--<XLAT.STREAM KEY="dvin/AdminForms/Delete?"/>--></DIV></td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"> <XLAT.STREAM KEY="dvin/UI/Admin/ElementName"/></DIV></td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td>
								<td class="tile-b" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir"><DIV class="new-table-title"><XLAT.STREAM KEY="dvin/UI/CSAdminForms/URL"/></DIV></td>
								<td class="tile-c" background="Variables.cs_imagedir/graphics/common/screen/grad.gif" REPLACEALL="Variables.cs_imagedir">&nbsp;&nbsp;&nbsp;&nbsp;</td>
							</tr>	
							<setvar NAME="rowStyle" VALUE="tile-row-normal"/>
							<SETVAR NAME="separatorLine" VALUE="0"/>
							<LOOP LIST="ResultsList">
								<SETVAR NAME="separatorLine" VALUE="1"/>
								<TR class="Variables.rowStyle"  REPLACEALL="Variables.rowStyle">
									<td><BR /></td>
									<TD class="small-text-inset" style="vertical-align: middle;" NOWRAP="NOWRAP">
										<INPUT TYPE="checkbox" NAME="FTcheckbox"/>
									</TD>
									<td><BR /></td>
									<TD class="small-text-inset" style="white-space: normal;" VALIGN="BASELINE">
										<STRING.ENCODE LIST="ResultsList" COLUMN="elementname" VARNAME="encelementname"/>
										<REPLACE STR="Variables.encelementname">
											<INPUT TYPE="HIDDEN" NAME="elementname" VALUE="Variables.encelementname"/>
											Variables.encelementname
										</REPLACE>
									</TD>
									<td><BR /></td>
									<TD class="small-text-inset" style="white-space: normal;" VALIGN="BASELINE">
										<CSVAR NAME="ResultsList.url"/>
									</TD>
									<td><BR /></td>
								</TR>
								<IF COND="Variables.rowStyle=tile-row-normal">
									<THEN>
										<SETVAR NAME="rowStyle" VALUE="tile-row-highlight"/>
									</THEN>
									<ELSE>
										<SETVAR NAME="rowStyle" VALUE="tile-row-normal"/>
									</ELSE>
								</IF>
							</LOOP>
						</TABLE>
					</td><td class="tile-dark" VALIGN="top" WIDTH="1"><BR /></td>
					</tr>
					<tr>
						<td colspan="3" class="tile-dark" VALIGN="TOP" HEIGHT="1"><IMG WIDTH="1" HEIGHT="1" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td>
					</tr>
					<tr>
						<td></td><td background="Variables.cs_imagedir/graphics/common/screen/shadow.gif" REPLACEALL="Variables.cs_imagedir"><IMG WIDTH="1" HEIGHT="5" src="Variables.cs_imagedir/graphics/common/screen/dotclear.gif" REPLACEALL="Variables.cs_imagedir"/></td><td></td>
					</tr>
				</TABLE> 
			</td></tr>
			<TR>
        		<TD COLSPAN="3" HEIGHT="5"></TD>
        	</TR>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>		
        	<TR>
            	<TD class="form-label-inset" COLSPAN="3">
	            		<INPUT TYPE="CHECKBOX" NAME="Delete uploaded file(s)" VALUE="yes"/><XLAT.STREAM KEY="dvin/UI/CSAdminForms/DeletedUploadFilesQ"/> 
            	</TD>
            </TR>
			<callelement NAME="OpenMarket/Xcelerate/UIFramework/Util/RowSpacer"/>		
        	<TR>
        		<TD align="left" VALIGN="TOP">
					<INPUT TYPE="hidden" NAME="ftcmd" VALUE="deleterows"/>
					<INPUT TYPE="hidden" NAME="tablename" VALUE="ElementCatalog"/>
					<XLAT.LOOKUP KEY="dvin/Common/Delete" VARNAME="_XLAT_"/>
					<A onClick="setupDeleteParams(document.forms[0]); document.forms[0].submit();" HREF="#" onmouseover="window.status='Variables._XLAT_';return true;" onmouseout="window.status='';return true;" REPLACEALL="Variables._XLAT_"><CALLELEMENT NAME="OpenMarket/Xcelerate/UIFramework/Util/TextButton"><ARGUMENT NAME="buttonkey" VALUE="dvin/Common/Delete"/></CALLELEMENT></A>
        		</TD>
        	</TR>
        </TABLE>
        </SATELLITE.FORM>
    </ELSE>
</IF>
</FTCS>